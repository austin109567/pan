const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DaFOBrj8.js","assets/react-vendor-CCReqj_h.js","assets/index-CV8ShvA9.js"])))=>i.map(i=>d[i]);
import{g as ko,c as sn,a as Xn,r as Q,R as H,b as Nl}from"./react-vendor-CCReqj_h.js";var wt={},Ci={};Ci.byteLength=Rl;Ci.toByteArray=Ol;Ci.fromByteArray=zl;var cn=[],Ve=[],kl=typeof Uint8Array<"u"?Uint8Array:Array,Ms="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var or=0,Cl=Ms.length;or<Cl;++or)cn[or]=Ms[or],Ve[Ms.charCodeAt(or)]=or;Ve[45]=62;Ve[95]=63;function Sc(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");e===-1&&(e=t);var n=e===t?0:4-e%4;return[e,n]}function Rl(r){var t=Sc(r),e=t[0],n=t[1];return(e+n)*3/4-n}function Dl(r,t,e){return(t+e)*3/4-e}function Ol(r){var t,e=Sc(r),n=e[0],s=e[1],i=new kl(Dl(r,n,s)),o=0,a=s>0?n-4:n,c;for(c=0;c<a;c+=4)t=Ve[r.charCodeAt(c)]<<18|Ve[r.charCodeAt(c+1)]<<12|Ve[r.charCodeAt(c+2)]<<6|Ve[r.charCodeAt(c+3)],i[o++]=t>>16&255,i[o++]=t>>8&255,i[o++]=t&255;return s===2&&(t=Ve[r.charCodeAt(c)]<<2|Ve[r.charCodeAt(c+1)]>>4,i[o++]=t&255),s===1&&(t=Ve[r.charCodeAt(c)]<<10|Ve[r.charCodeAt(c+1)]<<4|Ve[r.charCodeAt(c+2)]>>2,i[o++]=t>>8&255,i[o++]=t&255),i}function jl(r){return cn[r>>18&63]+cn[r>>12&63]+cn[r>>6&63]+cn[r&63]}function Ul(r,t,e){for(var n,s=[],i=t;i<e;i+=3)n=(r[i]<<16&16711680)+(r[i+1]<<8&65280)+(r[i+2]&255),s.push(jl(n));return s.join("")}function zl(r){for(var t,e=r.length,n=e%3,s=[],i=16383,o=0,a=e-n;o<a;o+=i)s.push(Ul(r,o,o+i>a?a:o+i));return n===1?(t=r[e-1],s.push(cn[t>>2]+cn[t<<4&63]+"==")):n===2&&(t=(r[e-2]<<8)+r[e-1],s.push(cn[t>>10]+cn[t>>4&63]+cn[t<<2&63]+"=")),s.join("")}var Co={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Co.read=function(r,t,e,n,s){var i,o,a=s*8-n-1,c=(1<<a)-1,g=c>>1,p=-7,y=e?s-1:0,I=e?-1:1,M=r[t+y];for(y+=I,i=M&(1<<-p)-1,M>>=-p,p+=a;p>0;i=i*256+r[t+y],y+=I,p-=8);for(o=i&(1<<-p)-1,i>>=-p,p+=n;p>0;o=o*256+r[t+y],y+=I,p-=8);if(i===0)i=1-g;else{if(i===c)return o?NaN:(M?-1:1)*(1/0);o=o+Math.pow(2,n),i=i-g}return(M?-1:1)*o*Math.pow(2,i-n)};Co.write=function(r,t,e,n,s,i){var o,a,c,g=i*8-s-1,p=(1<<g)-1,y=p>>1,I=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,M=n?0:i-1,L=n?1:-1,B=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=p):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+y>=1?t+=I/c:t+=I*Math.pow(2,1-y),t*c>=2&&(o++,c/=2),o+y>=p?(a=0,o=p):o+y>=1?(a=(t*c-1)*Math.pow(2,s),o=o+y):(a=t*Math.pow(2,y-1)*Math.pow(2,s),o=0));s>=8;r[e+M]=a&255,M+=L,a/=256,s-=8);for(o=o<<s|a,g+=s;g>0;r[e+M]=o&255,M+=L,o/=256,g-=8);r[e+M-L]|=B*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const t=Ci,e=Co,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=a,r.SlowBuffer=C,r.INSPECT_MAX_BYTES=50;const s=2147483647;r.kMaxLength=s,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const b=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(b,l),b.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(b){if(b>s)throw new RangeError('The value "'+b+'" is invalid for option "size"');const l=new Uint8Array(b);return Object.setPrototypeOf(l,a.prototype),l}function a(b,l,h){if(typeof b=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(b)}return c(b,l,h)}a.poolSize=8192;function c(b,l,h){if(typeof b=="string")return I(b,l);if(ArrayBuffer.isView(b))return L(b);if(b==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b);if(xe(b,ArrayBuffer)||b&&xe(b.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(xe(b,SharedArrayBuffer)||b&&xe(b.buffer,SharedArrayBuffer)))return B(b,l,h);if(typeof b=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const x=b.valueOf&&b.valueOf();if(x!=null&&x!==b)return a.from(x,l,h);const D=v(b);if(D)return D;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof b[Symbol.toPrimitive]=="function")return a.from(b[Symbol.toPrimitive]("string"),l,h);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b)}a.from=function(b,l,h){return c(b,l,h)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function g(b){if(typeof b!="number")throw new TypeError('"size" argument must be of type number');if(b<0)throw new RangeError('The value "'+b+'" is invalid for option "size"')}function p(b,l,h){return g(b),b<=0?o(b):l!==void 0?typeof h=="string"?o(b).fill(l,h):o(b).fill(l):o(b)}a.alloc=function(b,l,h){return p(b,l,h)};function y(b){return g(b),o(b<0?0:k(b)|0)}a.allocUnsafe=function(b){return y(b)},a.allocUnsafeSlow=function(b){return y(b)};function I(b,l){if((typeof l!="string"||l==="")&&(l="utf8"),!a.isEncoding(l))throw new TypeError("Unknown encoding: "+l);const h=_(b,l)|0;let x=o(h);const D=x.write(b,l);return D!==h&&(x=x.slice(0,D)),x}function M(b){const l=b.length<0?0:k(b.length)|0,h=o(l);for(let x=0;x<l;x+=1)h[x]=b[x]&255;return h}function L(b){if(xe(b,Uint8Array)){const l=new Uint8Array(b);return B(l.buffer,l.byteOffset,l.byteLength)}return M(b)}function B(b,l,h){if(l<0||b.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(b.byteLength<l+(h||0))throw new RangeError('"length" is outside of buffer bounds');let x;return l===void 0&&h===void 0?x=new Uint8Array(b):h===void 0?x=new Uint8Array(b,l):x=new Uint8Array(b,l,h),Object.setPrototypeOf(x,a.prototype),x}function v(b){if(a.isBuffer(b)){const l=k(b.length)|0,h=o(l);return h.length===0||b.copy(h,0,0,l),h}if(b.length!==void 0)return typeof b.length!="number"||Dt(b.length)?o(0):M(b);if(b.type==="Buffer"&&Array.isArray(b.data))return M(b.data)}function k(b){if(b>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return b|0}function C(b){return+b!=b&&(b=0),a.alloc(+b)}a.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==a.prototype},a.compare=function(l,h){if(xe(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),xe(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),!a.isBuffer(l)||!a.isBuffer(h))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===h)return 0;let x=l.length,D=h.length;for(let j=0,W=Math.min(x,D);j<W;++j)if(l[j]!==h[j]){x=l[j],D=h[j];break}return x<D?-1:D<x?1:0},a.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(l,h){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return a.alloc(0);let x;if(h===void 0)for(h=0,x=0;x<l.length;++x)h+=l[x].length;const D=a.allocUnsafe(h);let j=0;for(x=0;x<l.length;++x){let W=l[x];if(xe(W,Uint8Array))j+W.length>D.length?(a.isBuffer(W)||(W=a.from(W)),W.copy(D,j)):Uint8Array.prototype.set.call(D,W,j);else if(a.isBuffer(W))W.copy(D,j);else throw new TypeError('"list" argument must be an Array of Buffers');j+=W.length}return D};function _(b,l){if(a.isBuffer(b))return b.length;if(ArrayBuffer.isView(b)||xe(b,ArrayBuffer))return b.byteLength;if(typeof b!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof b);const h=b.length,x=arguments.length>2&&arguments[2]===!0;if(!x&&h===0)return 0;let D=!1;for(;;)switch(l){case"ascii":case"latin1":case"binary":return h;case"utf8":case"utf-8":return Ot(b).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h*2;case"hex":return h>>>1;case"base64":return jt(b).length;default:if(D)return x?-1:Ot(b).length;l=(""+l).toLowerCase(),D=!0}}a.byteLength=_;function O(b,l,h){let x=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((h===void 0||h>this.length)&&(h=this.length),h<=0)||(h>>>=0,l>>>=0,h<=l))return"";for(b||(b="utf8");;)switch(b){case"hex":return N(this,l,h);case"utf8":case"utf-8":return u(this,l,h);case"ascii":return m(this,l,h);case"latin1":case"binary":return E(this,l,h);case"base64":return T(this,l,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,l,h);default:if(x)throw new TypeError("Unknown encoding: "+b);b=(b+"").toLowerCase(),x=!0}}a.prototype._isBuffer=!0;function P(b,l,h){const x=b[l];b[l]=b[h],b[h]=x}a.prototype.swap16=function(){const l=this.length;if(l%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let h=0;h<l;h+=2)P(this,h,h+1);return this},a.prototype.swap32=function(){const l=this.length;if(l%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let h=0;h<l;h+=4)P(this,h,h+3),P(this,h+1,h+2);return this},a.prototype.swap64=function(){const l=this.length;if(l%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let h=0;h<l;h+=8)P(this,h,h+7),P(this,h+1,h+6),P(this,h+2,h+5),P(this,h+3,h+4);return this},a.prototype.toString=function(){const l=this.length;return l===0?"":arguments.length===0?u(this,0,l):O.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(l){if(!a.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:a.compare(this,l)===0},a.prototype.inspect=function(){let l="";const h=r.INSPECT_MAX_BYTES;return l=this.toString("hex",0,h).replace(/(.{2})/g,"$1 ").trim(),this.length>h&&(l+=" ... "),"<Buffer "+l+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(l,h,x,D,j){if(xe(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),!a.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(h===void 0&&(h=0),x===void 0&&(x=l?l.length:0),D===void 0&&(D=0),j===void 0&&(j=this.length),h<0||x>l.length||D<0||j>this.length)throw new RangeError("out of range index");if(D>=j&&h>=x)return 0;if(D>=j)return-1;if(h>=x)return 1;if(h>>>=0,x>>>=0,D>>>=0,j>>>=0,this===l)return 0;let W=j-D,bt=x-h;const pt=Math.min(W,bt),gt=this.slice(D,j),Ft=l.slice(h,x);for(let ft=0;ft<pt;++ft)if(gt[ft]!==Ft[ft]){W=gt[ft],bt=Ft[ft];break}return W<bt?-1:bt<W?1:0};function z(b,l,h,x,D){if(b.length===0)return-1;if(typeof h=="string"?(x=h,h=0):h>2147483647?h=2147483647:h<-2147483648&&(h=-2147483648),h=+h,Dt(h)&&(h=D?0:b.length-1),h<0&&(h=b.length+h),h>=b.length){if(D)return-1;h=b.length-1}else if(h<0)if(D)h=0;else return-1;if(typeof l=="string"&&(l=a.from(l,x)),a.isBuffer(l))return l.length===0?-1:$(b,l,h,x,D);if(typeof l=="number")return l=l&255,typeof Uint8Array.prototype.indexOf=="function"?D?Uint8Array.prototype.indexOf.call(b,l,h):Uint8Array.prototype.lastIndexOf.call(b,l,h):$(b,[l],h,x,D);throw new TypeError("val must be string, number or Buffer")}function $(b,l,h,x,D){let j=1,W=b.length,bt=l.length;if(x!==void 0&&(x=String(x).toLowerCase(),x==="ucs2"||x==="ucs-2"||x==="utf16le"||x==="utf-16le")){if(b.length<2||l.length<2)return-1;j=2,W/=2,bt/=2,h/=2}function pt(Ft,ft){return j===1?Ft[ft]:Ft.readUInt16BE(ft*j)}let gt;if(D){let Ft=-1;for(gt=h;gt<W;gt++)if(pt(b,gt)===pt(l,Ft===-1?0:gt-Ft)){if(Ft===-1&&(Ft=gt),gt-Ft+1===bt)return Ft*j}else Ft!==-1&&(gt-=gt-Ft),Ft=-1}else for(h+bt>W&&(h=W-bt),gt=h;gt>=0;gt--){let Ft=!0;for(let ft=0;ft<bt;ft++)if(pt(b,gt+ft)!==pt(l,ft)){Ft=!1;break}if(Ft)return gt}return-1}a.prototype.includes=function(l,h,x){return this.indexOf(l,h,x)!==-1},a.prototype.indexOf=function(l,h,x){return z(this,l,h,x,!0)},a.prototype.lastIndexOf=function(l,h,x){return z(this,l,h,x,!1)};function K(b,l,h,x){h=Number(h)||0;const D=b.length-h;x?(x=Number(x),x>D&&(x=D)):x=D;const j=l.length;x>j/2&&(x=j/2);let W;for(W=0;W<x;++W){const bt=parseInt(l.substr(W*2,2),16);if(Dt(bt))return W;b[h+W]=bt}return W}function J(b,l,h,x){return Ct(Ot(l,b.length-h),b,h,x)}function ht(b,l,h,x){return Ct($t(l),b,h,x)}function nt(b,l,h,x){return Ct(jt(l),b,h,x)}function rt(b,l,h,x){return Ct(sr(l,b.length-h),b,h,x)}a.prototype.write=function(l,h,x,D){if(h===void 0)D="utf8",x=this.length,h=0;else if(x===void 0&&typeof h=="string")D=h,x=this.length,h=0;else if(isFinite(h))h=h>>>0,isFinite(x)?(x=x>>>0,D===void 0&&(D="utf8")):(D=x,x=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const j=this.length-h;if((x===void 0||x>j)&&(x=j),l.length>0&&(x<0||h<0)||h>this.length)throw new RangeError("Attempt to write outside buffer bounds");D||(D="utf8");let W=!1;for(;;)switch(D){case"hex":return K(this,l,h,x);case"utf8":case"utf-8":return J(this,l,h,x);case"ascii":case"latin1":case"binary":return ht(this,l,h,x);case"base64":return nt(this,l,h,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return rt(this,l,h,x);default:if(W)throw new TypeError("Unknown encoding: "+D);D=(""+D).toLowerCase(),W=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function T(b,l,h){return l===0&&h===b.length?t.fromByteArray(b):t.fromByteArray(b.slice(l,h))}function u(b,l,h){h=Math.min(b.length,h);const x=[];let D=l;for(;D<h;){const j=b[D];let W=null,bt=j>239?4:j>223?3:j>191?2:1;if(D+bt<=h){let pt,gt,Ft,ft;switch(bt){case 1:j<128&&(W=j);break;case 2:pt=b[D+1],(pt&192)===128&&(ft=(j&31)<<6|pt&63,ft>127&&(W=ft));break;case 3:pt=b[D+1],gt=b[D+2],(pt&192)===128&&(gt&192)===128&&(ft=(j&15)<<12|(pt&63)<<6|gt&63,ft>2047&&(ft<55296||ft>57343)&&(W=ft));break;case 4:pt=b[D+1],gt=b[D+2],Ft=b[D+3],(pt&192)===128&&(gt&192)===128&&(Ft&192)===128&&(ft=(j&15)<<18|(pt&63)<<12|(gt&63)<<6|Ft&63,ft>65535&&ft<1114112&&(W=ft))}}W===null?(W=65533,bt=1):W>65535&&(W-=65536,x.push(W>>>10&1023|55296),W=56320|W&1023),x.push(W),D+=bt}return w(x)}const d=4096;function w(b){const l=b.length;if(l<=d)return String.fromCharCode.apply(String,b);let h="",x=0;for(;x<l;)h+=String.fromCharCode.apply(String,b.slice(x,x+=d));return h}function m(b,l,h){let x="";h=Math.min(b.length,h);for(let D=l;D<h;++D)x+=String.fromCharCode(b[D]&127);return x}function E(b,l,h){let x="";h=Math.min(b.length,h);for(let D=l;D<h;++D)x+=String.fromCharCode(b[D]);return x}function N(b,l,h){const x=b.length;(!l||l<0)&&(l=0),(!h||h<0||h>x)&&(h=x);let D="";for(let j=l;j<h;++j)D+=zt[b[j]];return D}function R(b,l,h){const x=b.slice(l,h);let D="";for(let j=0;j<x.length-1;j+=2)D+=String.fromCharCode(x[j]+x[j+1]*256);return D}a.prototype.slice=function(l,h){const x=this.length;l=~~l,h=h===void 0?x:~~h,l<0?(l+=x,l<0&&(l=0)):l>x&&(l=x),h<0?(h+=x,h<0&&(h=0)):h>x&&(h=x),h<l&&(h=l);const D=this.subarray(l,h);return Object.setPrototypeOf(D,a.prototype),D};function S(b,l,h){if(b%1!==0||b<0)throw new RangeError("offset is not uint");if(b+l>h)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(l,h,x){l=l>>>0,h=h>>>0,x||S(l,h,this.length);let D=this[l],j=1,W=0;for(;++W<h&&(j*=256);)D+=this[l+W]*j;return D},a.prototype.readUintBE=a.prototype.readUIntBE=function(l,h,x){l=l>>>0,h=h>>>0,x||S(l,h,this.length);let D=this[l+--h],j=1;for(;h>0&&(j*=256);)D+=this[l+--h]*j;return D},a.prototype.readUint8=a.prototype.readUInt8=function(l,h){return l=l>>>0,h||S(l,1,this.length),this[l]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(l,h){return l=l>>>0,h||S(l,2,this.length),this[l]|this[l+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(l,h){return l=l>>>0,h||S(l,2,this.length),this[l]<<8|this[l+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(l,h){return l=l>>>0,h||S(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(l,h){return l=l>>>0,h||S(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},a.prototype.readBigUInt64LE=Ue(function(l){l=l>>>0,ye(l,"offset");const h=this[l],x=this[l+7];(h===void 0||x===void 0)&&It(l,this.length-8);const D=h+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24,j=this[++l]+this[++l]*2**8+this[++l]*2**16+x*2**24;return BigInt(D)+(BigInt(j)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ue(function(l){l=l>>>0,ye(l,"offset");const h=this[l],x=this[l+7];(h===void 0||x===void 0)&&It(l,this.length-8);const D=h*2**24+this[++l]*2**16+this[++l]*2**8+this[++l],j=this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+x;return(BigInt(D)<<BigInt(32))+BigInt(j)}),a.prototype.readIntLE=function(l,h,x){l=l>>>0,h=h>>>0,x||S(l,h,this.length);let D=this[l],j=1,W=0;for(;++W<h&&(j*=256);)D+=this[l+W]*j;return j*=128,D>=j&&(D-=Math.pow(2,8*h)),D},a.prototype.readIntBE=function(l,h,x){l=l>>>0,h=h>>>0,x||S(l,h,this.length);let D=h,j=1,W=this[l+--D];for(;D>0&&(j*=256);)W+=this[l+--D]*j;return j*=128,W>=j&&(W-=Math.pow(2,8*h)),W},a.prototype.readInt8=function(l,h){return l=l>>>0,h||S(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},a.prototype.readInt16LE=function(l,h){l=l>>>0,h||S(l,2,this.length);const x=this[l]|this[l+1]<<8;return x&32768?x|4294901760:x},a.prototype.readInt16BE=function(l,h){l=l>>>0,h||S(l,2,this.length);const x=this[l+1]|this[l]<<8;return x&32768?x|4294901760:x},a.prototype.readInt32LE=function(l,h){return l=l>>>0,h||S(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},a.prototype.readInt32BE=function(l,h){return l=l>>>0,h||S(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},a.prototype.readBigInt64LE=Ue(function(l){l=l>>>0,ye(l,"offset");const h=this[l],x=this[l+7];(h===void 0||x===void 0)&&It(l,this.length-8);const D=this[l+4]+this[l+5]*2**8+this[l+6]*2**16+(x<<24);return(BigInt(D)<<BigInt(32))+BigInt(h+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24)}),a.prototype.readBigInt64BE=Ue(function(l){l=l>>>0,ye(l,"offset");const h=this[l],x=this[l+7];(h===void 0||x===void 0)&&It(l,this.length-8);const D=(h<<24)+this[++l]*2**16+this[++l]*2**8+this[++l];return(BigInt(D)<<BigInt(32))+BigInt(this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+x)}),a.prototype.readFloatLE=function(l,h){return l=l>>>0,h||S(l,4,this.length),e.read(this,l,!0,23,4)},a.prototype.readFloatBE=function(l,h){return l=l>>>0,h||S(l,4,this.length),e.read(this,l,!1,23,4)},a.prototype.readDoubleLE=function(l,h){return l=l>>>0,h||S(l,8,this.length),e.read(this,l,!0,52,8)},a.prototype.readDoubleBE=function(l,h){return l=l>>>0,h||S(l,8,this.length),e.read(this,l,!1,52,8)};function f(b,l,h,x,D,j){if(!a.isBuffer(b))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>D||l<j)throw new RangeError('"value" argument is out of bounds');if(h+x>b.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(l,h,x,D){if(l=+l,h=h>>>0,x=x>>>0,!D){const bt=Math.pow(2,8*x)-1;f(this,l,h,x,bt,0)}let j=1,W=0;for(this[h]=l&255;++W<x&&(j*=256);)this[h+W]=l/j&255;return h+x},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(l,h,x,D){if(l=+l,h=h>>>0,x=x>>>0,!D){const bt=Math.pow(2,8*x)-1;f(this,l,h,x,bt,0)}let j=x-1,W=1;for(this[h+j]=l&255;--j>=0&&(W*=256);)this[h+j]=l/W&255;return h+x},a.prototype.writeUint8=a.prototype.writeUInt8=function(l,h,x){return l=+l,h=h>>>0,x||f(this,l,h,1,255,0),this[h]=l&255,h+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(l,h,x){return l=+l,h=h>>>0,x||f(this,l,h,2,65535,0),this[h]=l&255,this[h+1]=l>>>8,h+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(l,h,x){return l=+l,h=h>>>0,x||f(this,l,h,2,65535,0),this[h]=l>>>8,this[h+1]=l&255,h+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(l,h,x){return l=+l,h=h>>>0,x||f(this,l,h,4,4294967295,0),this[h+3]=l>>>24,this[h+2]=l>>>16,this[h+1]=l>>>8,this[h]=l&255,h+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(l,h,x){return l=+l,h=h>>>0,x||f(this,l,h,4,4294967295,0),this[h]=l>>>24,this[h+1]=l>>>16,this[h+2]=l>>>8,this[h+3]=l&255,h+4};function A(b,l,h,x,D){St(l,x,D,b,h,7);let j=Number(l&BigInt(4294967295));b[h++]=j,j=j>>8,b[h++]=j,j=j>>8,b[h++]=j,j=j>>8,b[h++]=j;let W=Number(l>>BigInt(32)&BigInt(4294967295));return b[h++]=W,W=W>>8,b[h++]=W,W=W>>8,b[h++]=W,W=W>>8,b[h++]=W,h}function Y(b,l,h,x,D){St(l,x,D,b,h,7);let j=Number(l&BigInt(4294967295));b[h+7]=j,j=j>>8,b[h+6]=j,j=j>>8,b[h+5]=j,j=j>>8,b[h+4]=j;let W=Number(l>>BigInt(32)&BigInt(4294967295));return b[h+3]=W,W=W>>8,b[h+2]=W,W=W>>8,b[h+1]=W,W=W>>8,b[h]=W,h+8}a.prototype.writeBigUInt64LE=Ue(function(l,h=0){return A(this,l,h,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ue(function(l,h=0){return Y(this,l,h,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(l,h,x,D){if(l=+l,h=h>>>0,!D){const pt=Math.pow(2,8*x-1);f(this,l,h,x,pt-1,-pt)}let j=0,W=1,bt=0;for(this[h]=l&255;++j<x&&(W*=256);)l<0&&bt===0&&this[h+j-1]!==0&&(bt=1),this[h+j]=(l/W>>0)-bt&255;return h+x},a.prototype.writeIntBE=function(l,h,x,D){if(l=+l,h=h>>>0,!D){const pt=Math.pow(2,8*x-1);f(this,l,h,x,pt-1,-pt)}let j=x-1,W=1,bt=0;for(this[h+j]=l&255;--j>=0&&(W*=256);)l<0&&bt===0&&this[h+j+1]!==0&&(bt=1),this[h+j]=(l/W>>0)-bt&255;return h+x},a.prototype.writeInt8=function(l,h,x){return l=+l,h=h>>>0,x||f(this,l,h,1,127,-128),l<0&&(l=255+l+1),this[h]=l&255,h+1},a.prototype.writeInt16LE=function(l,h,x){return l=+l,h=h>>>0,x||f(this,l,h,2,32767,-32768),this[h]=l&255,this[h+1]=l>>>8,h+2},a.prototype.writeInt16BE=function(l,h,x){return l=+l,h=h>>>0,x||f(this,l,h,2,32767,-32768),this[h]=l>>>8,this[h+1]=l&255,h+2},a.prototype.writeInt32LE=function(l,h,x){return l=+l,h=h>>>0,x||f(this,l,h,4,2147483647,-2147483648),this[h]=l&255,this[h+1]=l>>>8,this[h+2]=l>>>16,this[h+3]=l>>>24,h+4},a.prototype.writeInt32BE=function(l,h,x){return l=+l,h=h>>>0,x||f(this,l,h,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[h]=l>>>24,this[h+1]=l>>>16,this[h+2]=l>>>8,this[h+3]=l&255,h+4},a.prototype.writeBigInt64LE=Ue(function(l,h=0){return A(this,l,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ue(function(l,h=0){return Y(this,l,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Z(b,l,h,x,D,j){if(h+x>b.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("Index out of range")}function tt(b,l,h,x,D){return l=+l,h=h>>>0,D||Z(b,l,h,4),e.write(b,l,h,x,23,4),h+4}a.prototype.writeFloatLE=function(l,h,x){return tt(this,l,h,!0,x)},a.prototype.writeFloatBE=function(l,h,x){return tt(this,l,h,!1,x)};function Et(b,l,h,x,D){return l=+l,h=h>>>0,D||Z(b,l,h,8),e.write(b,l,h,x,52,8),h+8}a.prototype.writeDoubleLE=function(l,h,x){return Et(this,l,h,!0,x)},a.prototype.writeDoubleBE=function(l,h,x){return Et(this,l,h,!1,x)},a.prototype.copy=function(l,h,x,D){if(!a.isBuffer(l))throw new TypeError("argument should be a Buffer");if(x||(x=0),!D&&D!==0&&(D=this.length),h>=l.length&&(h=l.length),h||(h=0),D>0&&D<x&&(D=x),D===x||l.length===0||this.length===0)return 0;if(h<0)throw new RangeError("targetStart out of bounds");if(x<0||x>=this.length)throw new RangeError("Index out of range");if(D<0)throw new RangeError("sourceEnd out of bounds");D>this.length&&(D=this.length),l.length-h<D-x&&(D=l.length-h+x);const j=D-x;return this===l&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(h,x,D):Uint8Array.prototype.set.call(l,this.subarray(x,D),h),j},a.prototype.fill=function(l,h,x,D){if(typeof l=="string"){if(typeof h=="string"?(D=h,h=0,x=this.length):typeof x=="string"&&(D=x,x=this.length),D!==void 0&&typeof D!="string")throw new TypeError("encoding must be a string");if(typeof D=="string"&&!a.isEncoding(D))throw new TypeError("Unknown encoding: "+D);if(l.length===1){const W=l.charCodeAt(0);(D==="utf8"&&W<128||D==="latin1")&&(l=W)}}else typeof l=="number"?l=l&255:typeof l=="boolean"&&(l=Number(l));if(h<0||this.length<h||this.length<x)throw new RangeError("Out of range index");if(x<=h)return this;h=h>>>0,x=x===void 0?this.length:x>>>0,l||(l=0);let j;if(typeof l=="number")for(j=h;j<x;++j)this[j]=l;else{const W=a.isBuffer(l)?l:a.from(l,D),bt=W.length;if(bt===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(j=0;j<x-h;++j)this[j+h]=W[j%bt]}return this};const ut={};function dt(b,l,h){ut[b]=class extends h{constructor(){super(),Object.defineProperty(this,"message",{value:l.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${b}]`,this.stack,delete this.name}get code(){return b}set code(D){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:D,writable:!0})}toString(){return`${this.name} [${b}]: ${this.message}`}}}dt("ERR_BUFFER_OUT_OF_BOUNDS",function(b){return b?`${b} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),dt("ERR_INVALID_ARG_TYPE",function(b,l){return`The "${b}" argument must be of type number. Received type ${typeof l}`},TypeError),dt("ERR_OUT_OF_RANGE",function(b,l,h){let x=`The value of "${b}" is out of range.`,D=h;return Number.isInteger(h)&&Math.abs(h)>2**32?D=Qt(String(h)):typeof h=="bigint"&&(D=String(h),(h>BigInt(2)**BigInt(32)||h<-(BigInt(2)**BigInt(32)))&&(D=Qt(D)),D+="n"),x+=` It must be ${l}. Received ${D}`,x},RangeError);function Qt(b){let l="",h=b.length;const x=b[0]==="-"?1:0;for(;h>=x+4;h-=3)l=`_${b.slice(h-3,h)}${l}`;return`${b.slice(0,h)}${l}`}function mt(b,l,h){ye(l,"offset"),(b[l]===void 0||b[l+h]===void 0)&&It(l,b.length-(h+1))}function St(b,l,h,x,D,j){if(b>h||b<l){const W=typeof l=="bigint"?"n":"";let bt;throw l===0||l===BigInt(0)?bt=`>= 0${W} and < 2${W} ** ${(j+1)*8}${W}`:bt=`>= -(2${W} ** ${(j+1)*8-1}${W}) and < 2 ** ${(j+1)*8-1}${W}`,new ut.ERR_OUT_OF_RANGE("value",bt,b)}mt(x,D,j)}function ye(b,l){if(typeof b!="number")throw new ut.ERR_INVALID_ARG_TYPE(l,"number",b)}function It(b,l,h){throw Math.floor(b)!==b?(ye(b,h),new ut.ERR_OUT_OF_RANGE("offset","an integer",b)):l<0?new ut.ERR_BUFFER_OUT_OF_BOUNDS:new ut.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${l}`,b)}const kt=/[^+/0-9A-Za-z-_]/g;function ir(b){if(b=b.split("=")[0],b=b.trim().replace(kt,""),b.length<2)return"";for(;b.length%4!==0;)b=b+"=";return b}function Ot(b,l){l=l||1/0;let h;const x=b.length;let D=null;const j=[];for(let W=0;W<x;++W){if(h=b.charCodeAt(W),h>55295&&h<57344){if(!D){if(h>56319){(l-=3)>-1&&j.push(239,191,189);continue}else if(W+1===x){(l-=3)>-1&&j.push(239,191,189);continue}D=h;continue}if(h<56320){(l-=3)>-1&&j.push(239,191,189),D=h;continue}h=(D-55296<<10|h-56320)+65536}else D&&(l-=3)>-1&&j.push(239,191,189);if(D=null,h<128){if((l-=1)<0)break;j.push(h)}else if(h<2048){if((l-=2)<0)break;j.push(h>>6|192,h&63|128)}else if(h<65536){if((l-=3)<0)break;j.push(h>>12|224,h>>6&63|128,h&63|128)}else if(h<1114112){if((l-=4)<0)break;j.push(h>>18|240,h>>12&63|128,h>>6&63|128,h&63|128)}else throw new Error("Invalid code point")}return j}function $t(b){const l=[];for(let h=0;h<b.length;++h)l.push(b.charCodeAt(h)&255);return l}function sr(b,l){let h,x,D;const j=[];for(let W=0;W<b.length&&!((l-=2)<0);++W)h=b.charCodeAt(W),x=h>>8,D=h%256,j.push(D),j.push(x);return j}function jt(b){return t.toByteArray(ir(b))}function Ct(b,l,h,x){let D;for(D=0;D<x&&!(D+h>=l.length||D>=b.length);++D)l[D+h]=b[D];return D}function xe(b,l){return b instanceof l||b!=null&&b.constructor!=null&&b.constructor.name!=null&&b.constructor.name===l.name}function Dt(b){return b!==b}const zt=function(){const b="0123456789abcdef",l=new Array(256);for(let h=0;h<16;++h){const x=h*16;for(let D=0;D<16;++D)l[x+D]=b[h]+b[D]}return l}();function Ue(b){return typeof BigInt>"u"?Pt:b}function Pt(){throw new Error("BigInt not supported")}})(wt);function _a(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`positive integer expected, not ${r}`)}function Pl(r){return r instanceof Uint8Array||r!=null&&typeof r=="object"&&r.constructor.name==="Uint8Array"}function Ri(r,...t){if(!Pl(r))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(r.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${r.length}`)}function Fl(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");_a(r.outputLen),_a(r.blockLen)}function bi(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}function Wl(r,t){Ri(r);const e=t.outputLen;if(r.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}const ar=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Es=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),an=(r,t)=>r<<32-t|r>>>t;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function $l(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function Ro(r){return typeof r=="string"&&(r=$l(r)),Ri(r),r}function Kl(...r){let t=0;for(let n=0;n<r.length;n++){const s=r[n];Ri(s),t+=s.length}const e=new Uint8Array(t);for(let n=0,s=0;n<r.length;n++){const i=r[n];e.set(i,s),s+=i.length}return e}class xc{clone(){return this._cloneInto()}}function Ic(r){const t=n=>r().update(Ro(n)).digest(),e=r();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>r(),t}function _c(r=32){if(ar&&typeof ar.getRandomValues=="function")return ar.getRandomValues(new Uint8Array(r));if(ar&&typeof ar.randomBytes=="function")return ar.randomBytes(r);throw new Error("crypto.getRandomValues must be defined")}function ql(r,t,e,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(t,e,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(e>>s&i),a=Number(e&i),c=n?4:0,g=n?0:4;r.setUint32(t+c,o,n),r.setUint32(t+g,a,n)}const Hl=(r,t,e)=>r&t^~r&e,Gl=(r,t,e)=>r&t^r&e^t&e;class Ac extends xc{constructor(t,e,n,s){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Es(this.buffer)}update(t){bi(this);const{view:e,buffer:n,blockLen:s}=this;t=Ro(t);const i=t.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=Es(t);for(;s<=i-o;o+=s)this.process(c,o);continue}n.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){bi(this),Wl(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:s,isLE:i}=this;let{pos:o}=this;e[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(n,0),o=0);for(let y=o;y<s;y++)e[y]=0;ql(n,s-8,BigInt(this.length*8),i),this.process(n,0);const a=Es(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const g=c/4,p=this.get();if(g>p.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<g;y++)a.setUint32(4*y,p[y],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:s,finished:i,destroyed:o,pos:a}=this;return t.length=s,t.pos=a,t.finished=i,t.destroyed=o,s%e&&t.buffer.set(n),t}}const ei=BigInt(2**32-1),Xs=BigInt(32);function Bc(r,t=!1){return t?{h:Number(r&ei),l:Number(r>>Xs&ei)}:{h:Number(r>>Xs&ei)|0,l:Number(r&ei)|0}}function Yl(r,t=!1){let e=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let s=0;s<r.length;s++){const{h:i,l:o}=Bc(r[s],t);[e[s],n[s]]=[i,o]}return[e,n]}const Vl=(r,t)=>BigInt(r>>>0)<<Xs|BigInt(t>>>0),Zl=(r,t,e)=>r>>>e,Ql=(r,t,e)=>r<<32-e|t>>>e,Jl=(r,t,e)=>r>>>e|t<<32-e,Xl=(r,t,e)=>r<<32-e|t>>>e,tf=(r,t,e)=>r<<64-e|t>>>e-32,ef=(r,t,e)=>r>>>e-32|t<<64-e,nf=(r,t)=>t,rf=(r,t)=>r,sf=(r,t,e)=>r<<e|t>>>32-e,of=(r,t,e)=>t<<e|r>>>32-e,af=(r,t,e)=>t<<e-32|r>>>64-e,cf=(r,t,e)=>r<<e-32|t>>>64-e;function uf(r,t,e,n){const s=(t>>>0)+(n>>>0);return{h:r+e+(s/2**32|0)|0,l:s|0}}const lf=(r,t,e)=>(r>>>0)+(t>>>0)+(e>>>0),ff=(r,t,e,n)=>t+e+n+(r/2**32|0)|0,hf=(r,t,e,n)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0),df=(r,t,e,n,s)=>t+e+n+s+(r/2**32|0)|0,gf=(r,t,e,n,s)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0)+(s>>>0),pf=(r,t,e,n,s,i)=>t+e+n+s+i+(r/2**32|0)|0,vt={fromBig:Bc,split:Yl,toBig:Vl,shrSH:Zl,shrSL:Ql,rotrSH:Jl,rotrSL:Xl,rotrBH:tf,rotrBL:ef,rotr32H:nf,rotr32L:rf,rotlSH:sf,rotlSL:of,rotlBH:af,rotlBL:cf,add:uf,add3L:lf,add3H:ff,add4L:hf,add4H:df,add5H:pf,add5L:gf},[wf,mf]=vt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),_n=new Uint32Array(80),An=new Uint32Array(80);class yf extends Ac{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:n,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:g,El:p,Fh:y,Fl:I,Gh:M,Gl:L,Hh:B,Hl:v}=this;return[t,e,n,s,i,o,a,c,g,p,y,I,M,L,B,v]}set(t,e,n,s,i,o,a,c,g,p,y,I,M,L,B,v){this.Ah=t|0,this.Al=e|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=g|0,this.El=p|0,this.Fh=y|0,this.Fl=I|0,this.Gh=M|0,this.Gl=L|0,this.Hh=B|0,this.Hl=v|0}process(t,e){for(let _=0;_<16;_++,e+=4)_n[_]=t.getUint32(e),An[_]=t.getUint32(e+=4);for(let _=16;_<80;_++){const O=_n[_-15]|0,P=An[_-15]|0,z=vt.rotrSH(O,P,1)^vt.rotrSH(O,P,8)^vt.shrSH(O,P,7),$=vt.rotrSL(O,P,1)^vt.rotrSL(O,P,8)^vt.shrSL(O,P,7),K=_n[_-2]|0,J=An[_-2]|0,ht=vt.rotrSH(K,J,19)^vt.rotrBH(K,J,61)^vt.shrSH(K,J,6),nt=vt.rotrSL(K,J,19)^vt.rotrBL(K,J,61)^vt.shrSL(K,J,6),rt=vt.add4L($,nt,An[_-7],An[_-16]),T=vt.add4H(rt,z,ht,_n[_-7],_n[_-16]);_n[_]=T|0,An[_]=rt|0}let{Ah:n,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:g,Dl:p,Eh:y,El:I,Fh:M,Fl:L,Gh:B,Gl:v,Hh:k,Hl:C}=this;for(let _=0;_<80;_++){const O=vt.rotrSH(y,I,14)^vt.rotrSH(y,I,18)^vt.rotrBH(y,I,41),P=vt.rotrSL(y,I,14)^vt.rotrSL(y,I,18)^vt.rotrBL(y,I,41),z=y&M^~y&B,$=I&L^~I&v,K=vt.add5L(C,P,$,mf[_],An[_]),J=vt.add5H(K,k,O,z,wf[_],_n[_]),ht=K|0,nt=vt.rotrSH(n,s,28)^vt.rotrBH(n,s,34)^vt.rotrBH(n,s,39),rt=vt.rotrSL(n,s,28)^vt.rotrBL(n,s,34)^vt.rotrBL(n,s,39),T=n&i^n&a^i&a,u=s&o^s&c^o&c;k=B|0,C=v|0,B=M|0,v=L|0,M=y|0,L=I|0,{h:y,l:I}=vt.add(g|0,p|0,J|0,ht|0),g=a|0,p=c|0,a=i|0,c=o|0,i=n|0,o=s|0;const d=vt.add3L(ht,rt,u);n=vt.add3H(d,J,nt,T),s=d|0}({h:n,l:s}=vt.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:o}=vt.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=vt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:g,l:p}=vt.add(this.Dh|0,this.Dl|0,g|0,p|0),{h:y,l:I}=vt.add(this.Eh|0,this.El|0,y|0,I|0),{h:M,l:L}=vt.add(this.Fh|0,this.Fl|0,M|0,L|0),{h:B,l:v}=vt.add(this.Gh|0,this.Gl|0,B|0,v|0),{h:k,l:C}=vt.add(this.Hh|0,this.Hl|0,k|0,C|0),this.set(n,s,i,o,a,c,g,p,y,I,M,L,B,v,k,C)}roundClean(){_n.fill(0),An.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const bf=Ic(()=>new yf);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Do=BigInt(0),Di=BigInt(1),vf=BigInt(2);function Zn(r){return r instanceof Uint8Array||r!=null&&typeof r=="object"&&r.constructor.name==="Uint8Array"}function Vr(r){if(!Zn(r))throw new Error("Uint8Array expected")}function En(r,t){if(typeof t!="boolean")throw new Error(`${r} must be valid boolean, got "${t}".`)}const Mf=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function Qn(r){Vr(r);let t="";for(let e=0;e<r.length;e++)t+=Mf[r[e]];return t}function fr(r){const t=r.toString(16);return t.length&1?`0${t}`:t}function Oo(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return BigInt(r===""?"0":`0x${r}`)}const gn={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Aa(r){if(r>=gn._0&&r<=gn._9)return r-gn._0;if(r>=gn._A&&r<=gn._F)return r-(gn._A-10);if(r>=gn._a&&r<=gn._f)return r-(gn._a-10)}function br(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);const t=r.length,e=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(e);for(let s=0,i=0;s<e;s++,i+=2){const o=Aa(r.charCodeAt(i)),a=Aa(r.charCodeAt(i+1));if(o===void 0||a===void 0){const c=r[i]+r[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[s]=o*16+a}return n}function Yn(r){return Oo(Qn(r))}function pr(r){return Vr(r),Oo(Qn(Uint8Array.from(r).reverse()))}function vr(r,t){return br(r.toString(16).padStart(t*2,"0"))}function Fr(r,t){return vr(r,t).reverse()}function Ef(r){return br(fr(r))}function be(r,t,e){let n;if(typeof t=="string")try{n=br(t)}catch(i){throw new Error(`${r} must be valid hex string, got "${t}". Cause: ${i}`)}else if(Zn(t))n=Uint8Array.from(t);else throw new Error(`${r} must be hex string or Uint8Array`);const s=n.length;if(typeof e=="number"&&s!==e)throw new Error(`${r} expected ${e} bytes, got ${s}`);return n}function Jn(...r){let t=0;for(let n=0;n<r.length;n++){const s=r[n];Vr(s),t+=s.length}const e=new Uint8Array(t);for(let n=0,s=0;n<r.length;n++){const i=r[n];e.set(i,s),s+=i.length}return e}function Sf(r,t){if(r.length!==t.length)return!1;let e=0;for(let n=0;n<r.length;n++)e|=r[n]^t[n];return e===0}function xf(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}const Ss=r=>typeof r=="bigint"&&Do<=r;function Oi(r,t,e){return Ss(r)&&Ss(t)&&Ss(e)&&t<=r&&r<e}function Qe(r,t,e,n){if(!Oi(t,e,n))throw new Error(`expected valid ${r}: ${e} <= n < ${n}, got ${typeof t} ${t}`)}function Lc(r){let t;for(t=0;r>Do;r>>=Di,t+=1);return t}function If(r,t){return r>>BigInt(t)&Di}function _f(r,t,e){return r|(e?Di:Do)<<BigInt(t)}const jo=r=>(vf<<BigInt(r-1))-Di,xs=r=>new Uint8Array(r),Ba=r=>Uint8Array.from(r);function Tc(r,t,e){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof e!="function")throw new Error("hmacFn must be a function");let n=xs(r),s=xs(r),i=0;const o=()=>{n.fill(1),s.fill(0),i=0},a=(...y)=>e(s,n,...y),c=(y=xs())=>{s=a(Ba([0]),y),n=a(),y.length!==0&&(s=a(Ba([1]),y),n=a())},g=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let y=0;const I=[];for(;y<t;){n=a();const M=n.slice();I.push(M),y+=n.length}return Jn(...I)};return(y,I)=>{o(),c(y);let M;for(;!(M=I(g()));)c();return o(),M}}const Af={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||Zn(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,t)=>t.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function Lr(r,t,e={}){const n=(s,i,o)=>{const a=Af[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=r[s];if(!(o&&c===void 0)&&!a(c,r))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(t))n(s,i,!1);for(const[s,i]of Object.entries(e))n(s,i,!0);return r}const Bf=()=>{throw new Error("not implemented")};function Wr(r){const t=new WeakMap;return(e,...n)=>{const s=t.get(e);if(s!==void 0)return s;const i=r(e,...n);return t.set(e,i),i}}const Lf=Object.freeze(Object.defineProperty({__proto__:null,aInRange:Qe,abool:En,abytes:Vr,bitGet:If,bitLen:Lc,bitMask:jo,bitSet:_f,bytesToHex:Qn,bytesToNumberBE:Yn,bytesToNumberLE:pr,concatBytes:Jn,createHmacDrbg:Tc,ensureBytes:be,equalBytes:Sf,hexToBytes:br,hexToNumber:Oo,inRange:Oi,isBytes:Zn,memoized:Wr,notImplemented:Bf,numberToBytesBE:vr,numberToBytesLE:Fr,numberToHexUnpadded:fr,numberToVarBytesBE:Ef,utf8ToBytes:xf,validateObject:Lr},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ee=BigInt(0),Gt=BigInt(1),Pn=BigInt(2),Tf=BigInt(3),to=BigInt(4),La=BigInt(5),Ta=BigInt(8);BigInt(9);BigInt(16);function qt(r,t){const e=r%t;return e>=Ee?e:t+e}function Nf(r,t,e){if(e<=Ee||t<Ee)throw new Error("Expected power/modulo > 0");if(e===Gt)return Ee;let n=Gt;for(;t>Ee;)t&Gt&&(n=n*r%e),r=r*r%e,t>>=Gt;return n}function Vt(r,t,e){let n=r;for(;t-- >Ee;)n*=n,n%=e;return n}function eo(r,t){if(r===Ee||t<=Ee)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let e=qt(r,t),n=t,s=Ee,i=Gt;for(;e!==Ee;){const a=n/e,c=n%e,g=s-i*a;n=e,e=c,s=i,i=g}if(n!==Gt)throw new Error("invert: does not exist");return qt(s,t)}function kf(r){const t=(r-Gt)/Pn;let e,n,s;for(e=r-Gt,n=0;e%Pn===Ee;e/=Pn,n++);for(s=Pn;s<r&&Nf(s,t,r)!==r-Gt;s++);if(n===1){const o=(r+Gt)/to;return function(c,g){const p=c.pow(g,o);if(!c.eql(c.sqr(p),g))throw new Error("Cannot find square root");return p}}const i=(e+Gt)/Pn;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let g=n,p=a.pow(a.mul(a.ONE,s),e),y=a.pow(c,i),I=a.pow(c,e);for(;!a.eql(I,a.ONE);){if(a.eql(I,a.ZERO))return a.ZERO;let M=1;for(let B=a.sqr(I);M<g&&!a.eql(B,a.ONE);M++)B=a.sqr(B);const L=a.pow(p,Gt<<BigInt(g-M-1));p=a.sqr(L),y=a.mul(y,L),I=a.mul(I,p),g=M}return y}}function Cf(r){if(r%to===Tf){const t=(r+Gt)/to;return function(n,s){const i=n.pow(s,t);if(!n.eql(n.sqr(i),s))throw new Error("Cannot find square root");return i}}if(r%Ta===La){const t=(r-La)/Ta;return function(n,s){const i=n.mul(s,Pn),o=n.pow(i,t),a=n.mul(s,o),c=n.mul(n.mul(a,Pn),o),g=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(g),s))throw new Error("Cannot find square root");return g}}return kf(r)}const Rf=(r,t)=>(qt(r,t)&Gt)===Gt,Df=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Of(r){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},e=Df.reduce((n,s)=>(n[s]="function",n),t);return Lr(r,e)}function jf(r,t,e){if(e<Ee)throw new Error("Expected power > 0");if(e===Ee)return r.ONE;if(e===Gt)return t;let n=r.ONE,s=t;for(;e>Ee;)e&Gt&&(n=r.mul(n,s)),s=r.sqr(s),e>>=Gt;return n}function Uf(r,t){const e=new Array(t.length),n=t.reduce((i,o,a)=>r.is0(o)?i:(e[a]=i,r.mul(i,o)),r.ONE),s=r.inv(n);return t.reduceRight((i,o,a)=>r.is0(o)?i:(e[a]=r.mul(i,e[a]),r.mul(i,o)),s),e}function Nc(r,t){const e=t!==void 0?t:r.toString(2).length,n=Math.ceil(e/8);return{nBitLength:e,nByteLength:n}}function ji(r,t,e=!1,n={}){if(r<=Ee)throw new Error(`Expected Field ORDER > 0, got ${r}`);const{nBitLength:s,nByteLength:i}=Nc(r,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=Cf(r),a=Object.freeze({ORDER:r,BITS:s,BYTES:i,MASK:jo(s),ZERO:Ee,ONE:Gt,create:c=>qt(c,r),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Ee<=c&&c<r},is0:c=>c===Ee,isOdd:c=>(c&Gt)===Gt,neg:c=>qt(-c,r),eql:(c,g)=>c===g,sqr:c=>qt(c*c,r),add:(c,g)=>qt(c+g,r),sub:(c,g)=>qt(c-g,r),mul:(c,g)=>qt(c*g,r),pow:(c,g)=>jf(a,c,g),div:(c,g)=>qt(c*eo(g,r),r),sqrN:c=>c*c,addN:(c,g)=>c+g,subN:(c,g)=>c-g,mulN:(c,g)=>c*g,inv:c=>eo(c,r),sqrt:n.sqrt||(c=>o(a,c)),invertBatch:c=>Uf(a,c),cmov:(c,g,p)=>p?g:c,toBytes:c=>e?Fr(c,i):vr(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return e?pr(c):Yn(c)}});return Object.freeze(a)}function kc(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const t=r.toString(2).length;return Math.ceil(t/8)}function Cc(r){const t=kc(r);return t+Math.ceil(t/2)}function zf(r,t,e=!1){const n=r.length,s=kc(t),i=Cc(t);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);const o=e?Yn(r):pr(r),a=qt(o,t-Gt)+Gt;return e?Fr(a,s):vr(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Pf=BigInt(0),Is=BigInt(1),_s=new WeakMap,Na=new WeakMap;function Rc(r,t){const e=(i,o)=>{const a=o.negate();return i?a:o},n=i=>{if(!Number.isSafeInteger(i)||i<=0||i>t)throw new Error(`Wrong window size=${i}, should be [1..${t}]`)},s=i=>{n(i);const o=Math.ceil(t/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:e,unsafeLadder(i,o){let a=r.ZERO,c=i;for(;o>Pf;)o&Is&&(a=a.add(c)),c=c.double(),o>>=Is;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),g=[];let p=i,y=p;for(let I=0;I<a;I++){y=p,g.push(y);for(let M=1;M<c;M++)y=y.add(p),g.push(y);p=y.double()}return g},wNAF(i,o,a){const{windows:c,windowSize:g}=s(i);let p=r.ZERO,y=r.BASE;const I=BigInt(2**i-1),M=2**i,L=BigInt(i);for(let B=0;B<c;B++){const v=B*g;let k=Number(a&I);a>>=L,k>g&&(k-=M,a+=Is);const C=v,_=v+Math.abs(k)-1,O=B%2!==0,P=k<0;k===0?y=y.add(e(O,o[C])):p=p.add(e(P,o[_]))}return{p,f:y}},wNAFCached(i,o,a){const c=Na.get(i)||1;let g=_s.get(i);return g||(g=this.precomputeWindow(i,c),c!==1&&_s.set(i,a(g))),this.wNAF(c,g,o)},setWindowSize(i,o){n(o),Na.set(i,o),_s.delete(i)}}}function Dc(r,t,e,n){if(!Array.isArray(e)||!Array.isArray(n)||n.length!==e.length)throw new Error("arrays of points and scalars must have equal length");n.forEach((p,y)=>{if(!t.isValid(p))throw new Error(`wrong scalar at index ${y}`)}),e.forEach((p,y)=>{if(!(p instanceof r))throw new Error(`wrong point at index ${y}`)});const s=Lc(BigInt(e.length)),i=s>12?s-3:s>4?s-2:s?2:1,o=(1<<i)-1,a=new Array(o+1).fill(r.ZERO),c=Math.floor((t.BITS-1)/i)*i;let g=r.ZERO;for(let p=c;p>=0;p-=i){a.fill(r.ZERO);for(let I=0;I<n.length;I++){const M=n[I],L=Number(M>>BigInt(p)&BigInt(o));a[L]=a[L].add(e[I])}let y=r.ZERO;for(let I=a.length-1,M=r.ZERO;I>0;I--)M=M.add(a[I]),y=y.add(M);if(g=g.add(y),p!==0)for(let I=0;I<i;I++)g=g.double()}return g}function Uo(r){return Of(r.Fp),Lr(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Nc(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xe=BigInt(0),ze=BigInt(1),ni=BigInt(2),Ff=BigInt(8),Wf={zip215:!0};function $f(r){const t=Uo(r);return Lr(r,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function Kf(r){const t=$f(r),{Fp:e,n,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=t,g=ni<<BigInt(a*8)-ze,p=e.create,y=ji(t.n,t.nBitLength),I=t.uvRatio||((w,m)=>{try{return{isValid:!0,value:e.sqrt(w*e.inv(m))}}catch{return{isValid:!1,value:Xe}}}),M=t.adjustScalarBytes||(w=>w),L=t.domain||((w,m,E)=>{if(En("phflag",E),m.length||E)throw new Error("Contexts/pre-hash are not supported");return w});function B(w,m){Qe("coordinate "+w,m,Xe,g)}function v(w){if(!(w instanceof _))throw new Error("ExtendedPoint expected")}const k=Wr((w,m)=>{const{ex:E,ey:N,ez:R}=w,S=w.is0();m==null&&(m=S?Ff:e.inv(R));const f=p(E*m),A=p(N*m),Y=p(R*m);if(S)return{x:Xe,y:ze};if(Y!==ze)throw new Error("invZ was invalid");return{x:f,y:A}}),C=Wr(w=>{const{a:m,d:E}=t;if(w.is0())throw new Error("bad point: ZERO");const{ex:N,ey:R,ez:S,et:f}=w,A=p(N*N),Y=p(R*R),Z=p(S*S),tt=p(Z*Z),Et=p(A*m),ut=p(Z*p(Et+Y)),dt=p(tt+p(E*p(A*Y)));if(ut!==dt)throw new Error("bad point: equation left != right (1)");const Qt=p(N*R),mt=p(S*f);if(Qt!==mt)throw new Error("bad point: equation left != right (2)");return!0});class _{constructor(m,E,N,R){this.ex=m,this.ey=E,this.ez=N,this.et=R,B("x",m),B("y",E),B("z",N),B("t",R),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(m){if(m instanceof _)throw new Error("extended point not allowed");const{x:E,y:N}=m||{};return B("x",E),B("y",N),new _(E,N,ze,p(E*N))}static normalizeZ(m){const E=e.invertBatch(m.map(N=>N.ez));return m.map((N,R)=>N.toAffine(E[R])).map(_.fromAffine)}static msm(m,E){return Dc(_,y,m,E)}_setWindowSize(m){z.setWindowSize(this,m)}assertValidity(){C(this)}equals(m){v(m);const{ex:E,ey:N,ez:R}=this,{ex:S,ey:f,ez:A}=m,Y=p(E*A),Z=p(S*R),tt=p(N*A),Et=p(f*R);return Y===Z&&tt===Et}is0(){return this.equals(_.ZERO)}negate(){return new _(p(-this.ex),this.ey,this.ez,p(-this.et))}double(){const{a:m}=t,{ex:E,ey:N,ez:R}=this,S=p(E*E),f=p(N*N),A=p(ni*p(R*R)),Y=p(m*S),Z=E+N,tt=p(p(Z*Z)-S-f),Et=Y+f,ut=Et-A,dt=Y-f,Qt=p(tt*ut),mt=p(Et*dt),St=p(tt*dt),ye=p(ut*Et);return new _(Qt,mt,ye,St)}add(m){v(m);const{a:E,d:N}=t,{ex:R,ey:S,ez:f,et:A}=this,{ex:Y,ey:Z,ez:tt,et:Et}=m;if(E===BigInt(-1)){const jt=p((S-R)*(Z+Y)),Ct=p((S+R)*(Z-Y)),xe=p(Ct-jt);if(xe===Xe)return this.double();const Dt=p(f*ni*Et),zt=p(A*ni*tt),Ue=zt+Dt,Pt=Ct+jt,b=zt-Dt,l=p(Ue*xe),h=p(Pt*b),x=p(Ue*b),D=p(xe*Pt);return new _(l,h,D,x)}const ut=p(R*Y),dt=p(S*Z),Qt=p(A*N*Et),mt=p(f*tt),St=p((R+S)*(Y+Z)-ut-dt),ye=mt-Qt,It=mt+Qt,kt=p(dt-E*ut),ir=p(St*ye),Ot=p(It*kt),$t=p(St*kt),sr=p(ye*It);return new _(ir,Ot,sr,$t)}subtract(m){return this.add(m.negate())}wNAF(m){return z.wNAFCached(this,m,_.normalizeZ)}multiply(m){const E=m;Qe("scalar",E,ze,n);const{p:N,f:R}=this.wNAF(E);return _.normalizeZ([N,R])[0]}multiplyUnsafe(m){const E=m;return Qe("scalar",E,Xe,n),E===Xe?P:this.equals(P)||E===ze?this:this.equals(O)?this.wNAF(E).p:z.unsafeLadder(this,E)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return z.unsafeLadder(this,n).is0()}toAffine(m){return k(this,m)}clearCofactor(){const{h:m}=t;return m===ze?this:this.multiplyUnsafe(m)}static fromHex(m,E=!1){const{d:N,a:R}=t,S=e.BYTES;m=be("pointHex",m,S),En("zip215",E);const f=m.slice(),A=m[S-1];f[S-1]=A&-129;const Y=pr(f),Z=E?g:e.ORDER;Qe("pointHex.y",Y,Xe,Z);const tt=p(Y*Y),Et=p(tt-ze),ut=p(N*tt-R);let{isValid:dt,value:Qt}=I(Et,ut);if(!dt)throw new Error("Point.fromHex: invalid y coordinate");const mt=(Qt&ze)===ze,St=(A&128)!==0;if(!E&&Qt===Xe&&St)throw new Error("Point.fromHex: x=0 and x_0=1");return St!==mt&&(Qt=p(-Qt)),_.fromAffine({x:Qt,y:Y})}static fromPrivateKey(m){return J(m).point}toRawBytes(){const{x:m,y:E}=this.toAffine(),N=Fr(E,e.BYTES);return N[N.length-1]|=m&ze?128:0,N}toHex(){return Qn(this.toRawBytes())}}_.BASE=new _(t.Gx,t.Gy,ze,p(t.Gx*t.Gy)),_.ZERO=new _(Xe,ze,ze,Xe);const{BASE:O,ZERO:P}=_,z=Rc(_,a*8);function $(w){return qt(w,n)}function K(w){return $(pr(w))}function J(w){const m=a;w=be("private key",w,m);const E=be("hashed private key",i(w),2*m),N=M(E.slice(0,m)),R=E.slice(m,2*m),S=K(N),f=O.multiply(S),A=f.toRawBytes();return{head:N,prefix:R,scalar:S,point:f,pointBytes:A}}function ht(w){return J(w).pointBytes}function nt(w=new Uint8Array,...m){const E=Jn(...m);return K(i(L(E,be("context",w),!!s)))}function rt(w,m,E={}){w=be("message",w),s&&(w=s(w));const{prefix:N,scalar:R,pointBytes:S}=J(m),f=nt(E.context,N,w),A=O.multiply(f).toRawBytes(),Y=nt(E.context,A,S,w),Z=$(f+Y*R);Qe("signature.s",Z,Xe,n);const tt=Jn(A,Fr(Z,e.BYTES));return be("result",tt,a*2)}const T=Wf;function u(w,m,E,N=T){const{context:R,zip215:S}=N,f=e.BYTES;w=be("signature",w,2*f),m=be("message",m),S!==void 0&&En("zip215",S),s&&(m=s(m));const A=pr(w.slice(f,2*f));let Y,Z,tt;try{Y=_.fromHex(E,S),Z=_.fromHex(w.slice(0,f),S),tt=O.multiplyUnsafe(A)}catch{return!1}if(!S&&Y.isSmallOrder())return!1;const Et=nt(R,Z.toRawBytes(),Y.toRawBytes(),m);return Z.add(Y.multiplyUnsafe(Et)).subtract(tt).clearCofactor().equals(_.ZERO)}return O._setWindowSize(8),{CURVE:t,getPublicKey:ht,sign:rt,verify:u,ExtendedPoint:_,utils:{getExtendedPublicKey:J,randomPrivateKey:()=>o(e.BYTES),precompute(w=8,m=_.BASE){return m._setWindowSize(w),m.multiply(BigInt(3)),m}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zo=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ka=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const qf=BigInt(1),Ca=BigInt(2);BigInt(3);const Hf=BigInt(5),Gf=BigInt(8);function Yf(r){const t=BigInt(10),e=BigInt(20),n=BigInt(40),s=BigInt(80),i=zo,a=r*r%i*r%i,c=Vt(a,Ca,i)*a%i,g=Vt(c,qf,i)*r%i,p=Vt(g,Hf,i)*g%i,y=Vt(p,t,i)*p%i,I=Vt(y,e,i)*y%i,M=Vt(I,n,i)*I%i,L=Vt(M,s,i)*M%i,B=Vt(L,s,i)*M%i,v=Vt(B,t,i)*p%i;return{pow_p_5_8:Vt(v,Ca,i)*r%i,b2:a}}function Vf(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}function Zf(r,t){const e=zo,n=qt(t*t*t,e),s=qt(n*n*t,e),i=Yf(r*s).pow_p_5_8;let o=qt(r*n*i,e);const a=qt(t*o*o,e),c=o,g=qt(o*ka,e),p=a===r,y=a===qt(-r,e),I=a===qt(-r*ka,e);return p&&(o=c),(y||I)&&(o=g),Rf(o,e)&&(o=qt(-o,e)),{isValid:p||y,value:o}}const Qf=ji(zo,void 0,!0),Jf={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Qf,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Gf,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:bf,randomBytes:_c,adjustScalarBytes:Vf,uvRatio:Zf},Po=Kf(Jf);var Fo={exports:{}};const Xf={},th=Object.freeze(Object.defineProperty({__proto__:null,default:Xf},Symbol.toStringTag,{value:"Module"})),eh=ko(th);Fo.exports;(function(r){(function(t,e){function n(T,u){if(!T)throw new Error(u||"Assertion failed")}function s(T,u){T.super_=u;var d=function(){};d.prototype=u.prototype,T.prototype=new d,T.prototype.constructor=T}function i(T,u,d){if(i.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&((u==="le"||u==="be")&&(d=u,u=10),this._init(T||0,u||10,d||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=eh.Buffer}catch{}i.isBN=function(u){return u instanceof i?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===i.wordSize&&Array.isArray(u.words)},i.max=function(u,d){return u.cmp(d)>0?u:d},i.min=function(u,d){return u.cmp(d)<0?u:d},i.prototype._init=function(u,d,w){if(typeof u=="number")return this._initNumber(u,d,w);if(typeof u=="object")return this._initArray(u,d,w);d==="hex"&&(d=16),n(d===(d|0)&&d>=2&&d<=36),u=u.toString().replace(/\s+/g,"");var m=0;u[0]==="-"&&(m++,this.negative=1),m<u.length&&(d===16?this._parseHex(u,m,w):(this._parseBase(u,d,m),w==="le"&&this._initArray(this.toArray(),d,w)))},i.prototype._initNumber=function(u,d,w){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(n(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),w==="le"&&this._initArray(this.toArray(),d,w)},i.prototype._initArray=function(u,d,w){if(n(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var E,N,R=0;if(w==="be")for(m=u.length-1,E=0;m>=0;m-=3)N=u[m]|u[m-1]<<8|u[m-2]<<16,this.words[E]|=N<<R&67108863,this.words[E+1]=N>>>26-R&67108863,R+=24,R>=26&&(R-=26,E++);else if(w==="le")for(m=0,E=0;m<u.length;m+=3)N=u[m]|u[m+1]<<8|u[m+2]<<16,this.words[E]|=N<<R&67108863,this.words[E+1]=N>>>26-R&67108863,R+=24,R>=26&&(R-=26,E++);return this._strip()};function a(T,u){var d=T.charCodeAt(u);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;n(!1,"Invalid character in "+T)}function c(T,u,d){var w=a(T,d);return d-1>=u&&(w|=a(T,d-1)<<4),w}i.prototype._parseHex=function(u,d,w){this.length=Math.ceil((u.length-d)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var E=0,N=0,R;if(w==="be")for(m=u.length-1;m>=d;m-=2)R=c(u,d,m)<<E,this.words[N]|=R&67108863,E>=18?(E-=18,N+=1,this.words[N]|=R>>>26):E+=8;else{var S=u.length-d;for(m=S%2===0?d+1:d;m<u.length;m+=2)R=c(u,d,m)<<E,this.words[N]|=R&67108863,E>=18?(E-=18,N+=1,this.words[N]|=R>>>26):E+=8}this._strip()};function g(T,u,d,w){for(var m=0,E=0,N=Math.min(T.length,d),R=u;R<N;R++){var S=T.charCodeAt(R)-48;m*=w,S>=49?E=S-49+10:S>=17?E=S-17+10:E=S,n(S>=0&&E<w,"Invalid character"),m+=E}return m}i.prototype._parseBase=function(u,d,w){this.words=[0],this.length=1;for(var m=0,E=1;E<=67108863;E*=d)m++;m--,E=E/d|0;for(var N=u.length-w,R=N%m,S=Math.min(N,N-R)+w,f=0,A=w;A<S;A+=m)f=g(u,A,A+m,d),this.imuln(E),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(R!==0){var Y=1;for(f=g(u,A,u.length,d),A=0;A<R;A++)Y*=d;this.imuln(Y),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},i.prototype.copy=function(u){u.words=new Array(this.length);for(var d=0;d<this.length;d++)u.words[d]=this.words[d];u.length=this.length,u.negative=this.negative,u.red=this.red};function p(T,u){T.words=u.words,T.length=u.length,T.negative=u.negative,T.red=u.red}if(i.prototype._move=function(u){p(u,this)},i.prototype.clone=function(){var u=new i(null);return this.copy(u),u},i.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{i.prototype.inspect=y}else i.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var I=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],M=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],L=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(u,d){u=u||10,d=d|0||1;var w;if(u===16||u==="hex"){w="";for(var m=0,E=0,N=0;N<this.length;N++){var R=this.words[N],S=((R<<m|E)&16777215).toString(16);E=R>>>24-m&16777215,m+=2,m>=26&&(m-=26,N--),E!==0||N!==this.length-1?w=I[6-S.length]+S+w:w=S+w}for(E!==0&&(w=E.toString(16)+w);w.length%d!==0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}if(u===(u|0)&&u>=2&&u<=36){var f=M[u],A=L[u];w="";var Y=this.clone();for(Y.negative=0;!Y.isZero();){var Z=Y.modrn(A).toString(u);Y=Y.idivn(A),Y.isZero()?w=Z+w:w=I[f-Z.length]+Z+w}for(this.isZero()&&(w="0"+w);w.length%d!==0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(u,d){return this.toArrayLike(o,u,d)}),i.prototype.toArray=function(u,d){return this.toArrayLike(Array,u,d)};var B=function(u,d){return u.allocUnsafe?u.allocUnsafe(d):new u(d)};i.prototype.toArrayLike=function(u,d,w){this._strip();var m=this.byteLength(),E=w||Math.max(1,m);n(m<=E,"byte array longer than desired length"),n(E>0,"Requested array length <= 0");var N=B(u,E),R=d==="le"?"LE":"BE";return this["_toArrayLike"+R](N,m),N},i.prototype._toArrayLikeLE=function(u,d){for(var w=0,m=0,E=0,N=0;E<this.length;E++){var R=this.words[E]<<N|m;u[w++]=R&255,w<u.length&&(u[w++]=R>>8&255),w<u.length&&(u[w++]=R>>16&255),N===6?(w<u.length&&(u[w++]=R>>24&255),m=0,N=0):(m=R>>>24,N+=2)}if(w<u.length)for(u[w++]=m;w<u.length;)u[w++]=0},i.prototype._toArrayLikeBE=function(u,d){for(var w=u.length-1,m=0,E=0,N=0;E<this.length;E++){var R=this.words[E]<<N|m;u[w--]=R&255,w>=0&&(u[w--]=R>>8&255),w>=0&&(u[w--]=R>>16&255),N===6?(w>=0&&(u[w--]=R>>24&255),m=0,N=0):(m=R>>>24,N+=2)}if(w>=0)for(u[w--]=m;w>=0;)u[w--]=0},Math.clz32?i.prototype._countBits=function(u){return 32-Math.clz32(u)}:i.prototype._countBits=function(u){var d=u,w=0;return d>=4096&&(w+=13,d>>>=13),d>=64&&(w+=7,d>>>=7),d>=8&&(w+=4,d>>>=4),d>=2&&(w+=2,d>>>=2),w+d},i.prototype._zeroBits=function(u){if(u===0)return 26;var d=u,w=0;return d&8191||(w+=13,d>>>=13),d&127||(w+=7,d>>>=7),d&15||(w+=4,d>>>=4),d&3||(w+=2,d>>>=2),d&1||w++,w},i.prototype.bitLength=function(){var u=this.words[this.length-1],d=this._countBits(u);return(this.length-1)*26+d};function v(T){for(var u=new Array(T.bitLength()),d=0;d<u.length;d++){var w=d/26|0,m=d%26;u[d]=T.words[w]>>>m&1}return u}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,d=0;d<this.length;d++){var w=this._zeroBits(this.words[d]);if(u+=w,w!==26)break}return u},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},i.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var d=0;d<u.length;d++)this.words[d]=this.words[d]|u.words[d];return this._strip()},i.prototype.ior=function(u){return n((this.negative|u.negative)===0),this.iuor(u)},i.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},i.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},i.prototype.iuand=function(u){var d;this.length>u.length?d=u:d=this;for(var w=0;w<d.length;w++)this.words[w]=this.words[w]&u.words[w];return this.length=d.length,this._strip()},i.prototype.iand=function(u){return n((this.negative|u.negative)===0),this.iuand(u)},i.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},i.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},i.prototype.iuxor=function(u){var d,w;this.length>u.length?(d=this,w=u):(d=u,w=this);for(var m=0;m<w.length;m++)this.words[m]=d.words[m]^w.words[m];if(this!==d)for(;m<d.length;m++)this.words[m]=d.words[m];return this.length=d.length,this._strip()},i.prototype.ixor=function(u){return n((this.negative|u.negative)===0),this.iuxor(u)},i.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},i.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},i.prototype.inotn=function(u){n(typeof u=="number"&&u>=0);var d=Math.ceil(u/26)|0,w=u%26;this._expand(d),w>0&&d--;for(var m=0;m<d;m++)this.words[m]=~this.words[m]&67108863;return w>0&&(this.words[m]=~this.words[m]&67108863>>26-w),this._strip()},i.prototype.notn=function(u){return this.clone().inotn(u)},i.prototype.setn=function(u,d){n(typeof u=="number"&&u>=0);var w=u/26|0,m=u%26;return this._expand(w+1),d?this.words[w]=this.words[w]|1<<m:this.words[w]=this.words[w]&~(1<<m),this._strip()},i.prototype.iadd=function(u){var d;if(this.negative!==0&&u.negative===0)return this.negative=0,d=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,d=this.isub(u),u.negative=1,d._normSign();var w,m;this.length>u.length?(w=this,m=u):(w=u,m=this);for(var E=0,N=0;N<m.length;N++)d=(w.words[N]|0)+(m.words[N]|0)+E,this.words[N]=d&67108863,E=d>>>26;for(;E!==0&&N<w.length;N++)d=(w.words[N]|0)+E,this.words[N]=d&67108863,E=d>>>26;if(this.length=w.length,E!==0)this.words[this.length]=E,this.length++;else if(w!==this)for(;N<w.length;N++)this.words[N]=w.words[N];return this},i.prototype.add=function(u){var d;return u.negative!==0&&this.negative===0?(u.negative=0,d=this.sub(u),u.negative^=1,d):u.negative===0&&this.negative!==0?(this.negative=0,d=u.sub(this),this.negative=1,d):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},i.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var d=this.iadd(u);return u.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var w=this.cmp(u);if(w===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,E;w>0?(m=this,E=u):(m=u,E=this);for(var N=0,R=0;R<E.length;R++)d=(m.words[R]|0)-(E.words[R]|0)+N,N=d>>26,this.words[R]=d&67108863;for(;N!==0&&R<m.length;R++)d=(m.words[R]|0)+N,N=d>>26,this.words[R]=d&67108863;if(N===0&&R<m.length&&m!==this)for(;R<m.length;R++)this.words[R]=m.words[R];return this.length=Math.max(this.length,R),m!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(u){return this.clone().isub(u)};function k(T,u,d){d.negative=u.negative^T.negative;var w=T.length+u.length|0;d.length=w,w=w-1|0;var m=T.words[0]|0,E=u.words[0]|0,N=m*E,R=N&67108863,S=N/67108864|0;d.words[0]=R;for(var f=1;f<w;f++){for(var A=S>>>26,Y=S&67108863,Z=Math.min(f,u.length-1),tt=Math.max(0,f-T.length+1);tt<=Z;tt++){var Et=f-tt|0;m=T.words[Et]|0,E=u.words[tt]|0,N=m*E+Y,A+=N/67108864|0,Y=N&67108863}d.words[f]=Y|0,S=A|0}return S!==0?d.words[f]=S|0:d.length--,d._strip()}var C=function(u,d,w){var m=u.words,E=d.words,N=w.words,R=0,S,f,A,Y=m[0]|0,Z=Y&8191,tt=Y>>>13,Et=m[1]|0,ut=Et&8191,dt=Et>>>13,Qt=m[2]|0,mt=Qt&8191,St=Qt>>>13,ye=m[3]|0,It=ye&8191,kt=ye>>>13,ir=m[4]|0,Ot=ir&8191,$t=ir>>>13,sr=m[5]|0,jt=sr&8191,Ct=sr>>>13,xe=m[6]|0,Dt=xe&8191,zt=xe>>>13,Ue=m[7]|0,Pt=Ue&8191,b=Ue>>>13,l=m[8]|0,h=l&8191,x=l>>>13,D=m[9]|0,j=D&8191,W=D>>>13,bt=E[0]|0,pt=bt&8191,gt=bt>>>13,Ft=E[1]|0,ft=Ft&8191,Xt=Ft>>>13,ya=E[2]|0,te=ya&8191,ee=ya>>>13,ba=E[3]|0,ne=ba&8191,re=ba>>>13,va=E[4]|0,ie=va&8191,se=va>>>13,Ma=E[5]|0,oe=Ma&8191,ae=Ma>>>13,Ea=E[6]|0,ce=Ea&8191,ue=Ea>>>13,Sa=E[7]|0,le=Sa&8191,fe=Sa>>>13,xa=E[8]|0,he=xa&8191,de=xa>>>13,Ia=E[9]|0,ge=Ia&8191,pe=Ia>>>13;w.negative=u.negative^d.negative,w.length=19,S=Math.imul(Z,pt),f=Math.imul(Z,gt),f=f+Math.imul(tt,pt)|0,A=Math.imul(tt,gt);var ns=(R+S|0)+((f&8191)<<13)|0;R=(A+(f>>>13)|0)+(ns>>>26)|0,ns&=67108863,S=Math.imul(ut,pt),f=Math.imul(ut,gt),f=f+Math.imul(dt,pt)|0,A=Math.imul(dt,gt),S=S+Math.imul(Z,ft)|0,f=f+Math.imul(Z,Xt)|0,f=f+Math.imul(tt,ft)|0,A=A+Math.imul(tt,Xt)|0;var rs=(R+S|0)+((f&8191)<<13)|0;R=(A+(f>>>13)|0)+(rs>>>26)|0,rs&=67108863,S=Math.imul(mt,pt),f=Math.imul(mt,gt),f=f+Math.imul(St,pt)|0,A=Math.imul(St,gt),S=S+Math.imul(ut,ft)|0,f=f+Math.imul(ut,Xt)|0,f=f+Math.imul(dt,ft)|0,A=A+Math.imul(dt,Xt)|0,S=S+Math.imul(Z,te)|0,f=f+Math.imul(Z,ee)|0,f=f+Math.imul(tt,te)|0,A=A+Math.imul(tt,ee)|0;var is=(R+S|0)+((f&8191)<<13)|0;R=(A+(f>>>13)|0)+(is>>>26)|0,is&=67108863,S=Math.imul(It,pt),f=Math.imul(It,gt),f=f+Math.imul(kt,pt)|0,A=Math.imul(kt,gt),S=S+Math.imul(mt,ft)|0,f=f+Math.imul(mt,Xt)|0,f=f+Math.imul(St,ft)|0,A=A+Math.imul(St,Xt)|0,S=S+Math.imul(ut,te)|0,f=f+Math.imul(ut,ee)|0,f=f+Math.imul(dt,te)|0,A=A+Math.imul(dt,ee)|0,S=S+Math.imul(Z,ne)|0,f=f+Math.imul(Z,re)|0,f=f+Math.imul(tt,ne)|0,A=A+Math.imul(tt,re)|0;var ss=(R+S|0)+((f&8191)<<13)|0;R=(A+(f>>>13)|0)+(ss>>>26)|0,ss&=67108863,S=Math.imul(Ot,pt),f=Math.imul(Ot,gt),f=f+Math.imul($t,pt)|0,A=Math.imul($t,gt),S=S+Math.imul(It,ft)|0,f=f+Math.imul(It,Xt)|0,f=f+Math.imul(kt,ft)|0,A=A+Math.imul(kt,Xt)|0,S=S+Math.imul(mt,te)|0,f=f+Math.imul(mt,ee)|0,f=f+Math.imul(St,te)|0,A=A+Math.imul(St,ee)|0,S=S+Math.imul(ut,ne)|0,f=f+Math.imul(ut,re)|0,f=f+Math.imul(dt,ne)|0,A=A+Math.imul(dt,re)|0,S=S+Math.imul(Z,ie)|0,f=f+Math.imul(Z,se)|0,f=f+Math.imul(tt,ie)|0,A=A+Math.imul(tt,se)|0;var os=(R+S|0)+((f&8191)<<13)|0;R=(A+(f>>>13)|0)+(os>>>26)|0,os&=67108863,S=Math.imul(jt,pt),f=Math.imul(jt,gt),f=f+Math.imul(Ct,pt)|0,A=Math.imul(Ct,gt),S=S+Math.imul(Ot,ft)|0,f=f+Math.imul(Ot,Xt)|0,f=f+Math.imul($t,ft)|0,A=A+Math.imul($t,Xt)|0,S=S+Math.imul(It,te)|0,f=f+Math.imul(It,ee)|0,f=f+Math.imul(kt,te)|0,A=A+Math.imul(kt,ee)|0,S=S+Math.imul(mt,ne)|0,f=f+Math.imul(mt,re)|0,f=f+Math.imul(St,ne)|0,A=A+Math.imul(St,re)|0,S=S+Math.imul(ut,ie)|0,f=f+Math.imul(ut,se)|0,f=f+Math.imul(dt,ie)|0,A=A+Math.imul(dt,se)|0,S=S+Math.imul(Z,oe)|0,f=f+Math.imul(Z,ae)|0,f=f+Math.imul(tt,oe)|0,A=A+Math.imul(tt,ae)|0;var as=(R+S|0)+((f&8191)<<13)|0;R=(A+(f>>>13)|0)+(as>>>26)|0,as&=67108863,S=Math.imul(Dt,pt),f=Math.imul(Dt,gt),f=f+Math.imul(zt,pt)|0,A=Math.imul(zt,gt),S=S+Math.imul(jt,ft)|0,f=f+Math.imul(jt,Xt)|0,f=f+Math.imul(Ct,ft)|0,A=A+Math.imul(Ct,Xt)|0,S=S+Math.imul(Ot,te)|0,f=f+Math.imul(Ot,ee)|0,f=f+Math.imul($t,te)|0,A=A+Math.imul($t,ee)|0,S=S+Math.imul(It,ne)|0,f=f+Math.imul(It,re)|0,f=f+Math.imul(kt,ne)|0,A=A+Math.imul(kt,re)|0,S=S+Math.imul(mt,ie)|0,f=f+Math.imul(mt,se)|0,f=f+Math.imul(St,ie)|0,A=A+Math.imul(St,se)|0,S=S+Math.imul(ut,oe)|0,f=f+Math.imul(ut,ae)|0,f=f+Math.imul(dt,oe)|0,A=A+Math.imul(dt,ae)|0,S=S+Math.imul(Z,ce)|0,f=f+Math.imul(Z,ue)|0,f=f+Math.imul(tt,ce)|0,A=A+Math.imul(tt,ue)|0;var cs=(R+S|0)+((f&8191)<<13)|0;R=(A+(f>>>13)|0)+(cs>>>26)|0,cs&=67108863,S=Math.imul(Pt,pt),f=Math.imul(Pt,gt),f=f+Math.imul(b,pt)|0,A=Math.imul(b,gt),S=S+Math.imul(Dt,ft)|0,f=f+Math.imul(Dt,Xt)|0,f=f+Math.imul(zt,ft)|0,A=A+Math.imul(zt,Xt)|0,S=S+Math.imul(jt,te)|0,f=f+Math.imul(jt,ee)|0,f=f+Math.imul(Ct,te)|0,A=A+Math.imul(Ct,ee)|0,S=S+Math.imul(Ot,ne)|0,f=f+Math.imul(Ot,re)|0,f=f+Math.imul($t,ne)|0,A=A+Math.imul($t,re)|0,S=S+Math.imul(It,ie)|0,f=f+Math.imul(It,se)|0,f=f+Math.imul(kt,ie)|0,A=A+Math.imul(kt,se)|0,S=S+Math.imul(mt,oe)|0,f=f+Math.imul(mt,ae)|0,f=f+Math.imul(St,oe)|0,A=A+Math.imul(St,ae)|0,S=S+Math.imul(ut,ce)|0,f=f+Math.imul(ut,ue)|0,f=f+Math.imul(dt,ce)|0,A=A+Math.imul(dt,ue)|0,S=S+Math.imul(Z,le)|0,f=f+Math.imul(Z,fe)|0,f=f+Math.imul(tt,le)|0,A=A+Math.imul(tt,fe)|0;var us=(R+S|0)+((f&8191)<<13)|0;R=(A+(f>>>13)|0)+(us>>>26)|0,us&=67108863,S=Math.imul(h,pt),f=Math.imul(h,gt),f=f+Math.imul(x,pt)|0,A=Math.imul(x,gt),S=S+Math.imul(Pt,ft)|0,f=f+Math.imul(Pt,Xt)|0,f=f+Math.imul(b,ft)|0,A=A+Math.imul(b,Xt)|0,S=S+Math.imul(Dt,te)|0,f=f+Math.imul(Dt,ee)|0,f=f+Math.imul(zt,te)|0,A=A+Math.imul(zt,ee)|0,S=S+Math.imul(jt,ne)|0,f=f+Math.imul(jt,re)|0,f=f+Math.imul(Ct,ne)|0,A=A+Math.imul(Ct,re)|0,S=S+Math.imul(Ot,ie)|0,f=f+Math.imul(Ot,se)|0,f=f+Math.imul($t,ie)|0,A=A+Math.imul($t,se)|0,S=S+Math.imul(It,oe)|0,f=f+Math.imul(It,ae)|0,f=f+Math.imul(kt,oe)|0,A=A+Math.imul(kt,ae)|0,S=S+Math.imul(mt,ce)|0,f=f+Math.imul(mt,ue)|0,f=f+Math.imul(St,ce)|0,A=A+Math.imul(St,ue)|0,S=S+Math.imul(ut,le)|0,f=f+Math.imul(ut,fe)|0,f=f+Math.imul(dt,le)|0,A=A+Math.imul(dt,fe)|0,S=S+Math.imul(Z,he)|0,f=f+Math.imul(Z,de)|0,f=f+Math.imul(tt,he)|0,A=A+Math.imul(tt,de)|0;var ls=(R+S|0)+((f&8191)<<13)|0;R=(A+(f>>>13)|0)+(ls>>>26)|0,ls&=67108863,S=Math.imul(j,pt),f=Math.imul(j,gt),f=f+Math.imul(W,pt)|0,A=Math.imul(W,gt),S=S+Math.imul(h,ft)|0,f=f+Math.imul(h,Xt)|0,f=f+Math.imul(x,ft)|0,A=A+Math.imul(x,Xt)|0,S=S+Math.imul(Pt,te)|0,f=f+Math.imul(Pt,ee)|0,f=f+Math.imul(b,te)|0,A=A+Math.imul(b,ee)|0,S=S+Math.imul(Dt,ne)|0,f=f+Math.imul(Dt,re)|0,f=f+Math.imul(zt,ne)|0,A=A+Math.imul(zt,re)|0,S=S+Math.imul(jt,ie)|0,f=f+Math.imul(jt,se)|0,f=f+Math.imul(Ct,ie)|0,A=A+Math.imul(Ct,se)|0,S=S+Math.imul(Ot,oe)|0,f=f+Math.imul(Ot,ae)|0,f=f+Math.imul($t,oe)|0,A=A+Math.imul($t,ae)|0,S=S+Math.imul(It,ce)|0,f=f+Math.imul(It,ue)|0,f=f+Math.imul(kt,ce)|0,A=A+Math.imul(kt,ue)|0,S=S+Math.imul(mt,le)|0,f=f+Math.imul(mt,fe)|0,f=f+Math.imul(St,le)|0,A=A+Math.imul(St,fe)|0,S=S+Math.imul(ut,he)|0,f=f+Math.imul(ut,de)|0,f=f+Math.imul(dt,he)|0,A=A+Math.imul(dt,de)|0,S=S+Math.imul(Z,ge)|0,f=f+Math.imul(Z,pe)|0,f=f+Math.imul(tt,ge)|0,A=A+Math.imul(tt,pe)|0;var fs=(R+S|0)+((f&8191)<<13)|0;R=(A+(f>>>13)|0)+(fs>>>26)|0,fs&=67108863,S=Math.imul(j,ft),f=Math.imul(j,Xt),f=f+Math.imul(W,ft)|0,A=Math.imul(W,Xt),S=S+Math.imul(h,te)|0,f=f+Math.imul(h,ee)|0,f=f+Math.imul(x,te)|0,A=A+Math.imul(x,ee)|0,S=S+Math.imul(Pt,ne)|0,f=f+Math.imul(Pt,re)|0,f=f+Math.imul(b,ne)|0,A=A+Math.imul(b,re)|0,S=S+Math.imul(Dt,ie)|0,f=f+Math.imul(Dt,se)|0,f=f+Math.imul(zt,ie)|0,A=A+Math.imul(zt,se)|0,S=S+Math.imul(jt,oe)|0,f=f+Math.imul(jt,ae)|0,f=f+Math.imul(Ct,oe)|0,A=A+Math.imul(Ct,ae)|0,S=S+Math.imul(Ot,ce)|0,f=f+Math.imul(Ot,ue)|0,f=f+Math.imul($t,ce)|0,A=A+Math.imul($t,ue)|0,S=S+Math.imul(It,le)|0,f=f+Math.imul(It,fe)|0,f=f+Math.imul(kt,le)|0,A=A+Math.imul(kt,fe)|0,S=S+Math.imul(mt,he)|0,f=f+Math.imul(mt,de)|0,f=f+Math.imul(St,he)|0,A=A+Math.imul(St,de)|0,S=S+Math.imul(ut,ge)|0,f=f+Math.imul(ut,pe)|0,f=f+Math.imul(dt,ge)|0,A=A+Math.imul(dt,pe)|0;var hs=(R+S|0)+((f&8191)<<13)|0;R=(A+(f>>>13)|0)+(hs>>>26)|0,hs&=67108863,S=Math.imul(j,te),f=Math.imul(j,ee),f=f+Math.imul(W,te)|0,A=Math.imul(W,ee),S=S+Math.imul(h,ne)|0,f=f+Math.imul(h,re)|0,f=f+Math.imul(x,ne)|0,A=A+Math.imul(x,re)|0,S=S+Math.imul(Pt,ie)|0,f=f+Math.imul(Pt,se)|0,f=f+Math.imul(b,ie)|0,A=A+Math.imul(b,se)|0,S=S+Math.imul(Dt,oe)|0,f=f+Math.imul(Dt,ae)|0,f=f+Math.imul(zt,oe)|0,A=A+Math.imul(zt,ae)|0,S=S+Math.imul(jt,ce)|0,f=f+Math.imul(jt,ue)|0,f=f+Math.imul(Ct,ce)|0,A=A+Math.imul(Ct,ue)|0,S=S+Math.imul(Ot,le)|0,f=f+Math.imul(Ot,fe)|0,f=f+Math.imul($t,le)|0,A=A+Math.imul($t,fe)|0,S=S+Math.imul(It,he)|0,f=f+Math.imul(It,de)|0,f=f+Math.imul(kt,he)|0,A=A+Math.imul(kt,de)|0,S=S+Math.imul(mt,ge)|0,f=f+Math.imul(mt,pe)|0,f=f+Math.imul(St,ge)|0,A=A+Math.imul(St,pe)|0;var ds=(R+S|0)+((f&8191)<<13)|0;R=(A+(f>>>13)|0)+(ds>>>26)|0,ds&=67108863,S=Math.imul(j,ne),f=Math.imul(j,re),f=f+Math.imul(W,ne)|0,A=Math.imul(W,re),S=S+Math.imul(h,ie)|0,f=f+Math.imul(h,se)|0,f=f+Math.imul(x,ie)|0,A=A+Math.imul(x,se)|0,S=S+Math.imul(Pt,oe)|0,f=f+Math.imul(Pt,ae)|0,f=f+Math.imul(b,oe)|0,A=A+Math.imul(b,ae)|0,S=S+Math.imul(Dt,ce)|0,f=f+Math.imul(Dt,ue)|0,f=f+Math.imul(zt,ce)|0,A=A+Math.imul(zt,ue)|0,S=S+Math.imul(jt,le)|0,f=f+Math.imul(jt,fe)|0,f=f+Math.imul(Ct,le)|0,A=A+Math.imul(Ct,fe)|0,S=S+Math.imul(Ot,he)|0,f=f+Math.imul(Ot,de)|0,f=f+Math.imul($t,he)|0,A=A+Math.imul($t,de)|0,S=S+Math.imul(It,ge)|0,f=f+Math.imul(It,pe)|0,f=f+Math.imul(kt,ge)|0,A=A+Math.imul(kt,pe)|0;var gs=(R+S|0)+((f&8191)<<13)|0;R=(A+(f>>>13)|0)+(gs>>>26)|0,gs&=67108863,S=Math.imul(j,ie),f=Math.imul(j,se),f=f+Math.imul(W,ie)|0,A=Math.imul(W,se),S=S+Math.imul(h,oe)|0,f=f+Math.imul(h,ae)|0,f=f+Math.imul(x,oe)|0,A=A+Math.imul(x,ae)|0,S=S+Math.imul(Pt,ce)|0,f=f+Math.imul(Pt,ue)|0,f=f+Math.imul(b,ce)|0,A=A+Math.imul(b,ue)|0,S=S+Math.imul(Dt,le)|0,f=f+Math.imul(Dt,fe)|0,f=f+Math.imul(zt,le)|0,A=A+Math.imul(zt,fe)|0,S=S+Math.imul(jt,he)|0,f=f+Math.imul(jt,de)|0,f=f+Math.imul(Ct,he)|0,A=A+Math.imul(Ct,de)|0,S=S+Math.imul(Ot,ge)|0,f=f+Math.imul(Ot,pe)|0,f=f+Math.imul($t,ge)|0,A=A+Math.imul($t,pe)|0;var ps=(R+S|0)+((f&8191)<<13)|0;R=(A+(f>>>13)|0)+(ps>>>26)|0,ps&=67108863,S=Math.imul(j,oe),f=Math.imul(j,ae),f=f+Math.imul(W,oe)|0,A=Math.imul(W,ae),S=S+Math.imul(h,ce)|0,f=f+Math.imul(h,ue)|0,f=f+Math.imul(x,ce)|0,A=A+Math.imul(x,ue)|0,S=S+Math.imul(Pt,le)|0,f=f+Math.imul(Pt,fe)|0,f=f+Math.imul(b,le)|0,A=A+Math.imul(b,fe)|0,S=S+Math.imul(Dt,he)|0,f=f+Math.imul(Dt,de)|0,f=f+Math.imul(zt,he)|0,A=A+Math.imul(zt,de)|0,S=S+Math.imul(jt,ge)|0,f=f+Math.imul(jt,pe)|0,f=f+Math.imul(Ct,ge)|0,A=A+Math.imul(Ct,pe)|0;var ws=(R+S|0)+((f&8191)<<13)|0;R=(A+(f>>>13)|0)+(ws>>>26)|0,ws&=67108863,S=Math.imul(j,ce),f=Math.imul(j,ue),f=f+Math.imul(W,ce)|0,A=Math.imul(W,ue),S=S+Math.imul(h,le)|0,f=f+Math.imul(h,fe)|0,f=f+Math.imul(x,le)|0,A=A+Math.imul(x,fe)|0,S=S+Math.imul(Pt,he)|0,f=f+Math.imul(Pt,de)|0,f=f+Math.imul(b,he)|0,A=A+Math.imul(b,de)|0,S=S+Math.imul(Dt,ge)|0,f=f+Math.imul(Dt,pe)|0,f=f+Math.imul(zt,ge)|0,A=A+Math.imul(zt,pe)|0;var ms=(R+S|0)+((f&8191)<<13)|0;R=(A+(f>>>13)|0)+(ms>>>26)|0,ms&=67108863,S=Math.imul(j,le),f=Math.imul(j,fe),f=f+Math.imul(W,le)|0,A=Math.imul(W,fe),S=S+Math.imul(h,he)|0,f=f+Math.imul(h,de)|0,f=f+Math.imul(x,he)|0,A=A+Math.imul(x,de)|0,S=S+Math.imul(Pt,ge)|0,f=f+Math.imul(Pt,pe)|0,f=f+Math.imul(b,ge)|0,A=A+Math.imul(b,pe)|0;var ys=(R+S|0)+((f&8191)<<13)|0;R=(A+(f>>>13)|0)+(ys>>>26)|0,ys&=67108863,S=Math.imul(j,he),f=Math.imul(j,de),f=f+Math.imul(W,he)|0,A=Math.imul(W,de),S=S+Math.imul(h,ge)|0,f=f+Math.imul(h,pe)|0,f=f+Math.imul(x,ge)|0,A=A+Math.imul(x,pe)|0;var bs=(R+S|0)+((f&8191)<<13)|0;R=(A+(f>>>13)|0)+(bs>>>26)|0,bs&=67108863,S=Math.imul(j,ge),f=Math.imul(j,pe),f=f+Math.imul(W,ge)|0,A=Math.imul(W,pe);var vs=(R+S|0)+((f&8191)<<13)|0;return R=(A+(f>>>13)|0)+(vs>>>26)|0,vs&=67108863,N[0]=ns,N[1]=rs,N[2]=is,N[3]=ss,N[4]=os,N[5]=as,N[6]=cs,N[7]=us,N[8]=ls,N[9]=fs,N[10]=hs,N[11]=ds,N[12]=gs,N[13]=ps,N[14]=ws,N[15]=ms,N[16]=ys,N[17]=bs,N[18]=vs,R!==0&&(N[19]=R,w.length++),w};Math.imul||(C=k);function _(T,u,d){d.negative=u.negative^T.negative,d.length=T.length+u.length;for(var w=0,m=0,E=0;E<d.length-1;E++){var N=m;m=0;for(var R=w&67108863,S=Math.min(E,u.length-1),f=Math.max(0,E-T.length+1);f<=S;f++){var A=E-f,Y=T.words[A]|0,Z=u.words[f]|0,tt=Y*Z,Et=tt&67108863;N=N+(tt/67108864|0)|0,Et=Et+R|0,R=Et&67108863,N=N+(Et>>>26)|0,m+=N>>>26,N&=67108863}d.words[E]=R,w=N,N=m}return w!==0?d.words[E]=w:d.length--,d._strip()}function O(T,u,d){return _(T,u,d)}i.prototype.mulTo=function(u,d){var w,m=this.length+u.length;return this.length===10&&u.length===10?w=C(this,u,d):m<63?w=k(this,u,d):m<1024?w=_(this,u,d):w=O(this,u,d),w},i.prototype.mul=function(u){var d=new i(null);return d.words=new Array(this.length+u.length),this.mulTo(u,d)},i.prototype.mulf=function(u){var d=new i(null);return d.words=new Array(this.length+u.length),O(this,u,d)},i.prototype.imul=function(u){return this.clone().mulTo(u,this)},i.prototype.imuln=function(u){var d=u<0;d&&(u=-u),n(typeof u=="number"),n(u<67108864);for(var w=0,m=0;m<this.length;m++){var E=(this.words[m]|0)*u,N=(E&67108863)+(w&67108863);w>>=26,w+=E/67108864|0,w+=N>>>26,this.words[m]=N&67108863}return w!==0&&(this.words[m]=w,this.length++),d?this.ineg():this},i.prototype.muln=function(u){return this.clone().imuln(u)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(u){var d=v(u);if(d.length===0)return new i(1);for(var w=this,m=0;m<d.length&&d[m]===0;m++,w=w.sqr());if(++m<d.length)for(var E=w.sqr();m<d.length;m++,E=E.sqr())d[m]!==0&&(w=w.mul(E));return w},i.prototype.iushln=function(u){n(typeof u=="number"&&u>=0);var d=u%26,w=(u-d)/26,m=67108863>>>26-d<<26-d,E;if(d!==0){var N=0;for(E=0;E<this.length;E++){var R=this.words[E]&m,S=(this.words[E]|0)-R<<d;this.words[E]=S|N,N=R>>>26-d}N&&(this.words[E]=N,this.length++)}if(w!==0){for(E=this.length-1;E>=0;E--)this.words[E+w]=this.words[E];for(E=0;E<w;E++)this.words[E]=0;this.length+=w}return this._strip()},i.prototype.ishln=function(u){return n(this.negative===0),this.iushln(u)},i.prototype.iushrn=function(u,d,w){n(typeof u=="number"&&u>=0);var m;d?m=(d-d%26)/26:m=0;var E=u%26,N=Math.min((u-E)/26,this.length),R=67108863^67108863>>>E<<E,S=w;if(m-=N,m=Math.max(0,m),S){for(var f=0;f<N;f++)S.words[f]=this.words[f];S.length=N}if(N!==0)if(this.length>N)for(this.length-=N,f=0;f<this.length;f++)this.words[f]=this.words[f+N];else this.words[0]=0,this.length=1;var A=0;for(f=this.length-1;f>=0&&(A!==0||f>=m);f--){var Y=this.words[f]|0;this.words[f]=A<<26-E|Y>>>E,A=Y&R}return S&&A!==0&&(S.words[S.length++]=A),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(u,d,w){return n(this.negative===0),this.iushrn(u,d,w)},i.prototype.shln=function(u){return this.clone().ishln(u)},i.prototype.ushln=function(u){return this.clone().iushln(u)},i.prototype.shrn=function(u){return this.clone().ishrn(u)},i.prototype.ushrn=function(u){return this.clone().iushrn(u)},i.prototype.testn=function(u){n(typeof u=="number"&&u>=0);var d=u%26,w=(u-d)/26,m=1<<d;if(this.length<=w)return!1;var E=this.words[w];return!!(E&m)},i.prototype.imaskn=function(u){n(typeof u=="number"&&u>=0);var d=u%26,w=(u-d)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=w)return this;if(d!==0&&w++,this.length=Math.min(w,this.length),d!==0){var m=67108863^67108863>>>d<<d;this.words[this.length-1]&=m}return this._strip()},i.prototype.maskn=function(u){return this.clone().imaskn(u)},i.prototype.iaddn=function(u){return n(typeof u=="number"),n(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},i.prototype._iaddn=function(u){this.words[0]+=u;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},i.prototype.isubn=function(u){if(n(typeof u=="number"),n(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},i.prototype.addn=function(u){return this.clone().iaddn(u)},i.prototype.subn=function(u){return this.clone().isubn(u)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(u,d,w){var m=u.length+w,E;this._expand(m);var N,R=0;for(E=0;E<u.length;E++){N=(this.words[E+w]|0)+R;var S=(u.words[E]|0)*d;N-=S&67108863,R=(N>>26)-(S/67108864|0),this.words[E+w]=N&67108863}for(;E<this.length-w;E++)N=(this.words[E+w]|0)+R,R=N>>26,this.words[E+w]=N&67108863;if(R===0)return this._strip();for(n(R===-1),R=0,E=0;E<this.length;E++)N=-(this.words[E]|0)+R,R=N>>26,this.words[E]=N&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(u,d){var w=this.length-u.length,m=this.clone(),E=u,N=E.words[E.length-1]|0,R=this._countBits(N);w=26-R,w!==0&&(E=E.ushln(w),m.iushln(w),N=E.words[E.length-1]|0);var S=m.length-E.length,f;if(d!=="mod"){f=new i(null),f.length=S+1,f.words=new Array(f.length);for(var A=0;A<f.length;A++)f.words[A]=0}var Y=m.clone()._ishlnsubmul(E,1,S);Y.negative===0&&(m=Y,f&&(f.words[S]=1));for(var Z=S-1;Z>=0;Z--){var tt=(m.words[E.length+Z]|0)*67108864+(m.words[E.length+Z-1]|0);for(tt=Math.min(tt/N|0,67108863),m._ishlnsubmul(E,tt,Z);m.negative!==0;)tt--,m.negative=0,m._ishlnsubmul(E,1,Z),m.isZero()||(m.negative^=1);f&&(f.words[Z]=tt)}return f&&f._strip(),m._strip(),d!=="div"&&w!==0&&m.iushrn(w),{div:f||null,mod:m}},i.prototype.divmod=function(u,d,w){if(n(!u.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var m,E,N;return this.negative!==0&&u.negative===0?(N=this.neg().divmod(u,d),d!=="mod"&&(m=N.div.neg()),d!=="div"&&(E=N.mod.neg(),w&&E.negative!==0&&E.iadd(u)),{div:m,mod:E}):this.negative===0&&u.negative!==0?(N=this.divmod(u.neg(),d),d!=="mod"&&(m=N.div.neg()),{div:m,mod:N.mod}):this.negative&u.negative?(N=this.neg().divmod(u.neg(),d),d!=="div"&&(E=N.mod.neg(),w&&E.negative!==0&&E.isub(u)),{div:N.div,mod:E}):u.length>this.length||this.cmp(u)<0?{div:new i(0),mod:this}:u.length===1?d==="div"?{div:this.divn(u.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new i(this.modrn(u.words[0]))}:this._wordDiv(u,d)},i.prototype.div=function(u){return this.divmod(u,"div",!1).div},i.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},i.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},i.prototype.divRound=function(u){var d=this.divmod(u);if(d.mod.isZero())return d.div;var w=d.div.negative!==0?d.mod.isub(u):d.mod,m=u.ushrn(1),E=u.andln(1),N=w.cmp(m);return N<0||E===1&&N===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},i.prototype.modrn=function(u){var d=u<0;d&&(u=-u),n(u<=67108863);for(var w=(1<<26)%u,m=0,E=this.length-1;E>=0;E--)m=(w*m+(this.words[E]|0))%u;return d?-m:m},i.prototype.modn=function(u){return this.modrn(u)},i.prototype.idivn=function(u){var d=u<0;d&&(u=-u),n(u<=67108863);for(var w=0,m=this.length-1;m>=0;m--){var E=(this.words[m]|0)+w*67108864;this.words[m]=E/u|0,w=E%u}return this._strip(),d?this.ineg():this},i.prototype.divn=function(u){return this.clone().idivn(u)},i.prototype.egcd=function(u){n(u.negative===0),n(!u.isZero());var d=this,w=u.clone();d.negative!==0?d=d.umod(u):d=d.clone();for(var m=new i(1),E=new i(0),N=new i(0),R=new i(1),S=0;d.isEven()&&w.isEven();)d.iushrn(1),w.iushrn(1),++S;for(var f=w.clone(),A=d.clone();!d.isZero();){for(var Y=0,Z=1;!(d.words[0]&Z)&&Y<26;++Y,Z<<=1);if(Y>0)for(d.iushrn(Y);Y-- >0;)(m.isOdd()||E.isOdd())&&(m.iadd(f),E.isub(A)),m.iushrn(1),E.iushrn(1);for(var tt=0,Et=1;!(w.words[0]&Et)&&tt<26;++tt,Et<<=1);if(tt>0)for(w.iushrn(tt);tt-- >0;)(N.isOdd()||R.isOdd())&&(N.iadd(f),R.isub(A)),N.iushrn(1),R.iushrn(1);d.cmp(w)>=0?(d.isub(w),m.isub(N),E.isub(R)):(w.isub(d),N.isub(m),R.isub(E))}return{a:N,b:R,gcd:w.iushln(S)}},i.prototype._invmp=function(u){n(u.negative===0),n(!u.isZero());var d=this,w=u.clone();d.negative!==0?d=d.umod(u):d=d.clone();for(var m=new i(1),E=new i(0),N=w.clone();d.cmpn(1)>0&&w.cmpn(1)>0;){for(var R=0,S=1;!(d.words[0]&S)&&R<26;++R,S<<=1);if(R>0)for(d.iushrn(R);R-- >0;)m.isOdd()&&m.iadd(N),m.iushrn(1);for(var f=0,A=1;!(w.words[0]&A)&&f<26;++f,A<<=1);if(f>0)for(w.iushrn(f);f-- >0;)E.isOdd()&&E.iadd(N),E.iushrn(1);d.cmp(w)>=0?(d.isub(w),m.isub(E)):(w.isub(d),E.isub(m))}var Y;return d.cmpn(1)===0?Y=m:Y=E,Y.cmpn(0)<0&&Y.iadd(u),Y},i.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var d=this.clone(),w=u.clone();d.negative=0,w.negative=0;for(var m=0;d.isEven()&&w.isEven();m++)d.iushrn(1),w.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;w.isEven();)w.iushrn(1);var E=d.cmp(w);if(E<0){var N=d;d=w,w=N}else if(E===0||w.cmpn(1)===0)break;d.isub(w)}while(!0);return w.iushln(m)},i.prototype.invm=function(u){return this.egcd(u).a.umod(u)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(u){return this.words[0]&u},i.prototype.bincn=function(u){n(typeof u=="number");var d=u%26,w=(u-d)/26,m=1<<d;if(this.length<=w)return this._expand(w+1),this.words[w]|=m,this;for(var E=m,N=w;E!==0&&N<this.length;N++){var R=this.words[N]|0;R+=E,E=R>>>26,R&=67108863,this.words[N]=R}return E!==0&&(this.words[N]=E,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(u){var d=u<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var w;if(this.length>1)w=1;else{d&&(u=-u),n(u<=67108863,"Number is too big");var m=this.words[0]|0;w=m===u?0:m<u?-1:1}return this.negative!==0?-w|0:w},i.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var d=this.ucmp(u);return this.negative!==0?-d|0:d},i.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var d=0,w=this.length-1;w>=0;w--){var m=this.words[w]|0,E=u.words[w]|0;if(m!==E){m<E?d=-1:m>E&&(d=1);break}}return d},i.prototype.gtn=function(u){return this.cmpn(u)===1},i.prototype.gt=function(u){return this.cmp(u)===1},i.prototype.gten=function(u){return this.cmpn(u)>=0},i.prototype.gte=function(u){return this.cmp(u)>=0},i.prototype.ltn=function(u){return this.cmpn(u)===-1},i.prototype.lt=function(u){return this.cmp(u)===-1},i.prototype.lten=function(u){return this.cmpn(u)<=0},i.prototype.lte=function(u){return this.cmp(u)<=0},i.prototype.eqn=function(u){return this.cmpn(u)===0},i.prototype.eq=function(u){return this.cmp(u)===0},i.red=function(u){return new nt(u)},i.prototype.toRed=function(u){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(u){return this.red=u,this},i.prototype.forceRed=function(u){return n(!this.red,"Already a number in reduction context"),this._forceRed(u)},i.prototype.redAdd=function(u){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},i.prototype.redIAdd=function(u){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},i.prototype.redSub=function(u){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},i.prototype.redISub=function(u){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},i.prototype.redShl=function(u){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},i.prototype.redMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},i.prototype.redIMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(u){return n(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var P={k256:null,p224:null,p192:null,p25519:null};function z(T,u){this.name=T,this.p=new i(u,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}z.prototype._tmp=function(){var u=new i(null);return u.words=new Array(Math.ceil(this.n/13)),u},z.prototype.ireduce=function(u){var d=u,w;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),w=d.bitLength();while(w>this.n);var m=w<this.n?-1:d.ucmp(this.p);return m===0?(d.words[0]=0,d.length=1):m>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},z.prototype.split=function(u,d){u.iushrn(this.n,0,d)},z.prototype.imulK=function(u){return u.imul(this.k)};function $(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s($,z),$.prototype.split=function(u,d){for(var w=4194303,m=Math.min(u.length,9),E=0;E<m;E++)d.words[E]=u.words[E];if(d.length=m,u.length<=9){u.words[0]=0,u.length=1;return}var N=u.words[9];for(d.words[d.length++]=N&w,E=10;E<u.length;E++){var R=u.words[E]|0;u.words[E-10]=(R&w)<<4|N>>>22,N=R}N>>>=22,u.words[E-10]=N,N===0&&u.length>10?u.length-=10:u.length-=9},$.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var d=0,w=0;w<u.length;w++){var m=u.words[w]|0;d+=m*977,u.words[w]=d&67108863,d=m*64+(d/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function K(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(K,z);function J(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(J,z);function ht(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(ht,z),ht.prototype.imulK=function(u){for(var d=0,w=0;w<u.length;w++){var m=(u.words[w]|0)*19+d,E=m&67108863;m>>>=26,u.words[w]=E,d=m}return d!==0&&(u.words[u.length++]=d),u},i._prime=function(u){if(P[u])return P[u];var d;if(u==="k256")d=new $;else if(u==="p224")d=new K;else if(u==="p192")d=new J;else if(u==="p25519")d=new ht;else throw new Error("Unknown prime "+u);return P[u]=d,d};function nt(T){if(typeof T=="string"){var u=i._prime(T);this.m=u.p,this.prime=u}else n(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}nt.prototype._verify1=function(u){n(u.negative===0,"red works only with positives"),n(u.red,"red works only with red numbers")},nt.prototype._verify2=function(u,d){n((u.negative|d.negative)===0,"red works only with positives"),n(u.red&&u.red===d.red,"red works only with red numbers")},nt.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(p(u,u.umod(this.m)._forceRed(this)),u)},nt.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},nt.prototype.add=function(u,d){this._verify2(u,d);var w=u.add(d);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},nt.prototype.iadd=function(u,d){this._verify2(u,d);var w=u.iadd(d);return w.cmp(this.m)>=0&&w.isub(this.m),w},nt.prototype.sub=function(u,d){this._verify2(u,d);var w=u.sub(d);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},nt.prototype.isub=function(u,d){this._verify2(u,d);var w=u.isub(d);return w.cmpn(0)<0&&w.iadd(this.m),w},nt.prototype.shl=function(u,d){return this._verify1(u),this.imod(u.ushln(d))},nt.prototype.imul=function(u,d){return this._verify2(u,d),this.imod(u.imul(d))},nt.prototype.mul=function(u,d){return this._verify2(u,d),this.imod(u.mul(d))},nt.prototype.isqr=function(u){return this.imul(u,u.clone())},nt.prototype.sqr=function(u){return this.mul(u,u)},nt.prototype.sqrt=function(u){if(u.isZero())return u.clone();var d=this.m.andln(3);if(n(d%2===1),d===3){var w=this.m.add(new i(1)).iushrn(2);return this.pow(u,w)}for(var m=this.m.subn(1),E=0;!m.isZero()&&m.andln(1)===0;)E++,m.iushrn(1);n(!m.isZero());var N=new i(1).toRed(this),R=N.redNeg(),S=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);this.pow(f,S).cmp(R)!==0;)f.redIAdd(R);for(var A=this.pow(f,m),Y=this.pow(u,m.addn(1).iushrn(1)),Z=this.pow(u,m),tt=E;Z.cmp(N)!==0;){for(var Et=Z,ut=0;Et.cmp(N)!==0;ut++)Et=Et.redSqr();n(ut<tt);var dt=this.pow(A,new i(1).iushln(tt-ut-1));Y=Y.redMul(dt),A=dt.redSqr(),Z=Z.redMul(A),tt=ut}return Y},nt.prototype.invm=function(u){var d=u._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},nt.prototype.pow=function(u,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return u.clone();var w=4,m=new Array(1<<w);m[0]=new i(1).toRed(this),m[1]=u;for(var E=2;E<m.length;E++)m[E]=this.mul(m[E-1],u);var N=m[0],R=0,S=0,f=d.bitLength()%26;for(f===0&&(f=26),E=d.length-1;E>=0;E--){for(var A=d.words[E],Y=f-1;Y>=0;Y--){var Z=A>>Y&1;if(N!==m[0]&&(N=this.sqr(N)),Z===0&&R===0){S=0;continue}R<<=1,R|=Z,S++,!(S!==w&&(E!==0||Y!==0))&&(N=this.mul(N,m[R]),S=0,R=0)}f=26}return N},nt.prototype.convertTo=function(u){var d=u.umod(this.m);return d===u?d.clone():d},nt.prototype.convertFrom=function(u){var d=u.clone();return d.red=null,d},i.mont=function(u){return new rt(u)};function rt(T){nt.call(this,T),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(rt,nt),rt.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},rt.prototype.convertFrom=function(u){var d=this.imod(u.mul(this.rinv));return d.red=null,d},rt.prototype.imul=function(u,d){if(u.isZero()||d.isZero())return u.words[0]=0,u.length=1,u;var w=u.imul(d),m=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=w.isub(m).iushrn(this.shift),N=E;return E.cmp(this.m)>=0?N=E.isub(this.m):E.cmpn(0)<0&&(N=E.iadd(this.m)),N._forceRed(this)},rt.prototype.mul=function(u,d){if(u.isZero()||d.isZero())return new i(0)._forceRed(this);var w=u.mul(d),m=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=w.isub(m).iushrn(this.shift),N=E;return E.cmp(this.m)>=0?N=E.isub(this.m):E.cmpn(0)<0&&(N=E.iadd(this.m)),N._forceRed(this)},rt.prototype.invm=function(u){var d=this.imod(u._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(r,sn)})(Fo);var Oc=Fo.exports;const Ra=Xn(Oc);var no={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(r,t){var e=wt,n=e.Buffer;function s(o,a){for(var c in o)a[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?r.exports=e:(s(e,t),t.Buffer=i);function i(o,a,c){return n(o,a,c)}i.prototype=Object.create(n.prototype),s(n,i),i.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,c)},i.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var g=n(o);return a!==void 0?typeof c=="string"?g.fill(a,c):g.fill(a):g.fill(0),g},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return e.SlowBuffer(o)}})(no,no.exports);var Wo=no.exports,ri=Wo.Buffer;function nh(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=n}var o=r.length,a=r.charAt(0),c=Math.log(o)/Math.log(256),g=Math.log(256)/Math.log(o);function p(M){if((Array.isArray(M)||M instanceof Uint8Array)&&(M=ri.from(M)),!ri.isBuffer(M))throw new TypeError("Expected Buffer");if(M.length===0)return"";for(var L=0,B=0,v=0,k=M.length;v!==k&&M[v]===0;)v++,L++;for(var C=(k-v)*g+1>>>0,_=new Uint8Array(C);v!==k;){for(var O=M[v],P=0,z=C-1;(O!==0||P<B)&&z!==-1;z--,P++)O+=256*_[z]>>>0,_[z]=O%o>>>0,O=O/o>>>0;if(O!==0)throw new Error("Non-zero carry");B=P,v++}for(var $=C-B;$!==C&&_[$]===0;)$++;for(var K=a.repeat(L);$<C;++$)K+=r.charAt(_[$]);return K}function y(M){if(typeof M!="string")throw new TypeError("Expected String");if(M.length===0)return ri.alloc(0);for(var L=0,B=0,v=0;M[L]===a;)B++,L++;for(var k=(M.length-L)*c+1>>>0,C=new Uint8Array(k);L<M.length;){var _=t[M.charCodeAt(L)];if(_===255)return;for(var O=0,P=k-1;(_!==0||O<v)&&P!==-1;P--,O++)_+=o*C[P]>>>0,C[P]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");v=O,L++}for(var z=k-v;z!==k&&C[z]===0;)z++;var $=ri.allocUnsafe(B+(k-z));$.fill(0,0,B);for(var K=B;z!==k;)$[K++]=C[z++];return $}function I(M){var L=y(M);if(L)return L;throw new Error("Non-base"+o+" character")}return{encode:p,decodeUnsafe:y,decode:I}}var rh=nh,ih=rh,sh="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",oh=ih(sh);const Le=Xn(oh),ah=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Bn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ln=new Uint32Array(64);class ch extends Ac{constructor(){super(64,32,8,!1),this.A=Bn[0]|0,this.B=Bn[1]|0,this.C=Bn[2]|0,this.D=Bn[3]|0,this.E=Bn[4]|0,this.F=Bn[5]|0,this.G=Bn[6]|0,this.H=Bn[7]|0}get(){const{A:t,B:e,C:n,D:s,E:i,F:o,G:a,H:c}=this;return[t,e,n,s,i,o,a,c]}set(t,e,n,s,i,o,a,c){this.A=t|0,this.B=e|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,e){for(let y=0;y<16;y++,e+=4)Ln[y]=t.getUint32(e,!1);for(let y=16;y<64;y++){const I=Ln[y-15],M=Ln[y-2],L=an(I,7)^an(I,18)^I>>>3,B=an(M,17)^an(M,19)^M>>>10;Ln[y]=B+Ln[y-7]+L+Ln[y-16]|0}let{A:n,B:s,C:i,D:o,E:a,F:c,G:g,H:p}=this;for(let y=0;y<64;y++){const I=an(a,6)^an(a,11)^an(a,25),M=p+I+Hl(a,c,g)+ah[y]+Ln[y]|0,B=(an(n,2)^an(n,13)^an(n,22))+Gl(n,s,i)|0;p=g,g=c,c=a,a=o+M|0,o=i,i=s,s=n,n=M+B|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,g=g+this.G|0,p=p+this.H|0,this.set(n,s,i,o,a,c,g,p)}roundClean(){Ln.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const ro=Ic(()=>new ch);var Be={},ii=Wo.Buffer;function uh(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=n}var o=r.length,a=r.charAt(0),c=Math.log(o)/Math.log(256),g=Math.log(256)/Math.log(o);function p(M){if((Array.isArray(M)||M instanceof Uint8Array)&&(M=ii.from(M)),!ii.isBuffer(M))throw new TypeError("Expected Buffer");if(M.length===0)return"";for(var L=0,B=0,v=0,k=M.length;v!==k&&M[v]===0;)v++,L++;for(var C=(k-v)*g+1>>>0,_=new Uint8Array(C);v!==k;){for(var O=M[v],P=0,z=C-1;(O!==0||P<B)&&z!==-1;z--,P++)O+=256*_[z]>>>0,_[z]=O%o>>>0,O=O/o>>>0;if(O!==0)throw new Error("Non-zero carry");B=P,v++}for(var $=C-B;$!==C&&_[$]===0;)$++;for(var K=a.repeat(L);$<C;++$)K+=r.charAt(_[$]);return K}function y(M){if(typeof M!="string")throw new TypeError("Expected String");if(M.length===0)return ii.alloc(0);for(var L=0,B=0,v=0;M[L]===a;)B++,L++;for(var k=(M.length-L)*c+1>>>0,C=new Uint8Array(k);L<M.length;){var _=t[M.charCodeAt(L)];if(_===255)return;for(var O=0,P=k-1;(_!==0||O<v)&&P!==-1;P--,O++)_+=o*C[P]>>>0,C[P]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");v=O,L++}for(var z=k-v;z!==k&&C[z]===0;)z++;var $=ii.allocUnsafe(B+(k-z));$.fill(0,0,B);for(var K=B;z!==k;)$[K++]=C[z++];return $}function I(M){var L=y(M);if(L)return L;throw new Error("Non-base"+o+" character")}return{encode:p,decodeUnsafe:y,decode:I}}var lh=uh,fh=lh,hh="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",dh=fh(hh);function wn(r,t,e){return t<=r&&r<=e}function Ui(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function gh(r){for(var t=String(r),e=t.length,n=0,s=[];n<e;){var i=t.charCodeAt(n);if(i<55296||i>57343)s.push(i);else if(56320<=i&&i<=57343)s.push(65533);else if(55296<=i&&i<=56319)if(n===e-1)s.push(65533);else{var o=r.charCodeAt(n+1);if(56320<=o&&o<=57343){var a=i&1023,c=o&1023;s.push(65536+(a<<10)+c),n+=1}else s.push(65533)}n+=1}return s}function ph(r){for(var t="",e=0;e<r.length;++e){var n=r[e];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return t}var vi=-1;function $o(r){this.tokens=[].slice.call(r)}$o.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():vi},prepend:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.push(t.shift());else this.tokens.push(r)}};var Mr=-1;function As(r,t){if(r)throw TypeError("Decoder error");return t||65533}var Mi="utf-8";function Ei(r,t){if(!(this instanceof Ei))return new Ei(r,t);if(r=r!==void 0?String(r).toLowerCase():Mi,r!==Mi)throw new Error("Encoding not supported. Only utf-8 is supported");t=Ui(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Ei.prototype={decode:function(t,e){var n;typeof t=="object"&&t instanceof ArrayBuffer?n=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):n=new Uint8Array(0),e=Ui(e),this._streaming||(this._decoder=new wh({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!e.stream;for(var s=new $o(n),i=[],o;!s.endOfStream()&&(o=this._decoder.handler(s,s.read()),o!==Mr);)o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));if(!this._streaming){do{if(o=this._decoder.handler(s,s.read()),o===Mr)break;o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o))}while(!s.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),ph(i)}};function Si(r,t){if(!(this instanceof Si))return new Si(r,t);if(r=r!==void 0?String(r).toLowerCase():Mi,r!==Mi)throw new Error("Encoding not supported. Only utf-8 is supported");t=Ui(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Si.prototype={encode:function(t,e){t=t?String(t):"",e=Ui(e),this._streaming||(this._encoder=new mh(this._options)),this._streaming=!!e.stream;for(var n=[],s=new $o(gh(t)),i;!s.endOfStream()&&(i=this._encoder.handler(s,s.read()),i!==Mr);)Array.isArray(i)?n.push.apply(n,i):n.push(i);if(!this._streaming){for(;i=this._encoder.handler(s,s.read()),i!==Mr;)Array.isArray(i)?n.push.apply(n,i):n.push(i);this._encoder=null}return new Uint8Array(n)}};function wh(r){var t=r.fatal,e=0,n=0,s=0,i=128,o=191;this.handler=function(a,c){if(c===vi&&s!==0)return s=0,As(t);if(c===vi)return Mr;if(s===0){if(wn(c,0,127))return c;if(wn(c,194,223))s=1,e=c-192;else if(wn(c,224,239))c===224&&(i=160),c===237&&(o=159),s=2,e=c-224;else if(wn(c,240,244))c===240&&(i=144),c===244&&(o=143),s=3,e=c-240;else return As(t);return e=e<<6*s,null}if(!wn(c,i,o))return e=s=n=0,i=128,o=191,a.prepend(c),As(t);if(i=128,o=191,n+=1,e+=c-128<<6*(s-n),n!==s)return null;var g=e;return e=s=n=0,g}}function mh(r){r.fatal,this.handler=function(t,e){if(e===vi)return Mr;if(wn(e,0,127))return e;var n,s;wn(e,128,2047)?(n=1,s=192):wn(e,2048,65535)?(n=2,s=224):wn(e,65536,1114111)&&(n=3,s=240);for(var i=[(e>>6*n)+s];n>0;){var o=e>>6*(n-1);i.push(128|o&63),n-=1}return i}}const yh=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Ei,TextEncoder:Si},Symbol.toStringTag,{value:"Module"})),bh=ko(yh);var vh=sn&&sn.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),Mh=sn&&sn.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),ln=sn&&sn.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},Eh=sn&&sn.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.hasOwnProperty.call(r,e)&&vh(t,r,e);return Mh(t,r),t},jc=sn&&sn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Be,"__esModule",{value:!0});var Uc=Be.deserializeUnchecked=Kc=Be.deserialize=$c=Be.serialize=Be.BinaryReader=Be.BinaryWriter=Be.BorshError=Be.baseDecode=Be.baseEncode=void 0;const kn=jc(Oc),zc=jc(dh),Sh=Eh(bh),xh=typeof TextDecoder!="function"?Sh.TextDecoder:TextDecoder,Ih=new xh("utf-8",{fatal:!0});function _h(r){return typeof r=="string"&&(r=Buffer.from(r,"utf8")),zc.default.encode(Buffer.from(r))}Be.baseEncode=_h;function Ah(r){return Buffer.from(zc.default.decode(r))}Be.baseDecode=Ah;const Bs=1024;class Oe extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Be.BorshError=Oe;class Pc{constructor(){this.buf=Buffer.alloc(Bs),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Bs)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer.from(new kn.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer.from(new kn.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer.from(new kn.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer.from(new kn.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),t,Buffer.alloc(Bs)]),this.length+=t.length}writeString(t){this.maybeResize();const e=Buffer.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(Buffer.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const n of t)this.maybeResize(),e(n)}toArray(){return this.buf.subarray(0,this.length)}}Be.BinaryWriter=Pc;function fn(r,t,e){const n=e.value;e.value=function(...s){try{return n.apply(this,s)}catch(i){if(i instanceof RangeError){const o=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new Oe("Reached the end of buffer when deserializing")}throw i}}}class Ge{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new kn.default(t,"le")}readU128(){const t=this.readBuffer(16);return new kn.default(t,"le")}readU256(){const t=this.readBuffer(32);return new kn.default(t,"le")}readU512(){const t=this.readBuffer(64);return new kn.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new Oe(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return Ih.decode(e)}catch(n){throw new Oe(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),n=Array();for(let s=0;s<e;++s)n.push(t());return n}}ln([fn],Ge.prototype,"readU8",null);ln([fn],Ge.prototype,"readU16",null);ln([fn],Ge.prototype,"readU32",null);ln([fn],Ge.prototype,"readU64",null);ln([fn],Ge.prototype,"readU128",null);ln([fn],Ge.prototype,"readU256",null);ln([fn],Ge.prototype,"readU512",null);ln([fn],Ge.prototype,"readString",null);ln([fn],Ge.prototype,"readFixedArray",null);ln([fn],Ge.prototype,"readArray",null);Be.BinaryReader=Ge;function Fc(r){return r.charAt(0).toUpperCase()+r.slice(1)}function Fn(r,t,e,n,s){try{if(typeof n=="string")s[`write${Fc(n)}`](e);else if(n instanceof Array)if(typeof n[0]=="number"){if(e.length!==n[0])throw new Oe(`Expecting byte array of length ${n[0]}, but got ${e.length} bytes`);s.writeFixedArray(e)}else if(n.length===2&&typeof n[1]=="number"){if(e.length!==n[1])throw new Oe(`Expecting byte array of length ${n[1]}, but got ${e.length} bytes`);for(let i=0;i<n[1];i++)Fn(r,null,e[i],n[0],s)}else s.writeArray(e,i=>{Fn(r,t,i,n[0],s)});else if(n.kind!==void 0)switch(n.kind){case"option":{e==null?s.writeU8(0):(s.writeU8(1),Fn(r,t,e,n.type,s));break}case"map":{s.writeU32(e.size),e.forEach((i,o)=>{Fn(r,t,o,n.key,s),Fn(r,t,i,n.value,s)});break}default:throw new Oe(`FieldType ${n} unrecognized`)}else Wc(r,e,s)}catch(i){throw i instanceof Oe&&i.addToFieldPath(t),i}}function Wc(r,t,e){if(typeof t.borshSerialize=="function"){t.borshSerialize(e);return}const n=r.get(t.constructor);if(!n)throw new Oe(`Class ${t.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([s,i])=>{Fn(r,s,t[s],i,e)});else if(n.kind==="enum"){const s=t[n.field];for(let i=0;i<n.values.length;++i){const[o,a]=n.values[i];if(o===s){e.writeU8(i),Fn(r,o,t[o],a,e);break}}}else throw new Oe(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function Bh(r,t,e=Pc){const n=new e;return Wc(r,t,n),n.toArray()}var $c=Be.serialize=Bh;function Wn(r,t,e,n){try{if(typeof e=="string")return n[`read${Fc(e)}`]();if(e instanceof Array){if(typeof e[0]=="number")return n.readFixedArray(e[0]);if(typeof e[1]=="number"){const s=[];for(let i=0;i<e[1];i++)s.push(Wn(r,null,e[0],n));return s}else return n.readArray(()=>Wn(r,t,e[0],n))}if(e.kind==="option")return n.readU8()?Wn(r,t,e.type,n):void 0;if(e.kind==="map"){let s=new Map;const i=n.readU32();for(let o=0;o<i;o++){const a=Wn(r,t,e.key,n),c=Wn(r,t,e.value,n);s.set(a,c)}return s}return Ko(r,e,n)}catch(s){throw s instanceof Oe&&s.addToFieldPath(t),s}}function Ko(r,t,e){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(e);const n=r.get(t);if(!n)throw new Oe(`Class ${t.name} is missing in schema`);if(n.kind==="struct"){const s={};for(const[i,o]of r.get(t).fields)s[i]=Wn(r,i,o,e);return new t(s)}if(n.kind==="enum"){const s=e.readU8();if(s>=n.values.length)throw new Oe(`Enum index: ${s} is out of range`);const[i,o]=n.values[s],a=Wn(r,i,o,e);return new t({[i]:a})}throw new Oe(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function Lh(r,t,e,n=Ge){const s=new n(e),i=Ko(r,t,s);if(s.offset<e.length)throw new Oe(`Unexpected ${e.length-s.offset} bytes after deserialized data`);return i}var Kc=Be.deserialize=Lh;function Th(r,t,e,n=Ge){const s=new n(e);return Ko(r,t,s)}Uc=Be.deserializeUnchecked=Th;var F={};Object.defineProperty(F,"__esModule",{value:!0});F.s16=F.s8=F.nu64be=F.u48be=F.u40be=F.u32be=F.u24be=F.u16be=_e=F.nu64=F.u48=F.u40=ct=F.u32=F.u24=Ze=F.u16=Lt=F.u8=Vn=F.offset=F.greedy=F.Constant=F.UTF8=F.CString=F.Blob=F.Boolean=F.BitField=F.BitStructure=F.VariantLayout=F.Union=F.UnionLayoutDiscriminator=F.UnionDiscriminator=F.Structure=F.Sequence=F.DoubleBE=F.Double=F.FloatBE=F.Float=F.NearInt64BE=F.NearInt64=F.NearUInt64BE=F.NearUInt64=F.IntBE=F.Int=F.UIntBE=F.UInt=F.OffsetLayout=F.GreedyCount=F.ExternalLayout=F.bindConstructorLayout=F.nameWithProperty=F.Layout=F.uint8ArrayToBuffer=F.checkUint8Array=void 0;F.constant=F.utf8=F.cstr=Wt=F.blob=F.unionLayoutDiscriminator=F.union=De=F.seq=F.bits=it=F.struct=F.f64be=F.f64=F.f32be=F.f32=F.ns64be=F.s48be=F.s40be=F.s32be=F.s24be=F.s16be=$e=F.ns64=F.s48=F.s40=F.s32=F.s24=void 0;const qo=wt;function Tr(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}F.checkUint8Array=Tr;function Bt(r){return Tr(r),qo.Buffer.from(r.buffer,r.byteOffset,r.length)}F.uint8ArrayToBuffer=Bt;class Nt{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}F.Layout=Nt;function Ho(r,t){return t.property?r+"["+t.property+"]":r}F.nameWithProperty=Ho;function Nh(r,t){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof Nt))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=t,t.boundConstructor_=r,t.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(r,"decode",{value(e,n){return t.decode(e,n)},writable:!0})}F.bindConstructorLayout=Nh;class Fe extends Nt{isCount(){throw new Error("ExternalLayout is abstract")}}F.ExternalLayout=Fe;class qc extends Fe{constructor(t=1,e){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e=0){Tr(t);const n=t.length-e;return Math.floor(n/this.elementSpan)}encode(t,e,n){return 0}}F.GreedyCount=qc;class Go extends Fe{constructor(t,e=0,n){if(!(t instanceof Nt))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof Je||this.layout instanceof rn}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,n=0){return this.layout.encode(t,e,n+this.offset)}}F.OffsetLayout=Go;class Je extends Nt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return Bt(t).readUIntLE(e,this.span)}encode(t,e,n=0){return Bt(e).writeUIntLE(t,n,this.span),this.span}}F.UInt=Je;class rn extends Nt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return Bt(t).readUIntBE(e,this.span)}encode(t,e,n=0){return Bt(e).writeUIntBE(t,n,this.span),this.span}}F.UIntBE=rn;class tr extends Nt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return Bt(t).readIntLE(e,this.span)}encode(t,e,n=0){return Bt(e).writeIntLE(t,n,this.span),this.span}}F.Int=tr;class Nr extends Nt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return Bt(t).readIntBE(e,this.span)}encode(t,e,n=0){return Bt(e).writeIntBE(t,n,this.span),this.span}}F.IntBE=Nr;const io=Math.pow(2,32);function zi(r){const t=Math.floor(r/io),e=r-t*io;return{hi32:t,lo32:e}}function Pi(r,t){return r*io+t}class Hc extends Nt{constructor(t){super(8,t)}decode(t,e=0){const n=Bt(t),s=n.readUInt32LE(e),i=n.readUInt32LE(e+4);return Pi(i,s)}encode(t,e,n=0){const s=zi(t),i=Bt(e);return i.writeUInt32LE(s.lo32,n),i.writeUInt32LE(s.hi32,n+4),8}}F.NearUInt64=Hc;class Gc extends Nt{constructor(t){super(8,t)}decode(t,e=0){const n=Bt(t),s=n.readUInt32BE(e),i=n.readUInt32BE(e+4);return Pi(s,i)}encode(t,e,n=0){const s=zi(t),i=Bt(e);return i.writeUInt32BE(s.hi32,n),i.writeUInt32BE(s.lo32,n+4),8}}F.NearUInt64BE=Gc;class Yc extends Nt{constructor(t){super(8,t)}decode(t,e=0){const n=Bt(t),s=n.readUInt32LE(e),i=n.readInt32LE(e+4);return Pi(i,s)}encode(t,e,n=0){const s=zi(t),i=Bt(e);return i.writeUInt32LE(s.lo32,n),i.writeInt32LE(s.hi32,n+4),8}}F.NearInt64=Yc;class Vc extends Nt{constructor(t){super(8,t)}decode(t,e=0){const n=Bt(t),s=n.readInt32BE(e),i=n.readUInt32BE(e+4);return Pi(s,i)}encode(t,e,n=0){const s=zi(t),i=Bt(e);return i.writeInt32BE(s.hi32,n),i.writeUInt32BE(s.lo32,n+4),8}}F.NearInt64BE=Vc;class Zc extends Nt{constructor(t){super(4,t)}decode(t,e=0){return Bt(t).readFloatLE(e)}encode(t,e,n=0){return Bt(e).writeFloatLE(t,n),4}}F.Float=Zc;class Qc extends Nt{constructor(t){super(4,t)}decode(t,e=0){return Bt(t).readFloatBE(e)}encode(t,e,n=0){return Bt(e).writeFloatBE(t,n),4}}F.FloatBE=Qc;class Jc extends Nt{constructor(t){super(8,t)}decode(t,e=0){return Bt(t).readDoubleLE(e)}encode(t,e,n=0){return Bt(e).writeDoubleLE(t,n),8}}F.Double=Jc;class Xc extends Nt{constructor(t){super(8,t)}decode(t,e=0){return Bt(t).readDoubleBE(e)}encode(t,e,n=0){return Bt(e).writeDoubleBE(t,n),8}}F.DoubleBE=Xc;class tu extends Nt{constructor(t,e,n){if(!(t instanceof Nt))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof Fe&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(e instanceof Fe)&&0<t.span&&(s=e*t.span),super(s,n),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0,s=this.count;if(s instanceof Fe&&(s=s.decode(t,e)),0<this.elementLayout.span)n=s*this.elementLayout.span;else{let i=0;for(;i<s;)n+=this.elementLayout.getSpan(t,e+n),++i}return n}decode(t,e=0){const n=[];let s=0,i=this.count;for(i instanceof Fe&&(i=i.decode(t,e));s<i;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),s+=1;return n}encode(t,e,n=0){const s=this.elementLayout,i=t.reduce((o,a)=>o+s.encode(a,e,n+o),0);return this.count instanceof Fe&&this.count.encode(t.length,e,n),i}}F.Sequence=tu;class eu extends Nt{constructor(t,e,n){if(!(Array.isArray(t)&&t.reduce((i,o)=>i&&o instanceof Nt,!0)))throw new TypeError("fields must be array of Layout instances");typeof e=="boolean"&&n===void 0&&(n=e,e=void 0);for(const i of t)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=t.reduce((i,o)=>i+o.getSpan(),0)}catch{}super(s,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((s,i)=>{const o=i.getSpan(t,e);return e+=o,s+o},0)}catch{throw new RangeError("indeterminate span")}return n}decode(t,e=0){Tr(t);const n=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(n[s.property]=s.decode(t,e)),e+=s.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n=0){const s=n;let i=0,o=0;for(const a of this.fields){let c=a.span;if(o=0<c?c:0,a.property!==void 0){const g=t[a.property];g!==void 0&&(o=a.encode(g,e,n),0>c&&(c=a.getSpan(e,n)))}i=n,n+=c}return i+o-s}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}F.Structure=eu;class Yo{constructor(t){this.property=t}decode(t,e){throw new Error("UnionDiscriminator is abstract")}encode(t,e,n){throw new Error("UnionDiscriminator is abstract")}}F.UnionDiscriminator=Yo;class xi extends Yo{constructor(t,e){if(!(t instanceof Fe&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}F.UnionLayoutDiscriminator=xi;class Vo extends Nt{constructor(t,e,n){let s;if(t instanceof Je||t instanceof rn)s=new xi(new Go(t));else if(t instanceof Fe&&t.isCount())s=new xi(t);else if(t instanceof Yo)s=t;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(e===void 0&&(e=null),!(e===null||e instanceof Nt))throw new TypeError("defaultLayout must be null or a Layout");if(e!==null){if(0>e.span)throw new Error("defaultLayout must have constant span");e.property===void 0&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&(t instanceof Je||t instanceof rn)&&(i+=s.layout.span)),super(i,n),this.discriminator=s,this.usesPrefixDiscriminator=t instanceof Je||t instanceof rn,this.defaultLayout=e,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(t,e=0){if(0<=this.span)return this.span;const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(n.property&&Object.prototype.hasOwnProperty.call(t,n.property))return n}throw new Error("unable to infer src variant")}decode(t,e=0){let n;const s=this.discriminator,i=s.decode(t,e),o=this.registry[i];if(o===void 0){const a=this.defaultLayout;let c=0;this.usesPrefixDiscriminator&&(c=s.layout.span),n=this.makeDestinationObject(),n[s.property]=i,n[a.property]=a.decode(t,e+c)}else n=o.decode(t,e);return n}encode(t,e,n=0){const s=this.getSourceVariant(t);if(s===void 0){const i=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=i.layout.span),i.encode(t[i.property],e,n),a+o.encode(t[o.property],e,n+a)}return s.encode(t,e,n)}addVariant(t,e,n){const s=new nu(this,t,e,n);return this.registry[t]=s,s}getVariant(t,e=0){let n;return t instanceof Uint8Array?n=this.discriminator.decode(t,e):n=t,this.registry[n]}}F.Union=Vo;class nu extends Nt{constructor(t,e,n,s){if(!(t instanceof Vo))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&s===void 0&&(s=n,n=null),n){if(!(n instanceof Nt))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=n?n.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,s),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let s=0;return this.layout&&(s=this.layout.getSpan(t,e+n)),n+s}decode(t,e=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+s):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n=0){let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=s;if(this.layout&&(this.layout.encode(t[this.property],e,n+s),i+=this.layout.getSpan(e,n+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}F.VariantLayout=nu;function cr(r){return 0>r&&(r+=4294967296),r}class Zo extends Nt{constructor(t,e,n){if(!(t instanceof Je||t instanceof rn))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof e=="string"&&n===void 0&&(n=e,e=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!e,this.fields=[];let s=0;this._packedSetValue=function(i){return s=cr(i),this},this._packedGetValue=function(){return s}}decode(t,e=0){const n=this.makeDestinationObject(),s=this.word.decode(t,e);this._packedSetValue(s);for(const i of this.fields)i.property!==void 0&&(n[i.property]=i.decode(t));return n}encode(t,e,n=0){const s=this.word.decode(e,n);this._packedSetValue(s);for(const i of this.fields)if(i.property!==void 0){const o=t[i.property];o!==void 0&&i.encode(o)}return this.word.encode(this._packedGetValue(),e,n)}addField(t,e){const n=new Qo(this,t,e);return this.fields.push(n),n}addBoolean(t){const e=new ru(this,t);return this.fields.push(e),e}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}F.BitStructure=Zo;class Qo{constructor(t,e,n){if(!(t instanceof Zo))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const s=8*t.span,i=t.fields.reduce((o,a)=>o+a.bits,0);if(e+i>s)throw new Error("bits too long for span remainder ("+(s-i)+" of "+s+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,e===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=s-i-e),this.wordMask=cr(this.valueMask<<this.start),this.property=n}decode(t,e){const n=this.container._packedGetValue();return cr(n&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==cr(t&this.valueMask))throw new TypeError(Ho("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),n=cr(t<<this.start);this.container._packedSetValue(cr(e&~this.wordMask)|n)}}F.BitField=Qo;let ru=class extends Qo{constructor(t,e){super(t,1,e)}decode(t,e){return!!super.decode(t,e)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}};F.Boolean=ru;class iu extends Nt{constructor(t,e){if(!(t instanceof Fe&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof Fe||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e=0){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),Bt(t).slice(e,e+n)}encode(t,e,n){let s=this.length;if(this.length instanceof Fe&&(s=t.length),!(t instanceof Uint8Array&&s===t.length))throw new TypeError(Ho("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(n+s>e.length)throw new RangeError("encoding overruns Uint8Array");const i=Bt(t);return Bt(e).write(i.toString("hex"),n,s,"hex"),this.length instanceof Fe&&this.length.encode(s,e,n),s}}F.Blob=iu;class su extends Nt{constructor(t){super(-1,t)}getSpan(t,e=0){Tr(t);let n=e;for(;n<t.length&&t[n]!==0;)n+=1;return 1+n-e}decode(t,e=0){const n=this.getSpan(t,e);return Bt(t).slice(e,e+n-1).toString("utf-8")}encode(t,e,n=0){typeof t!="string"&&(t=String(t));const s=qo.Buffer.from(t,"utf8"),i=s.length;if(n+i>e.length)throw new RangeError("encoding overruns Buffer");const o=Bt(e);return s.copy(o,n),o[n+i]=0,i+1}}F.CString=su;class ou extends Nt{constructor(t,e){if(typeof t=="string"&&e===void 0&&(e=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e=0){return Tr(t),t.length-e}decode(t,e=0){const n=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Bt(t).slice(e,e+n).toString("utf-8")}encode(t,e,n=0){typeof t!="string"&&(t=String(t));const s=qo.Buffer.from(t,"utf8"),i=s.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>e.length)throw new RangeError("encoding overruns Buffer");return s.copy(Bt(e),n),i}}F.UTF8=ou;class au extends Nt{constructor(t,e){super(0,e),this.value=t}decode(t,e){return this.value}encode(t,e,n){return 0}}F.Constant=au;F.greedy=(r,t)=>new qc(r,t);var Vn=F.offset=(r,t,e)=>new Go(r,t,e),Lt=F.u8=r=>new Je(1,r),Ze=F.u16=r=>new Je(2,r);F.u24=r=>new Je(3,r);var ct=F.u32=r=>new Je(4,r);F.u40=r=>new Je(5,r);F.u48=r=>new Je(6,r);var _e=F.nu64=r=>new Hc(r);F.u16be=r=>new rn(2,r);F.u24be=r=>new rn(3,r);F.u32be=r=>new rn(4,r);F.u40be=r=>new rn(5,r);F.u48be=r=>new rn(6,r);F.nu64be=r=>new Gc(r);F.s8=r=>new tr(1,r);F.s16=r=>new tr(2,r);F.s24=r=>new tr(3,r);F.s32=r=>new tr(4,r);F.s40=r=>new tr(5,r);F.s48=r=>new tr(6,r);var $e=F.ns64=r=>new Yc(r);F.s16be=r=>new Nr(2,r);F.s24be=r=>new Nr(3,r);F.s32be=r=>new Nr(4,r);F.s40be=r=>new Nr(5,r);F.s48be=r=>new Nr(6,r);F.ns64be=r=>new Vc(r);F.f32=r=>new Zc(r);F.f32be=r=>new Qc(r);F.f64=r=>new Jc(r);F.f64be=r=>new Xc(r);var it=F.struct=(r,t,e)=>new eu(r,t,e);F.bits=(r,t,e)=>new Zo(r,t,e);var De=F.seq=(r,t,e)=>new tu(r,t,e);F.union=(r,t,e)=>new Vo(r,t,e);F.unionLayoutDiscriminator=(r,t)=>new xi(r,t);var Wt=F.blob=(r,t)=>new iu(r,t);F.cstr=r=>new su(r);F.utf8=(r,t)=>new ou(r,t);F.constant=(r,t)=>new au(r,t);var Zr={};Object.defineProperty(Zr,"__esModule",{value:!0});function kh(r){{const t=Buffer.from(r);t.reverse();const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}var Ch=Zr.toBigIntLE=kh;function Rh(r){{const t=r.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}}Zr.toBigIntBE=Rh;function Dh(r,t){{const e=r.toString(16),n=Buffer.from(e.padStart(t*2,"0").slice(0,t*2),"hex");return n.reverse(),n}}var Oh=Zr.toBufferLE=Dh;function jh(r,t){{const e=r.toString(16);return Buffer.from(e.padStart(t*2,"0").slice(0,t*2),"hex")}}Zr.toBufferBE=jh;class Uh extends TypeError{constructor(t,e){let n;const{message:s,explanation:i,...o}=t,{path:a}=t,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...e()])}}function zh(r){return Qr(r)&&typeof r[Symbol.iterator]=="function"}function Qr(r){return typeof r=="object"&&r!=null}function Ii(r){return Qr(r)&&!Array.isArray(r)}function on(r){return typeof r=="symbol"?r.toString():typeof r=="string"?JSON.stringify(r):`${r}`}function Ph(r){const{done:t,value:e}=r.next();return t?void 0:e}function Fh(r,t,e,n){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});const{path:s,branch:i}=t,{type:o}=e,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${on(n)}\``}=r;return{value:n,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...r,message:c}}function*Da(r,t,e,n){zh(r)||(r=[r]);for(const s of r){const i=Fh(s,t,e,n);i&&(yield i)}}function*Jo(r,t,e={}){const{path:n=[],branch:s=[r],coerce:i=!1,mask:o=!1}=e,a={path:n,branch:s,mask:o};i&&(r=t.coercer(r,a));let c="valid";for(const g of t.validator(r,a))g.explanation=e.message,c="not_valid",yield[g,void 0];for(let[g,p,y]of t.entries(r,a)){const I=Jo(p,y,{path:g===void 0?n:[...n,g],branch:g===void 0?s:[...s,p],coerce:i,mask:o,message:e.message});for(const M of I)M[0]?(c=M[0].refinement!=null?"not_refined":"not_valid",yield[M[0],void 0]):i&&(p=M[1],g===void 0?r=p:r instanceof Map?r.set(g,p):r instanceof Set?r.add(p):Qr(r)&&(p!==void 0||g in r)&&(r[g]=p))}if(c!=="not_valid")for(const g of t.refiner(r,a))g.explanation=e.message,c="not_refined",yield[g,void 0];c==="valid"&&(yield[void 0,r])}let hn=class{constructor(t){const{type:e,schema:n,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=t;this.type=e,this.schema=n,this.entries=a,this.coercer=o,s?this.validator=(c,g)=>{const p=s(c,g);return Da(p,g,this,c)}:this.validator=()=>[],i?this.refiner=(c,g)=>{const p=i(c,g);return Da(p,g,this,c)}:this.refiner=()=>[]}assert(t,e){return Wh(t,this,e)}create(t,e){return V(t,this,e)}is(t){return cu(t,this)}mask(t,e){return $h(t,this,e)}validate(t,e={}){return Jr(t,this,e)}};function Wh(r,t,e){const n=Jr(r,t,{message:e});if(n[0])throw n[0]}function V(r,t,e){const n=Jr(r,t,{coerce:!0,message:e});if(n[0])throw n[0];return n[1]}function $h(r,t,e){const n=Jr(r,t,{coerce:!0,mask:!0,message:e});if(n[0])throw n[0];return n[1]}function cu(r,t){return!Jr(r,t)[0]}function Jr(r,t,e={}){const n=Jo(r,t,e),s=Ph(n);return s[0]?[new Uh(s[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,s[1]]}function er(r,t){return new hn({type:r,schema:null,validator:t})}function Kh(){return er("any",()=>!0)}function X(r){return new hn({type:"array",schema:r,*entries(t){if(r&&Array.isArray(t))for(const[e,n]of t.entries())yield[e,n,r]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${on(t)}`}})}function un(){return er("boolean",r=>typeof r=="boolean")}function Xo(r){return er("instance",t=>t instanceof r||`Expected a \`${r.name}\` instance, but received: ${on(t)}`)}function Ht(r){const t=on(r),e=typeof r;return new hn({type:"literal",schema:e==="string"||e==="number"||e==="boolean"?r:null,validator(n){return n===r||`Expected the literal \`${t}\`, but received: ${on(n)}`}})}function qh(){return er("never",()=>!1)}function et(r){return new hn({...r,validator:(t,e)=>t===null||r.validator(t,e),refiner:(t,e)=>t===null||r.refiner(t,e)})}function U(){return er("number",r=>typeof r=="number"&&!isNaN(r)||`Expected a number, but received: ${on(r)}`)}function lt(r){return new hn({...r,validator:(t,e)=>t===void 0||r.validator(t,e),refiner:(t,e)=>t===void 0||r.refiner(t,e)})}function uu(r,t){return new hn({type:"record",schema:null,*entries(e){if(Qr(e))for(const n in e){const s=e[n];yield[n,n,r],yield[n,s,t]}},validator(e){return Ii(e)||`Expected an object, but received: ${on(e)}`},coercer(e){return Ii(e)?{...e}:e}})}function G(){return er("string",r=>typeof r=="string"||`Expected a string, but received: ${on(r)}`)}function ta(r){const t=qh();return new hn({type:"tuple",schema:null,*entries(e){if(Array.isArray(e)){const n=Math.max(r.length,e.length);for(let s=0;s<n;s++)yield[s,e[s],r[s]||t]}},validator(e){return Array.isArray(e)||`Expected an array, but received: ${on(e)}`},coercer(e){return Array.isArray(e)?e.slice():e}})}function q(r){const t=Object.keys(r);return new hn({type:"type",schema:r,*entries(e){if(Qr(e))for(const n of t)yield[n,e[n],r[n]]},validator(e){return Ii(e)||`Expected an object, but received: ${on(e)}`},coercer(e){return Ii(e)?{...e}:e}})}function je(r){const t=r.map(e=>e.type).join(" | ");return new hn({type:"union",schema:null,coercer(e,n){for(const s of r){const[i,o]=s.validate(e,{coerce:!0,mask:n.mask});if(!i)return o}return e},validator(e,n){const s=[];for(const i of r){const[...o]=Jo(e,i,n),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${on(e)}`,...s]}})}function kr(){return er("unknown",()=>!0)}function Xr(r,t,e){return new hn({...r,coercer:(n,s)=>cu(n,t)?r.coercer(e(n,s),s):r.coercer(n,s)})}var si,Hh=new Uint8Array(16);function lu(){if(!si&&(si=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!si))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return si(Hh)}const Gh=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Fi(r){return typeof r=="string"&&Gh.test(r)}var Ie=[];for(var Ls=0;Ls<256;++Ls)Ie.push((Ls+256).toString(16).substr(1));function Wi(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(Ie[r[t+0]]+Ie[r[t+1]]+Ie[r[t+2]]+Ie[r[t+3]]+"-"+Ie[r[t+4]]+Ie[r[t+5]]+"-"+Ie[r[t+6]]+Ie[r[t+7]]+"-"+Ie[r[t+8]]+Ie[r[t+9]]+"-"+Ie[r[t+10]]+Ie[r[t+11]]+Ie[r[t+12]]+Ie[r[t+13]]+Ie[r[t+14]]+Ie[r[t+15]]).toLowerCase();if(!Fi(e))throw TypeError("Stringified UUID is invalid");return e}var Oa,Ts,Ns=0,ks=0;function Yh(r,t,e){var n=t&&e||0,s=t||new Array(16);r=r||{};var i=r.node||Oa,o=r.clockseq!==void 0?r.clockseq:Ts;if(i==null||o==null){var a=r.random||(r.rng||lu)();i==null&&(i=Oa=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=Ts=(a[6]<<8|a[7])&16383)}var c=r.msecs!==void 0?r.msecs:Date.now(),g=r.nsecs!==void 0?r.nsecs:ks+1,p=c-Ns+(g-ks)/1e4;if(p<0&&r.clockseq===void 0&&(o=o+1&16383),(p<0||c>Ns)&&r.nsecs===void 0&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Ns=c,ks=g,Ts=o,c+=122192928e5;var y=((c&268435455)*1e4+g)%4294967296;s[n++]=y>>>24&255,s[n++]=y>>>16&255,s[n++]=y>>>8&255,s[n++]=y&255;var I=c/4294967296*1e4&268435455;s[n++]=I>>>8&255,s[n++]=I&255,s[n++]=I>>>24&15|16,s[n++]=I>>>16&255,s[n++]=o>>>8|128,s[n++]=o&255;for(var M=0;M<6;++M)s[n+M]=i[M];return t||Wi(s)}function fu(r){if(!Fi(r))throw TypeError("Invalid UUID");var t,e=new Uint8Array(16);return e[0]=(t=parseInt(r.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=t&255,e[4]=(t=parseInt(r.slice(9,13),16))>>>8,e[5]=t&255,e[6]=(t=parseInt(r.slice(14,18),16))>>>8,e[7]=t&255,e[8]=(t=parseInt(r.slice(19,23),16))>>>8,e[9]=t&255,e[10]=(t=parseInt(r.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=t&255,e}function Vh(r){r=unescape(encodeURIComponent(r));for(var t=[],e=0;e<r.length;++e)t.push(r.charCodeAt(e));return t}var Zh="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Qh="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function hu(r,t,e){function n(s,i,o,a){if(typeof s=="string"&&(s=Vh(s)),typeof i=="string"&&(i=fu(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+s.length);if(c.set(i),c.set(s,i.length),c=e(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,o){a=a||0;for(var g=0;g<16;++g)o[a+g]=c[g];return o}return Wi(c)}try{n.name=r}catch{}return n.DNS=Zh,n.URL=Qh,n}function Jh(r){if(typeof r=="string"){var t=unescape(encodeURIComponent(r));r=new Uint8Array(t.length);for(var e=0;e<t.length;++e)r[e]=t.charCodeAt(e)}return Xh(td(ed(r),r.length*8))}function Xh(r){for(var t=[],e=r.length*32,n="0123456789abcdef",s=0;s<e;s+=8){var i=r[s>>5]>>>s%32&255,o=parseInt(n.charAt(i>>>4&15)+n.charAt(i&15),16);t.push(o)}return t}function du(r){return(r+64>>>9<<4)+14+1}function td(r,t){r[t>>5]|=128<<t%32,r[du(t)-1]=t;for(var e=1732584193,n=-271733879,s=-1732584194,i=271733878,o=0;o<r.length;o+=16){var a=e,c=n,g=s,p=i;e=Te(e,n,s,i,r[o],7,-680876936),i=Te(i,e,n,s,r[o+1],12,-389564586),s=Te(s,i,e,n,r[o+2],17,606105819),n=Te(n,s,i,e,r[o+3],22,-1044525330),e=Te(e,n,s,i,r[o+4],7,-176418897),i=Te(i,e,n,s,r[o+5],12,1200080426),s=Te(s,i,e,n,r[o+6],17,-1473231341),n=Te(n,s,i,e,r[o+7],22,-45705983),e=Te(e,n,s,i,r[o+8],7,1770035416),i=Te(i,e,n,s,r[o+9],12,-1958414417),s=Te(s,i,e,n,r[o+10],17,-42063),n=Te(n,s,i,e,r[o+11],22,-1990404162),e=Te(e,n,s,i,r[o+12],7,1804603682),i=Te(i,e,n,s,r[o+13],12,-40341101),s=Te(s,i,e,n,r[o+14],17,-1502002290),n=Te(n,s,i,e,r[o+15],22,1236535329),e=Ne(e,n,s,i,r[o+1],5,-165796510),i=Ne(i,e,n,s,r[o+6],9,-1069501632),s=Ne(s,i,e,n,r[o+11],14,643717713),n=Ne(n,s,i,e,r[o],20,-373897302),e=Ne(e,n,s,i,r[o+5],5,-701558691),i=Ne(i,e,n,s,r[o+10],9,38016083),s=Ne(s,i,e,n,r[o+15],14,-660478335),n=Ne(n,s,i,e,r[o+4],20,-405537848),e=Ne(e,n,s,i,r[o+9],5,568446438),i=Ne(i,e,n,s,r[o+14],9,-1019803690),s=Ne(s,i,e,n,r[o+3],14,-187363961),n=Ne(n,s,i,e,r[o+8],20,1163531501),e=Ne(e,n,s,i,r[o+13],5,-1444681467),i=Ne(i,e,n,s,r[o+2],9,-51403784),s=Ne(s,i,e,n,r[o+7],14,1735328473),n=Ne(n,s,i,e,r[o+12],20,-1926607734),e=ke(e,n,s,i,r[o+5],4,-378558),i=ke(i,e,n,s,r[o+8],11,-2022574463),s=ke(s,i,e,n,r[o+11],16,1839030562),n=ke(n,s,i,e,r[o+14],23,-35309556),e=ke(e,n,s,i,r[o+1],4,-1530992060),i=ke(i,e,n,s,r[o+4],11,1272893353),s=ke(s,i,e,n,r[o+7],16,-155497632),n=ke(n,s,i,e,r[o+10],23,-1094730640),e=ke(e,n,s,i,r[o+13],4,681279174),i=ke(i,e,n,s,r[o],11,-358537222),s=ke(s,i,e,n,r[o+3],16,-722521979),n=ke(n,s,i,e,r[o+6],23,76029189),e=ke(e,n,s,i,r[o+9],4,-640364487),i=ke(i,e,n,s,r[o+12],11,-421815835),s=ke(s,i,e,n,r[o+15],16,530742520),n=ke(n,s,i,e,r[o+2],23,-995338651),e=Ce(e,n,s,i,r[o],6,-198630844),i=Ce(i,e,n,s,r[o+7],10,1126891415),s=Ce(s,i,e,n,r[o+14],15,-1416354905),n=Ce(n,s,i,e,r[o+5],21,-57434055),e=Ce(e,n,s,i,r[o+12],6,1700485571),i=Ce(i,e,n,s,r[o+3],10,-1894986606),s=Ce(s,i,e,n,r[o+10],15,-1051523),n=Ce(n,s,i,e,r[o+1],21,-2054922799),e=Ce(e,n,s,i,r[o+8],6,1873313359),i=Ce(i,e,n,s,r[o+15],10,-30611744),s=Ce(s,i,e,n,r[o+6],15,-1560198380),n=Ce(n,s,i,e,r[o+13],21,1309151649),e=Ce(e,n,s,i,r[o+4],6,-145523070),i=Ce(i,e,n,s,r[o+11],10,-1120210379),s=Ce(s,i,e,n,r[o+2],15,718787259),n=Ce(n,s,i,e,r[o+9],21,-343485551),e=Cn(e,a),n=Cn(n,c),s=Cn(s,g),i=Cn(i,p)}return[e,n,s,i]}function ed(r){if(r.length===0)return[];for(var t=r.length*8,e=new Uint32Array(du(t)),n=0;n<t;n+=8)e[n>>5]|=(r[n/8]&255)<<n%32;return e}function Cn(r,t){var e=(r&65535)+(t&65535),n=(r>>16)+(t>>16)+(e>>16);return n<<16|e&65535}function nd(r,t){return r<<t|r>>>32-t}function $i(r,t,e,n,s,i){return Cn(nd(Cn(Cn(t,r),Cn(n,i)),s),e)}function Te(r,t,e,n,s,i,o){return $i(t&e|~t&n,r,t,s,i,o)}function Ne(r,t,e,n,s,i,o){return $i(t&n|e&~n,r,t,s,i,o)}function ke(r,t,e,n,s,i,o){return $i(t^e^n,r,t,s,i,o)}function Ce(r,t,e,n,s,i,o){return $i(e^(t|~n),r,t,s,i,o)}var rd=hu("v3",48,Jh);function id(r,t,e){r=r||{};var n=r.random||(r.rng||lu)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){e=e||0;for(var s=0;s<16;++s)t[e+s]=n[s];return t}return Wi(n)}function sd(r,t,e,n){switch(r){case 0:return t&e^~t&n;case 1:return t^e^n;case 2:return t&e^t&n^e&n;case 3:return t^e^n}}function Cs(r,t){return r<<t|r>>>32-t}function od(r){var t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var s=0;s<n.length;++s)r.push(n.charCodeAt(s))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var i=r.length/4+2,o=Math.ceil(i/16),a=new Array(o),c=0;c<o;++c){for(var g=new Uint32Array(16),p=0;p<16;++p)g[p]=r[c*64+p*4]<<24|r[c*64+p*4+1]<<16|r[c*64+p*4+2]<<8|r[c*64+p*4+3];a[c]=g}a[o-1][14]=(r.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(r.length-1)*8&4294967295;for(var y=0;y<o;++y){for(var I=new Uint32Array(80),M=0;M<16;++M)I[M]=a[y][M];for(var L=16;L<80;++L)I[L]=Cs(I[L-3]^I[L-8]^I[L-14]^I[L-16],1);for(var B=e[0],v=e[1],k=e[2],C=e[3],_=e[4],O=0;O<80;++O){var P=Math.floor(O/20),z=Cs(B,5)+sd(P,v,k,C)+_+t[P]+I[O]>>>0;_=C,C=k,k=Cs(v,30)>>>0,v=B,B=z}e[0]=e[0]+B>>>0,e[1]=e[1]+v>>>0,e[2]=e[2]+k>>>0,e[3]=e[3]+C>>>0,e[4]=e[4]+_>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var ad=hu("v5",80,od);const cd="00000000-0000-0000-0000-000000000000";function ud(r){if(!Fi(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}const ld=Object.freeze(Object.defineProperty({__proto__:null,NIL:cd,parse:fu,stringify:Wi,v1:Yh,v3:rd,v4:id,v5:ad,validate:Fi,version:ud},Symbol.toStringTag,{value:"Module"})),gu=ko(ld),fd=gu.v4,hd=function(r,t,e,n){if(typeof r!="string")throw new TypeError(r+" must be a string");n=n||{};const s=typeof n.version=="number"?n.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");const i={method:r};if(s===2&&(i.jsonrpc="2.0"),t){if(typeof t!="object"&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");i.params=t}if(typeof e>"u"){const o=typeof n.generator=="function"?n.generator:function(){return fd()};i.id=o(i,n)}else s===2&&e===null?n.notificationIdNull&&(i.id=null):i.id=e;return i};var dd=hd;const gd=gu.v4,pd=dd,$r=function(r,t){if(!(this instanceof $r))return new $r(r,t);t||(t={}),this.options={reviver:typeof t.reviver<"u"?t.reviver:null,replacer:typeof t.replacer<"u"?t.replacer:null,generator:typeof t.generator<"u"?t.generator:function(){return gd()},version:typeof t.version<"u"?t.version:2,notificationIdNull:typeof t.notificationIdNull=="boolean"?t.notificationIdNull:!1},this.callServer=r};var wd=$r;$r.prototype.request=function(r,t,e,n){const s=this;let i=null;const o=Array.isArray(r)&&typeof t=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&r&&typeof r=="object"&&typeof t=="function")n=t,i=r;else{typeof e=="function"&&(n=e,e=void 0);const g=typeof n=="function";try{i=pd(r,t,e,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(p){if(g)return n(p);throw p}if(!g)return i}let c;try{c=JSON.stringify(i,this.options.replacer)}catch(g){return n(g)}return this.callServer(c,function(g,p){s._parseResponse(g,p,n)}),i};$r.prototype._parseResponse=function(r,t,e){if(r){e(r);return}if(!t)return e();let n;try{n=JSON.parse(t,this.options.reviver)}catch(s){return e(s)}if(e.length===3)if(Array.isArray(n)){const s=function(o){return typeof o.error<"u"},i=function(o){return!s(o)};return e(null,n.filter(s),n.filter(i))}else return e(null,n.error,n.result);e(null,n)};const md=Xn(wd);var pu={exports:{}};(function(r){var t=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function s(c,g,p){this.fn=c,this.context=g,this.once=p||!1}function i(c,g,p,y,I){if(typeof p!="function")throw new TypeError("The listener must be a function");var M=new s(p,y||c,I),L=e?e+g:g;return c._events[L]?c._events[L].fn?c._events[L]=[c._events[L],M]:c._events[L].push(M):(c._events[L]=M,c._eventsCount++),c}function o(c,g){--c._eventsCount===0?c._events=new n:delete c._events[g]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var g=[],p,y;if(this._eventsCount===0)return g;for(y in p=this._events)t.call(p,y)&&g.push(e?y.slice(1):y);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(p)):g},a.prototype.listeners=function(g){var p=e?e+g:g,y=this._events[p];if(!y)return[];if(y.fn)return[y.fn];for(var I=0,M=y.length,L=new Array(M);I<M;I++)L[I]=y[I].fn;return L},a.prototype.listenerCount=function(g){var p=e?e+g:g,y=this._events[p];return y?y.fn?1:y.length:0},a.prototype.emit=function(g,p,y,I,M,L){var B=e?e+g:g;if(!this._events[B])return!1;var v=this._events[B],k=arguments.length,C,_;if(v.fn){switch(v.once&&this.removeListener(g,v.fn,void 0,!0),k){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,p),!0;case 3:return v.fn.call(v.context,p,y),!0;case 4:return v.fn.call(v.context,p,y,I),!0;case 5:return v.fn.call(v.context,p,y,I,M),!0;case 6:return v.fn.call(v.context,p,y,I,M,L),!0}for(_=1,C=new Array(k-1);_<k;_++)C[_-1]=arguments[_];v.fn.apply(v.context,C)}else{var O=v.length,P;for(_=0;_<O;_++)switch(v[_].once&&this.removeListener(g,v[_].fn,void 0,!0),k){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,p);break;case 3:v[_].fn.call(v[_].context,p,y);break;case 4:v[_].fn.call(v[_].context,p,y,I);break;default:if(!C)for(P=1,C=new Array(k-1);P<k;P++)C[P-1]=arguments[P];v[_].fn.apply(v[_].context,C)}}return!0},a.prototype.on=function(g,p,y){return i(this,g,p,y,!1)},a.prototype.once=function(g,p,y){return i(this,g,p,y,!0)},a.prototype.removeListener=function(g,p,y,I){var M=e?e+g:g;if(!this._events[M])return this;if(!p)return o(this,M),this;var L=this._events[M];if(L.fn)L.fn===p&&(!I||L.once)&&(!y||L.context===y)&&o(this,M);else{for(var B=0,v=[],k=L.length;B<k;B++)(L[B].fn!==p||I&&!L[B].once||y&&L[B].context!==y)&&v.push(L[B]);v.length?this._events[M]=v.length===1?v[0]:v:o(this,M)}return this},a.prototype.removeAllListeners=function(g){var p;return g?(p=e?e+g:g,this._events[p]&&o(this,p)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=e,a.EventEmitter=a,r.exports=a})(pu);var yd=pu.exports;const wu=Xn(yd);var bd=class extends wu{socket;constructor(r,t,e){super(),this.socket=new window.WebSocket(r,e),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=n=>this.emit("message",n.data),this.socket.onerror=n=>this.emit("error",n),this.socket.onclose=n=>{this.emit("close",n.code,n.reason)}}send(r,t,e){const n=e||t;try{this.socket.send(r),n()}catch(s){n(s)}}close(r,t){this.socket.close(r,t)}addEventListener(r,t,e){this.socket.addEventListener(r,t,e)}};function vd(r,t){return new bd(r,t)}var Md=class{encode(r){return JSON.stringify(r)}decode(r){return JSON.parse(r)}},Ed=class extends wu{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(r,t="ws://localhost:8080",{autoconnect:e=!0,reconnect:n=!0,reconnect_interval:s=1e3,max_reconnects:i=5,...o}={},a,c){super(),this.webSocketFactory=r,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=e,this.ready=!1,this.reconnect=n,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=i,this.rest_options=o,this.current_reconnects=0,this.generate_request_id=a||(()=>++this.rpc_id),c?this.dataPack=c:this.dataPack=new Md,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(r,t,e,n){return!n&&typeof e=="object"&&(n=e,e=null),new Promise((s,i)=>{if(!this.ready)return i(new Error("socket not ready"));const o=this.generate_request_id(r,t),a={jsonrpc:"2.0",method:r,params:t||void 0,id:o};this.socket.send(this.dataPack.encode(a),n,c=>{if(c)return i(c);this.queue[o]={promise:[s,i]},e&&(this.queue[o].timeout=setTimeout(()=>{delete this.queue[o],i(new Error("reply timeout"))},e))})})}async login(r){const t=await this.call("rpc.login",r);if(!t)throw new Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(r,t){return new Promise((e,n)=>{if(!this.ready)return n(new Error("socket not ready"));const s={jsonrpc:"2.0",method:r,params:t};this.socket.send(this.dataPack.encode(s),i=>{if(i)return n(i);e()})})}async subscribe(r){typeof r=="string"&&(r=[r]);const t=await this.call("rpc.on",r);if(typeof r=="string"&&t[r]!=="ok")throw new Error("Failed subscribing to an event '"+r+"' with: "+t[r]);return t}async unsubscribe(r){typeof r=="string"&&(r=[r]);const t=await this.call("rpc.off",r);if(typeof r=="string"&&t[r]!=="ok")throw new Error("Failed unsubscribing from an event with: "+t);return t}close(r,t){this.socket.close(r||1e3,t)}setAutoReconnect(r){this.reconnect=r}setReconnectInterval(r){this.reconnect_interval=r}setMaxReconnects(r){this.max_reconnects=r}_connect(r,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(r,t),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:e})=>{e instanceof ArrayBuffer&&(e=wt.Buffer.from(e).toString());try{e=this.dataPack.decode(e)}catch{return}if(e.notification&&this.listeners(e.notification).length){if(!Object.keys(e.params).length)return this.emit(e.notification);const n=[e.notification];if(e.params.constructor===Object)n.push(e.params);else for(let s=0;s<e.params.length;s++)n.push(e.params[s]);return Promise.resolve().then(()=>{this.emit.apply(this,n)})}if(!this.queue[e.id])return e.method?Promise.resolve().then(()=>{this.emit(e.method,e?.params)}):void 0;"error"in e=="result"in e&&this.queue[e.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[e.id].timeout&&clearTimeout(this.queue[e.id].timeout),e.error?this.queue[e.id].promise[1](e.error):this.queue[e.id].promise[0](e.result),delete this.queue[e.id]}),this.socket.addEventListener("error",e=>this.emit("error",e)),this.socket.addEventListener("close",({code:e,reason:n})=>{this.ready&&setTimeout(()=>this.emit("close",e,n),0),this.ready=!1,this.socket=void 0,e!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(r,t),this.reconnect_interval)))})}};class mu extends xc{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,Fl(t);const n=Ro(e);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?t.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(t){return bi(this),this.iHash.update(t),this}digestInto(t){bi(this),Ri(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:n,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=o,t.outputLen=a,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const yu=(r,t,e)=>new mu(r,t).update(e).digest();yu.create=(r,t)=>new mu(r,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ja(r){r.lowS!==void 0&&En("lowS",r.lowS),r.prehash!==void 0&&En("prehash",r.prehash)}function Sd(r){const t=Uo(r);Lr(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:e,Fp:n,a:s}=t;if(e){if(!n.eql(s,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof e!="object"||typeof e.beta!="bigint"||typeof e.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:xd,hexToBytes:Id}=Lf,pn={Err:class extends Error{constructor(t=""){super(t)}},_tlv:{encode:(r,t)=>{const{Err:e}=pn;if(r<0||r>256)throw new e("tlv.encode: wrong tag");if(t.length&1)throw new e("tlv.encode: unpadded data");const n=t.length/2,s=fr(n);if(s.length/2&128)throw new e("tlv.encode: long form length too big");const i=n>127?fr(s.length/2|128):"";return`${fr(r)}${i}${s}${t}`},decode(r,t){const{Err:e}=pn;let n=0;if(r<0||r>256)throw new e("tlv.encode: wrong tag");if(t.length<2||t[n++]!==r)throw new e("tlv.decode: wrong tlv");const s=t[n++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new e("tlv.decode(long): indefinite length not supported");if(c>4)throw new e("tlv.decode(long): byte length is too big");const g=t.subarray(n,n+c);if(g.length!==c)throw new e("tlv.decode: length bytes not complete");if(g[0]===0)throw new e("tlv.decode(long): zero leftmost byte");for(const p of g)o=o<<8|p;if(n+=c,o<128)throw new e("tlv.decode(long): not minimal encoding")}const a=t.subarray(n,n+o);if(a.length!==o)throw new e("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+o)}}},_int:{encode(r){const{Err:t}=pn;if(r<mn)throw new t("integer: negative integers are not allowed");let e=fr(r);if(Number.parseInt(e[0],16)&8&&(e="00"+e),e.length&1)throw new t("unexpected assertion");return e},decode(r){const{Err:t}=pn;if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return xd(r)}},toSig(r){const{Err:t,_int:e,_tlv:n}=pn,s=typeof r=="string"?Id(r):r;Vr(s);const{v:i,l:o}=n.decode(48,s);if(o.length)throw new t("Invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,i),{v:g,l:p}=n.decode(2,c);if(p.length)throw new t("Invalid signature: left bytes after parsing");return{r:e.decode(a),s:e.decode(g)}},hexFromSig(r){const{_tlv:t,_int:e}=pn,n=`${t.encode(2,e.encode(r.r))}${t.encode(2,e.encode(r.s))}`;return t.encode(48,n)}},mn=BigInt(0),ve=BigInt(1);BigInt(2);const Ua=BigInt(3);BigInt(4);function _d(r){const t=Sd(r),{Fp:e}=t,n=ji(t.n,t.nBitLength),s=t.toBytes||((B,v,k)=>{const C=v.toAffine();return Jn(Uint8Array.from([4]),e.toBytes(C.x),e.toBytes(C.y))}),i=t.fromBytes||(B=>{const v=B.subarray(1),k=e.fromBytes(v.subarray(0,e.BYTES)),C=e.fromBytes(v.subarray(e.BYTES,2*e.BYTES));return{x:k,y:C}});function o(B){const{a:v,b:k}=t,C=e.sqr(B),_=e.mul(C,B);return e.add(e.add(_,e.mul(B,v)),k)}if(!e.eql(e.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function a(B){return Oi(B,ve,t.n)}function c(B){const{allowedPrivateKeyLengths:v,nByteLength:k,wrapPrivateKey:C,n:_}=t;if(v&&typeof B!="bigint"){if(Zn(B)&&(B=Qn(B)),typeof B!="string"||!v.includes(B.length))throw new Error("Invalid key");B=B.padStart(k*2,"0")}let O;try{O=typeof B=="bigint"?B:Yn(be("private key",B,k))}catch{throw new Error(`private key must be ${k} bytes, hex or bigint, not ${typeof B}`)}return C&&(O=qt(O,_)),Qe("private key",O,ve,_),O}function g(B){if(!(B instanceof I))throw new Error("ProjectivePoint expected")}const p=Wr((B,v)=>{const{px:k,py:C,pz:_}=B;if(e.eql(_,e.ONE))return{x:k,y:C};const O=B.is0();v==null&&(v=O?e.ONE:e.inv(_));const P=e.mul(k,v),z=e.mul(C,v),$=e.mul(_,v);if(O)return{x:e.ZERO,y:e.ZERO};if(!e.eql($,e.ONE))throw new Error("invZ was invalid");return{x:P,y:z}}),y=Wr(B=>{if(B.is0()){if(t.allowInfinityPoint&&!e.is0(B.py))return;throw new Error("bad point: ZERO")}const{x:v,y:k}=B.toAffine();if(!e.isValid(v)||!e.isValid(k))throw new Error("bad point: x or y not FE");const C=e.sqr(k),_=o(v);if(!e.eql(C,_))throw new Error("bad point: equation left != right");if(!B.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class I{constructor(v,k,C){if(this.px=v,this.py=k,this.pz=C,v==null||!e.isValid(v))throw new Error("x required");if(k==null||!e.isValid(k))throw new Error("y required");if(C==null||!e.isValid(C))throw new Error("z required");Object.freeze(this)}static fromAffine(v){const{x:k,y:C}=v||{};if(!v||!e.isValid(k)||!e.isValid(C))throw new Error("invalid affine point");if(v instanceof I)throw new Error("projective point not allowed");const _=O=>e.eql(O,e.ZERO);return _(k)&&_(C)?I.ZERO:new I(k,C,e.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const k=e.invertBatch(v.map(C=>C.pz));return v.map((C,_)=>C.toAffine(k[_])).map(I.fromAffine)}static fromHex(v){const k=I.fromAffine(i(be("pointHex",v)));return k.assertValidity(),k}static fromPrivateKey(v){return I.BASE.multiply(c(v))}static msm(v,k){return Dc(I,n,v,k)}_setWindowSize(v){L.setWindowSize(this,v)}assertValidity(){y(this)}hasEvenY(){const{y:v}=this.toAffine();if(e.isOdd)return!e.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){g(v);const{px:k,py:C,pz:_}=this,{px:O,py:P,pz:z}=v,$=e.eql(e.mul(k,z),e.mul(O,_)),K=e.eql(e.mul(C,z),e.mul(P,_));return $&&K}negate(){return new I(this.px,e.neg(this.py),this.pz)}double(){const{a:v,b:k}=t,C=e.mul(k,Ua),{px:_,py:O,pz:P}=this;let z=e.ZERO,$=e.ZERO,K=e.ZERO,J=e.mul(_,_),ht=e.mul(O,O),nt=e.mul(P,P),rt=e.mul(_,O);return rt=e.add(rt,rt),K=e.mul(_,P),K=e.add(K,K),z=e.mul(v,K),$=e.mul(C,nt),$=e.add(z,$),z=e.sub(ht,$),$=e.add(ht,$),$=e.mul(z,$),z=e.mul(rt,z),K=e.mul(C,K),nt=e.mul(v,nt),rt=e.sub(J,nt),rt=e.mul(v,rt),rt=e.add(rt,K),K=e.add(J,J),J=e.add(K,J),J=e.add(J,nt),J=e.mul(J,rt),$=e.add($,J),nt=e.mul(O,P),nt=e.add(nt,nt),J=e.mul(nt,rt),z=e.sub(z,J),K=e.mul(nt,ht),K=e.add(K,K),K=e.add(K,K),new I(z,$,K)}add(v){g(v);const{px:k,py:C,pz:_}=this,{px:O,py:P,pz:z}=v;let $=e.ZERO,K=e.ZERO,J=e.ZERO;const ht=t.a,nt=e.mul(t.b,Ua);let rt=e.mul(k,O),T=e.mul(C,P),u=e.mul(_,z),d=e.add(k,C),w=e.add(O,P);d=e.mul(d,w),w=e.add(rt,T),d=e.sub(d,w),w=e.add(k,_);let m=e.add(O,z);return w=e.mul(w,m),m=e.add(rt,u),w=e.sub(w,m),m=e.add(C,_),$=e.add(P,z),m=e.mul(m,$),$=e.add(T,u),m=e.sub(m,$),J=e.mul(ht,w),$=e.mul(nt,u),J=e.add($,J),$=e.sub(T,J),J=e.add(T,J),K=e.mul($,J),T=e.add(rt,rt),T=e.add(T,rt),u=e.mul(ht,u),w=e.mul(nt,w),T=e.add(T,u),u=e.sub(rt,u),u=e.mul(ht,u),w=e.add(w,u),rt=e.mul(T,w),K=e.add(K,rt),rt=e.mul(m,w),$=e.mul(d,$),$=e.sub($,rt),rt=e.mul(d,T),J=e.mul(m,J),J=e.add(J,rt),new I($,K,J)}subtract(v){return this.add(v.negate())}is0(){return this.equals(I.ZERO)}wNAF(v){return L.wNAFCached(this,v,I.normalizeZ)}multiplyUnsafe(v){Qe("scalar",v,mn,t.n);const k=I.ZERO;if(v===mn)return k;if(v===ve)return this;const{endo:C}=t;if(!C)return L.unsafeLadder(this,v);let{k1neg:_,k1:O,k2neg:P,k2:z}=C.splitScalar(v),$=k,K=k,J=this;for(;O>mn||z>mn;)O&ve&&($=$.add(J)),z&ve&&(K=K.add(J)),J=J.double(),O>>=ve,z>>=ve;return _&&($=$.negate()),P&&(K=K.negate()),K=new I(e.mul(K.px,C.beta),K.py,K.pz),$.add(K)}multiply(v){const{endo:k,n:C}=t;Qe("scalar",v,ve,C);let _,O;if(k){const{k1neg:P,k1:z,k2neg:$,k2:K}=k.splitScalar(v);let{p:J,f:ht}=this.wNAF(z),{p:nt,f:rt}=this.wNAF(K);J=L.constTimeNegate(P,J),nt=L.constTimeNegate($,nt),nt=new I(e.mul(nt.px,k.beta),nt.py,nt.pz),_=J.add(nt),O=ht.add(rt)}else{const{p:P,f:z}=this.wNAF(v);_=P,O=z}return I.normalizeZ([_,O])[0]}multiplyAndAddUnsafe(v,k,C){const _=I.BASE,O=(z,$)=>$===mn||$===ve||!z.equals(_)?z.multiplyUnsafe($):z.multiply($),P=O(this,k).add(O(v,C));return P.is0()?void 0:P}toAffine(v){return p(this,v)}isTorsionFree(){const{h:v,isTorsionFree:k}=t;if(v===ve)return!0;if(k)return k(I,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:k}=t;return v===ve?this:k?k(I,this):this.multiplyUnsafe(t.h)}toRawBytes(v=!0){return En("isCompressed",v),this.assertValidity(),s(I,this,v)}toHex(v=!0){return En("isCompressed",v),Qn(this.toRawBytes(v))}}I.BASE=new I(t.Gx,t.Gy,e.ONE),I.ZERO=new I(e.ZERO,e.ONE,e.ZERO);const M=t.nBitLength,L=Rc(I,t.endo?Math.ceil(M/2):M);return{CURVE:t,ProjectivePoint:I,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function Ad(r){const t=Uo(r);return Lr(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Bd(r){const t=Ad(r),{Fp:e,n}=t,s=e.BYTES+1,i=2*e.BYTES+1;function o(u){return qt(u,n)}function a(u){return eo(u,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:g,weierstrassEquation:p,isWithinCurveOrder:y}=_d({...t,toBytes(u,d,w){const m=d.toAffine(),E=e.toBytes(m.x),N=Jn;return En("isCompressed",w),w?N(Uint8Array.from([d.hasEvenY()?2:3]),E):N(Uint8Array.from([4]),E,e.toBytes(m.y))},fromBytes(u){const d=u.length,w=u[0],m=u.subarray(1);if(d===s&&(w===2||w===3)){const E=Yn(m);if(!Oi(E,ve,e.ORDER))throw new Error("Point is not on curve");const N=p(E);let R;try{R=e.sqrt(N)}catch(A){const Y=A instanceof Error?": "+A.message:"";throw new Error("Point is not on curve"+Y)}const S=(R&ve)===ve;return(w&1)===1!==S&&(R=e.neg(R)),{x:E,y:R}}else if(d===i&&w===4){const E=e.fromBytes(m.subarray(0,e.BYTES)),N=e.fromBytes(m.subarray(e.BYTES,2*e.BYTES));return{x:E,y:N}}else throw new Error(`Point of length ${d} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),I=u=>Qn(vr(u,t.nByteLength));function M(u){const d=n>>ve;return u>d}function L(u){return M(u)?o(-u):u}const B=(u,d,w)=>Yn(u.slice(d,w));class v{constructor(d,w,m){this.r=d,this.s=w,this.recovery=m,this.assertValidity()}static fromCompact(d){const w=t.nByteLength;return d=be("compactSignature",d,w*2),new v(B(d,0,w),B(d,w,2*w))}static fromDER(d){const{r:w,s:m}=pn.toSig(be("DER",d));return new v(w,m)}assertValidity(){Qe("r",this.r,ve,n),Qe("s",this.s,ve,n)}addRecoveryBit(d){return new v(this.r,this.s,d)}recoverPublicKey(d){const{r:w,s:m,recovery:E}=this,N=z(be("msgHash",d));if(E==null||![0,1,2,3].includes(E))throw new Error("recovery id invalid");const R=E===2||E===3?w+t.n:w;if(R>=e.ORDER)throw new Error("recovery id 2 or 3 invalid");const S=E&1?"03":"02",f=c.fromHex(S+I(R)),A=a(R),Y=o(-N*A),Z=o(m*A),tt=c.BASE.multiplyAndAddUnsafe(f,Y,Z);if(!tt)throw new Error("point at infinify");return tt.assertValidity(),tt}hasHighS(){return M(this.s)}normalizeS(){return this.hasHighS()?new v(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return br(this.toDERHex())}toDERHex(){return pn.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return br(this.toCompactHex())}toCompactHex(){return I(this.r)+I(this.s)}}const k={isValidPrivateKey(u){try{return g(u),!0}catch{return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{const u=Cc(t.n);return zf(t.randomBytes(u),t.n)},precompute(u=8,d=c.BASE){return d._setWindowSize(u),d.multiply(BigInt(3)),d}};function C(u,d=!0){return c.fromPrivateKey(u).toRawBytes(d)}function _(u){const d=Zn(u),w=typeof u=="string",m=(d||w)&&u.length;return d?m===s||m===i:w?m===2*s||m===2*i:u instanceof c}function O(u,d,w=!0){if(_(u))throw new Error("first arg must be private key");if(!_(d))throw new Error("second arg must be public key");return c.fromHex(d).multiply(g(u)).toRawBytes(w)}const P=t.bits2int||function(u){const d=Yn(u),w=u.length*8-t.nBitLength;return w>0?d>>BigInt(w):d},z=t.bits2int_modN||function(u){return o(P(u))},$=jo(t.nBitLength);function K(u){return Qe(`num < 2^${t.nBitLength}`,u,mn,$),vr(u,t.nByteLength)}function J(u,d,w=ht){if(["recovered","canonical"].some(ut=>ut in w))throw new Error("sign() legacy options not supported");const{hash:m,randomBytes:E}=t;let{lowS:N,prehash:R,extraEntropy:S}=w;N==null&&(N=!0),u=be("msgHash",u),ja(w),R&&(u=be("prehashed msgHash",m(u)));const f=z(u),A=g(d),Y=[K(A),K(f)];if(S!=null&&S!==!1){const ut=S===!0?E(e.BYTES):S;Y.push(be("extraEntropy",ut))}const Z=Jn(...Y),tt=f;function Et(ut){const dt=P(ut);if(!y(dt))return;const Qt=a(dt),mt=c.BASE.multiply(dt).toAffine(),St=o(mt.x);if(St===mn)return;const ye=o(Qt*o(tt+St*A));if(ye===mn)return;let It=(mt.x===St?0:2)|Number(mt.y&ve),kt=ye;return N&&M(ye)&&(kt=L(ye),It^=1),new v(St,kt,It)}return{seed:Z,k2sig:Et}}const ht={lowS:t.lowS,prehash:!1},nt={lowS:t.lowS,prehash:!1};function rt(u,d,w=ht){const{seed:m,k2sig:E}=J(u,d,w),N=t;return Tc(N.hash.outputLen,N.nByteLength,N.hmac)(m,E)}c.BASE._setWindowSize(8);function T(u,d,w,m=nt){const E=u;if(d=be("msgHash",d),w=be("publicKey",w),"strict"in m)throw new Error("options.strict was renamed to lowS");ja(m);const{lowS:N,prehash:R}=m;let S,f;try{if(typeof E=="string"||Zn(E))try{S=v.fromDER(E)}catch(mt){if(!(mt instanceof pn.Err))throw mt;S=v.fromCompact(E)}else if(typeof E=="object"&&typeof E.r=="bigint"&&typeof E.s=="bigint"){const{r:mt,s:St}=E;S=new v(mt,St)}else throw new Error("PARSE");f=c.fromHex(w)}catch(mt){if(mt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(N&&S.hasHighS())return!1;R&&(d=t.hash(d));const{r:A,s:Y}=S,Z=z(d),tt=a(Y),Et=o(Z*tt),ut=o(A*tt),dt=c.BASE.multiplyAndAddUnsafe(f,Et,ut)?.toAffine();return dt?o(dt.x)===A:!1}return{CURVE:t,getPublicKey:C,getSharedSecret:O,sign:rt,verify:T,ProjectivePoint:c,Signature:v,utils:k}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ld(r){return{hash:r,hmac:(t,...e)=>yu(r,t,Kl(...e)),randomBytes:_c}}function Td(r,t){const e=n=>Bd({...r,...Ld(n)});return Object.freeze({...e(t),create:e})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bu=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),za=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Nd=BigInt(1),so=BigInt(2),Pa=(r,t)=>(r+t/so)/t;function kd(r){const t=bu,e=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),g=r*r*r%t,p=g*g*r%t,y=Vt(p,e,t)*p%t,I=Vt(y,e,t)*p%t,M=Vt(I,so,t)*g%t,L=Vt(M,s,t)*M%t,B=Vt(L,i,t)*L%t,v=Vt(B,a,t)*B%t,k=Vt(v,c,t)*v%t,C=Vt(k,a,t)*B%t,_=Vt(C,e,t)*p%t,O=Vt(_,o,t)*L%t,P=Vt(O,n,t)*g%t,z=Vt(P,so,t);if(!oo.eql(oo.sqr(z),r))throw new Error("Cannot find square root");return z}const oo=ji(bu,void 0,void 0,{sqrt:kd}),ea=Td({a:BigInt(0),b:BigInt(7),Fp:oo,n:za,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{const t=za,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Nd*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=e,o=BigInt("0x100000000000000000000000000000000"),a=Pa(i*r,t),c=Pa(-n*r,t);let g=qt(r-a*e-c*s,t),p=qt(-a*n-c*i,t);const y=g>o,I=p>o;if(y&&(g=t-g),I&&(p=t-p),g>o||p>o)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:y,k1:g,k2neg:I,k2:p}}}},ro);BigInt(0);ea.ProjectivePoint;function Fa(r){try{return Po.ExtendedPoint.fromHex(r),!0}catch{return!1}}const vu=(r,t)=>Po.sign(r,t.slice(0,32)),Cd=Po.verify,Er=r=>wt.Buffer.isBuffer(r)?r:r instanceof Uint8Array?wt.Buffer.from(r.buffer,r.byteOffset,r.byteLength):wt.Buffer.from(r);class Rd{constructor(t){Object.assign(this,t)}encode(){return wt.Buffer.from($c(hi,this))}static decode(t){return Kc(hi,this,t)}static decodeUnchecked(t){return Uc(hi,this,t)}}const hi=new Map;var Mu;const Dd=32,On=32;function Od(r){return r._bn!==void 0}let Wa=1;class at extends Rd{constructor(t){if(super({}),this._bn=void 0,Od(t))this._bn=t._bn;else{if(typeof t=="string"){const e=Le.decode(t);if(e.length!=On)throw new Error("Invalid public key input");this._bn=new Ra(e)}else this._bn=new Ra(t);if(this._bn.byteLength()>On)throw new Error("Invalid public key input")}}static unique(){const t=new at(Wa);return Wa+=1,new at(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return Le.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(wt.Buffer);if(t.length===On)return t;const e=wt.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,n){const s=wt.Buffer.concat([t.toBuffer(),wt.Buffer.from(e),n.toBuffer()]),i=ro(s);return new at(i)}static createProgramAddressSync(t,e){let n=wt.Buffer.alloc(0);t.forEach(function(i){if(i.length>Dd)throw new TypeError("Max seed length exceeded");n=wt.Buffer.concat([n,Er(i)])}),n=wt.Buffer.concat([n,e.toBuffer(),wt.Buffer.from("ProgramDerivedAddress")]);const s=ro(n);if(Fa(s))throw new Error("Invalid seeds, address must fall off the curve");return new at(s)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let n=255,s;for(;n!=0;){try{const i=t.concat(wt.Buffer.from([n]));s=this.createProgramAddressSync(i,e)}catch(i){if(i instanceof TypeError)throw i;n--;continue}return[s,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){const e=new at(t);return Fa(e.toBytes())}}Mu=at;at.default=new Mu("11111111111111111111111111111111");hi.set(at,{kind:"struct",fields:[["_bn","u256"]]});new at("BPFLoader1111111111111111111111111111111111");const wr=1232,na=127,Kr=64;class Eu extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Eu.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Su extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Su.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Or extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Or.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class _i{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((i,o)=>{n.set(i.toBase58(),o)});const s=i=>{const o=n.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return t.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const xt=(r="publicKey")=>Wt(32,r),jd=(r="signature")=>Wt(64,r),hr=(r="string")=>{const t=it([ct("length"),ct("lengthPadding"),Wt(Vn(ct(),-8),"chars")],r),e=t.decode.bind(t),n=t.encode.bind(t),s=t;return s.decode=(i,o)=>e(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:wt.Buffer.from(i,"utf8")};return n(c,o,a)},s.alloc=i=>ct().span+ct().span+wt.Buffer.from(i,"utf8").length,s},Ud=(r="authorized")=>it([xt("staker"),xt("withdrawer")],r),zd=(r="lockup")=>it([$e("unixTimestamp"),$e("epoch"),xt("custodian")],r),Pd=(r="voteInit")=>it([xt("nodePubkey"),xt("authorizedVoter"),xt("authorizedWithdrawer"),Lt("commission")],r),Fd=(r="voteAuthorizeWithSeedArgs")=>it([ct("voteAuthorizationType"),xt("currentAuthorityDerivedKeyOwnerPubkey"),hr("currentAuthorityDerivedKeySeed"),xt("newAuthorized")],r);function Ke(r){let t=0,e=0;for(;;){let n=r.shift();if(t|=(n&127)<<e*7,e+=1,!(n&128))break}return t}function qe(r,t){let e=t;for(;;){let n=e&127;if(e>>=7,e==0){r.push(n);break}else n|=128,r.push(n)}}function Kt(r,t){if(!r)throw new Error(t||"Assertion failed")}class Ki{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){const n=new Map,s=o=>{const a=o.toBase58();let c=n.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,c)),c},i=s(e);i.isSigner=!0,i.isWritable=!0;for(const o of t){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new Ki(e,n)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];Kt(t.length<=256,"Max static account keys length exceeded");const e=t.filter(([,c])=>c.isSigner&&c.isWritable),n=t.filter(([,c])=>c.isSigner&&!c.isWritable),s=t.filter(([,c])=>!c.isSigner&&c.isWritable),i=t.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:e.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{Kt(e.length>0,"Expected at least one writable signer key");const[c]=e[0];Kt(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...e.map(([c])=>new at(c)),...n.map(([c])=>new at(c)),...s.map(([c])=>new at(c)),...i.map(([c])=>new at(c))];return[o,a]}extractTableLookup(t){const[e,n]=this.drainKeysFoundInLookupTable(t.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(t.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(e.length===0&&s.length===0))return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:s},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(t,e){const n=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(e(o)){const a=new at(i),c=t.findIndex(g=>g.equals(a));c>=0&&(Kt(c<256,"Max lookup table index exceeded"),n.push(c),s.push(a),this.keyMetaMap.delete(i))}return[n,s]}}const xu="Reached end of buffer unexpectedly";function yn(r){if(r.length===0)throw new Error(xu);return r.shift()}function He(r,...t){const[e]=t;if(t.length===2?e+(t[1]??0)>r.length:e>=r.length)throw new Error(xu);return r.splice(...t)}class Sn{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(e=>new at(e)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Le.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new _i(this.staticAccountKeys)}static compile(t){const e=Ki.compile(t.instructions,t.payerKey),[n,s]=e.getMessageComponents(),o=new _i(s).compileInstructions(t.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Le.encode(a.data)}));return new Sn({header:n,accountKeys:s,recentBlockhash:t.recentBlockhash,instructions:o})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const n=t-e,i=this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts;return n<i}else{const n=e-this.header.numReadonlySignedAccounts;return t<n}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,e)=>!this.isProgramId(e))}serialize(){const t=this.accountKeys.length;let e=[];qe(e,t);const n=this.instructions.map(y=>{const{accounts:I,programIdIndex:M}=y,L=Array.from(Le.decode(y.data));let B=[];qe(B,I.length);let v=[];return qe(v,L.length),{programIdIndex:M,keyIndicesCount:wt.Buffer.from(B),keyIndices:I,dataLength:wt.Buffer.from(v),data:L}});let s=[];qe(s,n.length);let i=wt.Buffer.alloc(wr);wt.Buffer.from(s).copy(i);let o=s.length;n.forEach(y=>{const M=it([Lt("programIdIndex"),Wt(y.keyIndicesCount.length,"keyIndicesCount"),De(Lt("keyIndex"),y.keyIndices.length,"keyIndices"),Wt(y.dataLength.length,"dataLength"),De(Lt("userdatum"),y.data.length,"data")]).encode(y,i,o);o+=M}),i=i.slice(0,o);const a=it([Wt(1,"numRequiredSignatures"),Wt(1,"numReadonlySignedAccounts"),Wt(1,"numReadonlyUnsignedAccounts"),Wt(e.length,"keyCount"),De(xt("key"),t,"keys"),xt("recentBlockhash")]),c={numRequiredSignatures:wt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:wt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:wt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:wt.Buffer.from(e),keys:this.accountKeys.map(y=>Er(y.toBytes())),recentBlockhash:Le.decode(this.recentBlockhash)};let g=wt.Buffer.alloc(2048);const p=a.encode(c,g);return i.copy(g,p),g.slice(0,p+i.length)}static from(t){let e=[...t];const n=yn(e);if(n!==(n&na))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=yn(e),i=yn(e),o=Ke(e);let a=[];for(let I=0;I<o;I++){const M=He(e,0,On);a.push(new at(wt.Buffer.from(M)))}const c=He(e,0,On),g=Ke(e);let p=[];for(let I=0;I<g;I++){const M=yn(e),L=Ke(e),B=He(e,0,L),v=Ke(e),k=He(e,0,v),C=Le.encode(wt.Buffer.from(k));p.push({programIdIndex:M,accounts:B,data:C})}const y={header:{numRequiredSignatures:n,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Le.encode(wt.Buffer.from(c)),accountKeys:a,instructions:p};return new Sn(y)}}class qr{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new _i(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(t>=n){const s=t-n,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(t>=this.header.numRequiredSignatures){const s=t-e,o=n-e-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=e-this.header.numReadonlySignedAccounts;return t<s}}resolveAddressTableLookups(t){const e={writable:[],readonly:[]};for(const n of this.addressTableLookups){const s=t.find(i=>i.key.equals(n.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const i of n.writableIndexes)if(i<s.state.addresses.length)e.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`);for(const i of n.readonlyIndexes)if(i<s.state.addresses.length)e.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`)}return e}static compile(t){const e=Ki.compile(t.instructions,t.payerKey),n=new Array,s={writable:new Array,readonly:new Array},i=t.addressLookupTableAccounts||[];for(const p of i){const y=e.extractTableLookup(p);if(y!==void 0){const[I,{writable:M,readonly:L}]=y;n.push(I),s.writable.push(...M),s.readonly.push(...L)}}const[o,a]=e.getMessageComponents(),g=new _i(a,s).compileInstructions(t.instructions);return new qr({header:o,staticAccountKeys:a,recentBlockhash:t.recentBlockhash,compiledInstructions:g,addressTableLookups:n})}serialize(){const t=Array();qe(t,this.staticAccountKeys.length);const e=this.serializeInstructions(),n=Array();qe(n,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();qe(i,this.addressTableLookups.length);const o=it([Lt("prefix"),it([Lt("numRequiredSignatures"),Lt("numReadonlySignedAccounts"),Lt("numReadonlyUnsignedAccounts")],"header"),Wt(t.length,"staticAccountKeysLength"),De(xt(),this.staticAccountKeys.length,"staticAccountKeys"),xt("recentBlockhash"),Wt(n.length,"instructionsLength"),Wt(e.length,"serializedInstructions"),Wt(i.length,"addressTableLookupsLength"),Wt(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(wr),g=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(p=>p.toBytes()),recentBlockhash:Le.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,g)}serializeInstructions(){let t=0;const e=new Uint8Array(wr);for(const n of this.compiledInstructions){const s=Array();qe(s,n.accountKeyIndexes.length);const i=Array();qe(i,n.data.length);const o=it([Lt("programIdIndex"),Wt(s.length,"encodedAccountKeyIndexesLength"),De(Lt(),n.accountKeyIndexes.length,"accountKeyIndexes"),Wt(i.length,"encodedDataLength"),Wt(n.data.length,"data")]);t+=o.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0;const e=new Uint8Array(wr);for(const n of this.addressTableLookups){const s=Array();qe(s,n.writableIndexes.length);const i=Array();qe(i,n.readonlyIndexes.length);const o=it([xt("accountKey"),Wt(s.length,"encodedWritableIndexesLength"),De(Lt(),n.writableIndexes.length,"writableIndexes"),Wt(i.length,"encodedReadonlyIndexesLength"),De(Lt(),n.readonlyIndexes.length,"readonlyIndexes")]);t+=o.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t];const n=yn(e),s=n&na;Kt(n!==s,"Expected versioned message but received legacy message");const i=s;Kt(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:yn(e),numReadonlySignedAccounts:yn(e),numReadonlyUnsignedAccounts:yn(e)},a=[],c=Ke(e);for(let L=0;L<c;L++)a.push(new at(He(e,0,On)));const g=Le.encode(He(e,0,On)),p=Ke(e),y=[];for(let L=0;L<p;L++){const B=yn(e),v=Ke(e),k=He(e,0,v),C=Ke(e),_=new Uint8Array(He(e,0,C));y.push({programIdIndex:B,accountKeyIndexes:k,data:_})}const I=Ke(e),M=[];for(let L=0;L<I;L++){const B=new at(He(e,0,On)),v=Ke(e),k=He(e,0,v),C=Ke(e),_=He(e,0,C);M.push({accountKey:B,writableIndexes:k,readonlyIndexes:_})}return new qr({header:o,staticAccountKeys:a,recentBlockhash:g,compiledInstructions:y,addressTableLookups:M})}}const ra={deserializeMessageVersion(r){const t=r[0],e=t&na;return e===t?"legacy":e},deserialize:r=>{const t=ra.deserializeMessageVersion(r);if(t==="legacy")return Sn.from(r);if(t===0)return qr.deserialize(r);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let Tn=function(r){return r[r.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",r[r.PROCESSED=1]="PROCESSED",r[r.TIMED_OUT=2]="TIMED_OUT",r[r.NONCE_INVALID=3]="NONCE_INVALID",r}({});const Wd=wt.Buffer.alloc(Kr).fill(0);class $a{constructor(t){this.keys=void 0,this.programId=void 0,this.data=wt.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:e,isWritable:n})=>({pubkey:t.toJSON(),isSigner:e,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class en{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:e,nonceInfo:n}=t;this.minNonceContextSlot=e,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:e,lastValidBlockHeight:n}=t;this.recentBlockhash=e,this.lastValidBlockHeight=n}else{const{recentBlockhash:e,nonceInfo:n}=t;n&&(this.nonceInfo=n),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new $a(e))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?e=[this.nonceInfo.nonceInstruction,...this.instructions]:e=this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");e.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let B=0;B<e.length;B++)if(e[B].programId===void 0)throw new Error(`Transaction instruction index ${B} has undefined program id`);const s=[],i=[];e.forEach(B=>{B.keys.forEach(k=>{i.push({...k})});const v=B.programId.toString();s.includes(v)||s.push(v)}),s.forEach(B=>{i.push({pubkey:new at(B),isSigner:!1,isWritable:!1})});const o=[];i.forEach(B=>{const v=B.pubkey.toString(),k=o.findIndex(C=>C.pubkey.toString()===v);k>-1?(o[k].isWritable=o[k].isWritable||B.isWritable,o[k].isSigner=o[k].isSigner||B.isSigner):o.push(B)}),o.sort(function(B,v){if(B.isSigner!==v.isSigner)return B.isSigner?-1:1;if(B.isWritable!==v.isWritable)return B.isWritable?-1:1;const k={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return B.pubkey.toBase58().localeCompare(v.pubkey.toBase58(),"en",k)});const a=o.findIndex(B=>B.pubkey.equals(n));if(a>-1){const[B]=o.splice(a,1);B.isSigner=!0,B.isWritable=!0,o.unshift(B)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const B of this.signatures){const v=o.findIndex(k=>k.pubkey.equals(B.publicKey));if(v>-1)o[v].isSigner||(o[v].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${B.publicKey.toString()}`)}let c=0,g=0,p=0;const y=[],I=[];o.forEach(({pubkey:B,isSigner:v,isWritable:k})=>{v?(y.push(B.toString()),c+=1,k||(g+=1)):(I.push(B.toString()),k||(p+=1))});const M=y.concat(I),L=e.map(B=>{const{data:v,programId:k}=B;return{programIdIndex:M.indexOf(k.toString()),accounts:B.keys.map(C=>M.indexOf(C.pubkey.toString())),data:Le.encode(v)}});return L.forEach(B=>{Kt(B.programIdIndex>=0),B.accounts.forEach(v=>Kt(v>=0))}),new Sn({header:{numRequiredSignatures:c,numReadonlySignedAccounts:g,numReadonlyUnsignedAccounts:p},accountKeys:M,recentBlockhash:t,instructions:L})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===e.length&&this.signatures.every((s,i)=>e[i].equals(s.publicKey))||(this.signatures=e.map(n=>({signature:null,publicKey:n}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const e=new Set;this.signatures=t.filter(n=>{const s=n.toString();return e.has(s)?!1:(e.add(s),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...t){if(t.length===0)throw new Error("No signers");const e=new Set,n=[];for(const i of t){const o=i.publicKey.toString();e.has(o)||(e.add(o),n.push(i))}this.signatures=n.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...n)}partialSign(...t){if(t.length===0)throw new Error("No signers");const e=new Set,n=[];for(const i of t){const o=i.publicKey.toString();e.has(o)||(e.add(o),n.push(i))}const s=this._compile();this._partialSign(s,...n)}_partialSign(t,...e){const n=t.serialize();e.forEach(s=>{const i=vu(n,s.secretKey);this._addSignature(s.publicKey,Er(i))})}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){Kt(e.length===64);const n=this.signatures.findIndex(s=>t.equals(s.publicKey));if(n<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[n].signature=wt.Buffer.from(e)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,e){const n={};for(const{signature:s,publicKey:i}of this.signatures)s===null?e&&(n.missing||=[]).push(i):Cd(s,t,i.toBytes())||(n.invalid||=[]).push(i);return n.invalid||n.missing?n:void 0}serialize(t){const{requireAllSignatures:e,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),s=this.serializeMessage();if(n){const i=this._getMessageSignednessErrors(s,e);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(t){const{signatures:e}=this,n=[];qe(n,e.length);const s=n.length+e.length*64+t.length,i=wt.Buffer.alloc(s);return Kt(e.length<256),wt.Buffer.from(n).copy(i,0),e.forEach(({signature:o},a)=>{o!==null&&(Kt(o.length===64,"signature has invalid length"),wt.Buffer.from(o).copy(i,n.length+a*64))}),t.copy(i,n.length+e.length*64),Kt(i.length<=wr,`Transaction too large: ${i.length} > ${wr}`),i}get keys(){return Kt(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return Kt(this.instructions.length===1),this.instructions[0].programId}get data(){return Kt(this.instructions.length===1),this.instructions[0].data}static from(t){let e=[...t];const n=Ke(e);let s=[];for(let i=0;i<n;i++){const o=He(e,0,Kr);s.push(Le.encode(wt.Buffer.from(o)))}return en.populate(Sn.from(e),s)}static populate(t,e=[]){const n=new en;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),e.forEach((s,i)=>{const o={signature:s==Le.encode(Wd)?null:Le.decode(s),publicKey:t.accountKeys[i]};n.signatures.push(o)}),t.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=t.accountKeys[o];return{pubkey:a,isSigner:n.signatures.some(c=>c.publicKey.toString()===a.toString())||t.isAccountSigner(o),isWritable:t.isAccountWritable(o)}});n.instructions.push(new $a({keys:i,programId:t.accountKeys[s.programIdIndex],data:Le.decode(s.data)}))}),n._message=t,n._json=n.toJSON(),n}}class Hr{get version(){return this.message.version}constructor(t,e){if(this.signatures=void 0,this.message=void 0,e!==void 0)Kt(e.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=e;else{const n=[];for(let s=0;s<t.header.numRequiredSignatures;s++)n.push(new Uint8Array(Kr));this.signatures=n}this.message=t}serialize(){const t=this.message.serialize(),e=Array();qe(e,this.signatures.length);const n=it([Wt(e.length,"encodedSignaturesLength"),De(jd(),this.signatures.length,"signatures"),Wt(t.length,"serializedMessage")]),s=new Uint8Array(2048),i=n.encode({encodedSignaturesLength:new Uint8Array(e),signatures:this.signatures,serializedMessage:t},s);return s.slice(0,i)}static deserialize(t){let e=[...t];const n=[],s=Ke(e);for(let o=0;o<s;o++)n.push(new Uint8Array(He(e,0,Kr)));const i=ra.deserialize(new Uint8Array(e));return new Hr(i,n)}sign(t){const e=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of t){const i=n.findIndex(o=>o.equals(s.publicKey));Kt(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=vu(e,s.secretKey)}}addSignature(t,e){Kt(e.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(t));Kt(s>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=e}}const $d=160,Kd=64,qd=$d/Kd,Hd=1e3/qd;new at("SysvarC1ock11111111111111111111111111111111");new at("SysvarEpochSchedu1e111111111111111111111111");new at("Sysvar1nstructions1111111111111111111111111");new at("SysvarRecentB1ockHashes11111111111111111111");new at("SysvarRent111111111111111111111111111111111");new at("SysvarRewards111111111111111111111111111111");new at("SysvarS1otHashes111111111111111111111111111");new at("SysvarS1otHistory11111111111111111111111111");new at("SysvarStakeHistory1111111111111111111111111");class Ka extends Error{constructor({action:t,signature:e,transactionMessage:n,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(t){case"send":a=`Transaction ${e} resulted in an error. 
${n}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${n}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(t)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=e,this.transactionMessage=n,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(!(t!=null&&typeof t=="object"&&"then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((e,n)=>{t.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,e(i)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}}class ot extends Error{constructor({code:t,message:e,data:n},s){super(s!=null?`${s}: ${e}`:e),this.code=void 0,this.data=void 0,this.code=t,this.data=n,this.name="SolanaJSONRPCError"}}function ur(r){return new Promise(t=>setTimeout(t,r))}const Gd=_e("lamportsPerSignature"),Iu=it([ct("version"),ct("state"),xt("authorizedPubkey"),xt("nonce"),it([Gd],"feeCalculator")]);Iu.span;class ia{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const e=Iu.decode(Er(t),0);return new ia({authorizedPubkey:new at(e.authorizedPubkey),nonce:new at(e.nonce).toString(),feeCalculator:e.feeCalculator})}}const Yd=r=>{const t=r.decode.bind(r),e=r.encode.bind(r);return{decode:t,encode:e}},Vd=r=>t=>{const e=Wt(r,t),{encode:n,decode:s}=Yd(e),i=e;return i.decode=(o,a)=>{const c=s(o,a);return Ch(wt.Buffer.from(c))},i.encode=(o,a,c)=>{const g=Oh(o,r);return n(g,a,c)},i},Sr=Vd(8);Object.freeze({Create:{index:0,layout:it([ct("instruction"),$e("lamports"),$e("space"),xt("programId")])},Assign:{index:1,layout:it([ct("instruction"),xt("programId")])},Transfer:{index:2,layout:it([ct("instruction"),Sr("lamports")])},CreateWithSeed:{index:3,layout:it([ct("instruction"),xt("base"),hr("seed"),$e("lamports"),$e("space"),xt("programId")])},AdvanceNonceAccount:{index:4,layout:it([ct("instruction")])},WithdrawNonceAccount:{index:5,layout:it([ct("instruction"),$e("lamports")])},InitializeNonceAccount:{index:6,layout:it([ct("instruction"),xt("authorized")])},AuthorizeNonceAccount:{index:7,layout:it([ct("instruction"),xt("authorized")])},Allocate:{index:8,layout:it([ct("instruction"),$e("space")])},AllocateWithSeed:{index:9,layout:it([ct("instruction"),xt("base"),hr("seed"),$e("space"),xt("programId")])},AssignWithSeed:{index:10,layout:it([ct("instruction"),xt("base"),hr("seed"),xt("programId")])},TransferWithSeed:{index:11,layout:it([ct("instruction"),Sr("lamports"),hr("seed"),xt("programId")])},UpgradeNonceAccount:{index:12,layout:it([ct("instruction")])}});new at("11111111111111111111111111111111");new at("BPFLoader2111111111111111111111111111111111");function Zd(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Rs,qa;function Qd(){if(qa)return Rs;qa=1;var r=Object.prototype.toString,t=Object.keys||function(n){var s=[];for(var i in n)s.push(i);return s};function e(n,s){var i,o,a,c,g,p,y;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return e(n.toJSON(),s);if(y=r.call(n),y==="[object Array]"){for(a="[",o=n.length-1,i=0;i<o;i++)a+=e(n[i],!0)+",";return o>-1&&(a+=e(n[i],!0)),a+"]"}else if(y==="[object Object]"){for(c=t(n).sort(),o=c.length,a="",i=0;i<o;)g=c[i],p=e(n[g],!1),p!==void 0&&(a&&(a+=","),a+=JSON.stringify(g)+":"+p),i++;return"{"+a+"}"}else return JSON.stringify(n);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}return Rs=function(n){var s=e(n,!1);if(s!==void 0)return""+s},Rs}var Jd=Qd(),Ha=Zd(Jd);const Rr=32;function Ds(r){let t=0;for(;r>1;)r/=2,t++;return t}function Xd(r){return r===0?1:(r--,r|=r>>1,r|=r>>2,r|=r>>4,r|=r>>8,r|=r>>16,r|=r>>32,r+1)}class t0{constructor(t,e,n,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=e,this.warmup=n,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const e=Ds(Xd(t+Rr+1))-Ds(Rr)-1,n=this.getSlotsInEpoch(e),s=t-(n-Rr);return[e,s]}else{const e=t-this.firstNormalSlot,n=Math.floor(e/this.slotsPerEpoch),s=this.firstNormalEpoch+n,i=e%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*Rr:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+Ds(Rr)):this.slotsPerEpoch}}var e0=globalThis.fetch;class n0 extends Ed{constructor(t,e,n){const s=i=>{const o=vd(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...e});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,t,e,n),this.underlyingSocket=void 0}call(...t){const e=this.underlyingSocket?.readyState;return e===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}notify(...t){const e=this.underlyingSocket?.readyState;return e===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}}function r0(r,t){let e;try{e=r.layout.decode(t)}catch(n){throw new Error("invalid instruction; "+n)}if(e.typeIndex!==r.index)throw new Error(`invalid account data; account type mismatch ${e.typeIndex} != ${r.index}`);return e}const Ga=56;class Ya{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const e=r0(i0,t),n=t.length-Ga;Kt(n>=0,"lookup table is invalid"),Kt(n%32===0,"lookup table is invalid");const s=n/32,{addresses:i}=it([De(xt(),s,"addresses")]).decode(t.slice(Ga));return{deactivationSlot:e.deactivationSlot,lastExtendedSlot:e.lastExtendedSlot,lastExtendedSlotStartIndex:e.lastExtendedStartIndex,authority:e.authority.length!==0?new at(e.authority[0]):void 0,addresses:i.map(o=>new at(o))}}}const i0={index:1,layout:it([ct("typeIndex"),Sr("deactivationSlot"),_e("lastExtendedSlot"),Lt("lastExtendedStartIndex"),Lt(),De(xt(),Vn(Lt(),-1),"authority")])},s0=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function o0(r){const t=r.match(s0);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${r}\``);const[e,n,s,i]=t,o=r.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${n}${c}${i}`}const Yt=Xr(Xo(at),G(),r=>new at(r)),_u=ta([G(),Ht("base64")]),sa=Xr(Xo(wt.Buffer),_u,r=>wt.Buffer.from(r[0],"base64")),a0=30*1e3;function c0(r){if(/^https?:/.test(r)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return r}function Ut(r){let t,e;if(typeof r=="string")t=r;else if(r){const{commitment:n,...s}=r;t=n,e=s}return{commitment:t,config:e}}function Va(r){return r.map(t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t)}function Au(r){return je([q({jsonrpc:Ht("2.0"),id:G(),result:r}),q({jsonrpc:Ht("2.0"),id:G(),error:q({code:kr(),message:G(),data:lt(Kh())})})])}const u0=Au(kr());function Mt(r){return Xr(Au(r),u0,t=>"error"in t?t:{...t,result:V(t.result,r)})}function Zt(r){return Mt(q({context:q({slot:U()}),value:r}))}function qi(r){return q({context:q({slot:U()}),value:r})}function Os(r,t){return r===0?new qr({header:t.header,staticAccountKeys:t.accountKeys.map(e=>new at(e)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Le.decode(e.data)})),addressTableLookups:t.addressTableLookups}):new Sn(t)}const l0=q({foundation:U(),foundationTerm:U(),initial:U(),taper:U(),terminal:U()}),f0=Mt(X(et(q({epoch:U(),effectiveSlot:U(),amount:U(),postBalance:U(),commission:lt(et(U()))})))),h0=X(q({slot:U(),prioritizationFee:U()})),d0=q({total:U(),validator:U(),foundation:U(),epoch:U()}),g0=q({epoch:U(),slotIndex:U(),slotsInEpoch:U(),absoluteSlot:U(),blockHeight:lt(U()),transactionCount:lt(U())}),p0=q({slotsPerEpoch:U(),leaderScheduleSlotOffset:U(),warmup:un(),firstNormalEpoch:U(),firstNormalSlot:U()}),w0=uu(G(),X(U())),nr=et(je([q({}),G()])),m0=q({err:nr}),y0=Ht("receivedSignature"),b0=q({"solana-core":G(),"feature-set":lt(U())}),v0=q({program:G(),programId:Yt,parsed:kr()}),M0=q({programId:Yt,accounts:X(Yt),data:G()}),Za=Zt(q({err:et(je([q({}),G()])),logs:et(X(G())),accounts:lt(et(X(et(q({executable:un(),owner:G(),lamports:U(),data:X(G()),rentEpoch:lt(U())}))))),unitsConsumed:lt(U()),returnData:lt(et(q({programId:G(),data:ta([G(),Ht("base64")])}))),innerInstructions:lt(et(X(q({index:U(),instructions:X(je([v0,M0]))}))))})),E0=Zt(q({byIdentity:uu(G(),X(U())),range:q({firstSlot:U(),lastSlot:U()})}));function S0(r,t,e,n,s,i){const o=e||e0;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return n&&(c=async(p,y)=>{const I=await new Promise((M,L)=>{try{n(p,y,(B,v)=>M([B,v]))}catch(B){L(B)}});return await o(...I)}),new md(async(p,y)=>{const I={method:"POST",body:p,agent:a,headers:Object.assign({"Content-Type":"application/json"},t||{},xg)};try{let M=5,L,B=500;for(;c?L=await c(r,I):L=await o(r,I),!(L.status!==429||s===!0||(M-=1,M===0));)console.error(`Server responded with ${L.status} ${L.statusText}.  Retrying after ${B}ms delay...`),await ur(B),B*=2;const v=await L.text();L.ok?y(null,v):y(new Error(`${L.status} ${L.statusText}: ${v}`))}catch(M){M instanceof Error&&y(M)}},{})}function x0(r){return(t,e)=>new Promise((n,s)=>{r.request(t,e,(i,o)=>{if(i){s(i);return}n(o)})})}function I0(r){return t=>new Promise((e,n)=>{t.length===0&&e([]);const s=t.map(i=>r.request(i.methodName,i.args));r.request(s,(i,o)=>{if(i){n(i);return}e(o)})})}const _0=Mt(l0),A0=Mt(d0),B0=Mt(h0),L0=Mt(g0),T0=Mt(p0),N0=Mt(w0),k0=Mt(U()),C0=Zt(q({total:U(),circulating:U(),nonCirculating:U(),nonCirculatingAccounts:X(Yt)})),ao=q({amount:G(),uiAmount:et(U()),decimals:U(),uiAmountString:lt(G())}),R0=Zt(X(q({address:Yt,amount:G(),uiAmount:et(U()),decimals:U(),uiAmountString:lt(G())}))),D0=Zt(X(q({pubkey:Yt,account:q({executable:un(),owner:Yt,lamports:U(),data:sa,rentEpoch:U()})}))),co=q({program:G(),parsed:kr(),space:U()}),O0=Zt(X(q({pubkey:Yt,account:q({executable:un(),owner:Yt,lamports:U(),data:co,rentEpoch:U()})}))),j0=Zt(X(q({lamports:U(),address:Yt}))),Gr=q({executable:un(),owner:Yt,lamports:U(),data:sa,rentEpoch:U()}),U0=q({pubkey:Yt,account:Gr}),z0=Xr(je([Xo(wt.Buffer),co]),je([_u,co]),r=>Array.isArray(r)?V(r,sa):r),uo=q({executable:un(),owner:Yt,lamports:U(),data:z0,rentEpoch:U()}),P0=q({pubkey:Yt,account:uo}),F0=q({state:je([Ht("active"),Ht("inactive"),Ht("activating"),Ht("deactivating")]),active:U(),inactive:U()}),W0=Mt(X(q({signature:G(),slot:U(),err:nr,memo:et(G()),blockTime:lt(et(U()))}))),$0=Mt(X(q({signature:G(),slot:U(),err:nr,memo:et(G()),blockTime:lt(et(U()))}))),K0=q({subscription:U(),result:qi(Gr)}),q0=q({pubkey:Yt,account:Gr}),H0=q({subscription:U(),result:qi(q0)}),G0=q({parent:U(),slot:U(),root:U()}),Y0=q({subscription:U(),result:G0}),V0=je([q({type:je([Ht("firstShredReceived"),Ht("completed"),Ht("optimisticConfirmation"),Ht("root")]),slot:U(),timestamp:U()}),q({type:Ht("createdBank"),parent:U(),slot:U(),timestamp:U()}),q({type:Ht("frozen"),slot:U(),timestamp:U(),stats:q({numTransactionEntries:U(),numSuccessfulTransactions:U(),numFailedTransactions:U(),maxTransactionsPerEntry:U()})}),q({type:Ht("dead"),slot:U(),timestamp:U(),err:G()})]),Z0=q({subscription:U(),result:V0}),Q0=q({subscription:U(),result:qi(je([m0,y0]))}),J0=q({subscription:U(),result:U()}),X0=q({pubkey:G(),gossip:et(G()),tpu:et(G()),rpc:et(G()),version:et(G())}),Qa=q({votePubkey:G(),nodePubkey:G(),activatedStake:U(),epochVoteAccount:un(),epochCredits:X(ta([U(),U(),U()])),commission:U(),lastVote:U(),rootSlot:et(U())}),tg=Mt(q({current:X(Qa),delinquent:X(Qa)})),eg=je([Ht("processed"),Ht("confirmed"),Ht("finalized")]),ng=q({slot:U(),confirmations:et(U()),err:nr,confirmationStatus:lt(eg)}),rg=Zt(X(et(ng))),ig=Mt(U()),Bu=q({accountKey:Yt,writableIndexes:X(U()),readonlyIndexes:X(U())}),oa=q({signatures:X(G()),message:q({accountKeys:X(G()),header:q({numRequiredSignatures:U(),numReadonlySignedAccounts:U(),numReadonlyUnsignedAccounts:U()}),instructions:X(q({accounts:X(U()),data:G(),programIdIndex:U()})),recentBlockhash:G(),addressTableLookups:lt(X(Bu))})}),Lu=q({pubkey:Yt,signer:un(),writable:un(),source:lt(je([Ht("transaction"),Ht("lookupTable")]))}),Tu=q({accountKeys:X(Lu),signatures:X(G())}),Nu=q({parsed:kr(),program:G(),programId:Yt}),ku=q({accounts:X(Yt),data:G(),programId:Yt}),sg=je([ku,Nu]),og=je([q({parsed:kr(),program:G(),programId:G()}),q({accounts:X(G()),data:G(),programId:G()})]),Cu=Xr(sg,og,r=>"accounts"in r?V(r,ku):V(r,Nu)),Ru=q({signatures:X(G()),message:q({accountKeys:X(Lu),instructions:X(Cu),recentBlockhash:G(),addressTableLookups:lt(et(X(Bu)))})}),Ai=q({accountIndex:U(),mint:G(),owner:lt(G()),uiTokenAmount:ao}),Du=q({writable:X(Yt),readonly:X(Yt)}),Hi=q({err:nr,fee:U(),innerInstructions:lt(et(X(q({index:U(),instructions:X(q({accounts:X(U()),data:G(),programIdIndex:U()}))})))),preBalances:X(U()),postBalances:X(U()),logMessages:lt(et(X(G()))),preTokenBalances:lt(et(X(Ai))),postTokenBalances:lt(et(X(Ai))),loadedAddresses:lt(Du),computeUnitsConsumed:lt(U())}),aa=q({err:nr,fee:U(),innerInstructions:lt(et(X(q({index:U(),instructions:X(Cu)})))),preBalances:X(U()),postBalances:X(U()),logMessages:lt(et(X(G()))),preTokenBalances:lt(et(X(Ai))),postTokenBalances:lt(et(X(Ai))),loadedAddresses:lt(Du),computeUnitsConsumed:lt(U())}),Cr=je([Ht(0),Ht("legacy")]),rr=q({pubkey:G(),lamports:U(),postBalance:et(U()),rewardType:et(G()),commission:lt(et(U()))}),ag=Mt(et(q({blockhash:G(),previousBlockhash:G(),parentSlot:U(),transactions:X(q({transaction:oa,meta:et(Hi),version:lt(Cr)})),rewards:lt(X(rr)),blockTime:et(U()),blockHeight:et(U())}))),cg=Mt(et(q({blockhash:G(),previousBlockhash:G(),parentSlot:U(),rewards:lt(X(rr)),blockTime:et(U()),blockHeight:et(U())}))),ug=Mt(et(q({blockhash:G(),previousBlockhash:G(),parentSlot:U(),transactions:X(q({transaction:Tu,meta:et(Hi),version:lt(Cr)})),rewards:lt(X(rr)),blockTime:et(U()),blockHeight:et(U())}))),lg=Mt(et(q({blockhash:G(),previousBlockhash:G(),parentSlot:U(),transactions:X(q({transaction:Ru,meta:et(aa),version:lt(Cr)})),rewards:lt(X(rr)),blockTime:et(U()),blockHeight:et(U())}))),fg=Mt(et(q({blockhash:G(),previousBlockhash:G(),parentSlot:U(),transactions:X(q({transaction:Tu,meta:et(aa),version:lt(Cr)})),rewards:lt(X(rr)),blockTime:et(U()),blockHeight:et(U())}))),hg=Mt(et(q({blockhash:G(),previousBlockhash:G(),parentSlot:U(),rewards:lt(X(rr)),blockTime:et(U()),blockHeight:et(U())}))),dg=Mt(et(q({blockhash:G(),previousBlockhash:G(),parentSlot:U(),transactions:X(q({transaction:oa,meta:et(Hi)})),rewards:lt(X(rr)),blockTime:et(U())}))),Ja=Mt(et(q({blockhash:G(),previousBlockhash:G(),parentSlot:U(),signatures:X(G()),blockTime:et(U())}))),js=Mt(et(q({slot:U(),meta:et(Hi),blockTime:lt(et(U())),transaction:oa,version:lt(Cr)}))),oi=Mt(et(q({slot:U(),transaction:Ru,meta:et(aa),blockTime:lt(et(U())),version:lt(Cr)}))),gg=Zt(q({blockhash:G(),feeCalculator:q({lamportsPerSignature:U()})})),pg=Zt(q({blockhash:G(),lastValidBlockHeight:U()})),wg=Zt(un()),mg=q({slot:U(),numTransactions:U(),numSlots:U(),samplePeriodSecs:U()}),yg=Mt(X(mg)),bg=Zt(et(q({feeCalculator:q({lamportsPerSignature:U()})}))),vg=Mt(G()),Mg=Mt(G()),Eg=q({err:nr,logs:X(G()),signature:G()}),Sg=q({result:qi(Eg),subscription:U()}),xg={"solana-client":"js/1.0.0-maintenance"};class Ig{constructor(t,e){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const g={};return async p=>{const{commitment:y,config:I}=Ut(p),M=this._buildArgs([],y,void 0,I),L=Ha(M);return g[L]=g[L]??(async()=>{try{const B=await this._rpcRequest("getBlockHeight",M),v=V(B,Mt(U()));if("error"in v)throw new ot(v.error,"failed to get block height information");return v.result}finally{delete g[L]}})(),await g[L]}})();let n,s,i,o,a,c;e&&typeof e=="string"?this._commitment=e:e&&(this._commitment=e.commitment,this._confirmTransactionInitialTimeout=e.confirmTransactionInitialTimeout,n=e.wsEndpoint,s=e.httpHeaders,i=e.fetch,o=e.fetchMiddleware,a=e.disableRetryOnRateLimit,c=e.httpAgent),this._rpcEndpoint=c0(t),this._rpcWsEndpoint=n||o0(t),this._rpcClient=S0(t,s,i,o,a,c),this._rpcRequest=x0(this._rpcClient),this._rpcBatchRequest=I0(this._rpcClient),this._rpcWebSocket=new n0(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,e){const{commitment:n,config:s}=Ut(e),i=this._buildArgs([t.toBase58()],n,void 0,s),o=await this._rpcRequest("getBalance",i),a=V(o,Zt(U()));if("error"in a)throw new ot(a.error,`failed to get balance for ${t.toBase58()}`);return a.result}async getBalance(t,e){return await this.getBalanceAndContext(t,e).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+n)})}async getBlockTime(t){const e=await this._rpcRequest("getBlockTime",[t]),n=V(e,Mt(et(U())));if("error"in n)throw new ot(n.error,`failed to get block time for slot ${t}`);return n.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),e=V(t,Mt(U()));if("error"in e)throw new ot(e.error,"failed to get minimum ledger slot");return e.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),e=V(t,k0);if("error"in e)throw new ot(e.error,"failed to get first available block");return e.result}async getSupply(t){let e={};typeof t=="string"?e={commitment:t}:t?e={...t,commitment:t&&t.commitment||this.commitment}:e={commitment:this.commitment};const n=await this._rpcRequest("getSupply",[e]),s=V(n,C0);if("error"in s)throw new ot(s.error,"failed to get supply");return s.result}async getTokenSupply(t,e){const n=this._buildArgs([t.toBase58()],e),s=await this._rpcRequest("getTokenSupply",n),i=V(s,Zt(ao));if("error"in i)throw new ot(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(t,e){const n=this._buildArgs([t.toBase58()],e),s=await this._rpcRequest("getTokenAccountBalance",n),i=V(s,Zt(ao));if("error"in i)throw new ot(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(t,e,n){const{commitment:s,config:i}=Ut(n);let o=[t.toBase58()];"mint"in e?o.push({mint:e.mint.toBase58()}):o.push({programId:e.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),g=V(c,D0);if("error"in g)throw new ot(g.error,`failed to get token accounts owned by account ${t.toBase58()}`);return g.result}async getParsedTokenAccountsByOwner(t,e,n){let s=[t.toBase58()];"mint"in e?s.push({mint:e.mint.toBase58()}):s.push({programId:e.programId.toBase58()});const i=this._buildArgs(s,n,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=V(o,O0);if("error"in a)throw new ot(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getLargestAccounts(t){const e={...t,commitment:t&&t.commitment||this.commitment},n=e.filter||e.commitment?[e]:[],s=await this._rpcRequest("getLargestAccounts",n),i=V(s,j0);if("error"in i)throw new ot(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(t,e){const n=this._buildArgs([t.toBase58()],e),s=await this._rpcRequest("getTokenLargestAccounts",n),i=V(s,R0);if("error"in i)throw new ot(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(t,e){const{commitment:n,config:s}=Ut(e),i=this._buildArgs([t.toBase58()],n,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=V(o,Zt(et(Gr)));if("error"in a)throw new ot(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getParsedAccountInfo(t,e){const{commitment:n,config:s}=Ut(e),i=this._buildArgs([t.toBase58()],n,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=V(o,Zt(et(uo)));if("error"in a)throw new ot(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getAccountInfo(t,e){try{return(await this.getAccountInfoAndContext(t,e)).value}catch(n){throw new Error("failed to get info about account "+t.toBase58()+": "+n)}}async getMultipleParsedAccounts(t,e){const{commitment:n,config:s}=Ut(e),i=t.map(g=>g.toBase58()),o=this._buildArgs([i],n,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=V(a,Zt(X(et(uo))));if("error"in c)throw new ot(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(t,e){const{commitment:n,config:s}=Ut(e),i=t.map(g=>g.toBase58()),o=this._buildArgs([i],n,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=V(a,Zt(X(et(Gr))));if("error"in c)throw new ot(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(t,e){return(await this.getMultipleAccountsInfoAndContext(t,e)).value}async getStakeActivation(t,e,n){const{commitment:s,config:i}=Ut(e),o=this._buildArgs([t.toBase58()],s,void 0,{...i,epoch:n??i?.epoch}),a=await this._rpcRequest("getStakeActivation",o),c=V(a,Mt(F0));if("error"in c)throw new ot(c.error,`failed to get Stake Activation ${t.toBase58()}`);return c.result}async getProgramAccounts(t,e){const{commitment:n,config:s}=Ut(e),{encoding:i,...o}=s||{},a=this._buildArgs([t.toBase58()],n,i||"base64",{...o,...o.filters?{filters:Va(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),g=X(U0),p=o.withContext===!0?V(c,Zt(g)):V(c,Mt(g));if("error"in p)throw new ot(p.error,`failed to get accounts owned by program ${t.toBase58()}`);return p.result}async getParsedProgramAccounts(t,e){const{commitment:n,config:s}=Ut(e),i=this._buildArgs([t.toBase58()],n,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=V(o,Mt(X(P0)));if("error"in a)throw new ot(a.error,`failed to get accounts owned by program ${t.toBase58()}`);return a.result}async confirmTransaction(t,e){let n;if(typeof t=="string")n=t;else{const i=t;if(i.abortSignal?.aborted)return Promise.reject(i.abortSignal.reason);n=i.signature}let s;try{s=Le.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return Kt(s.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:e||this.commitment,signature:n}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:e||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((e,n)=>{t!=null&&(t.aborted?n(t.reason):t.addEventListener("abort",()=>{n(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:e}){let n,s,i=!1;const o=new Promise((c,g)=>{try{n=this.onSignature(e,(y,I)=>{n=void 0;const M={context:I,value:y};c({__type:Tn.PROCESSED,response:M})},t);const p=new Promise(y=>{n==null?y():s=this._onSubscriptionStateChange(n,I=>{I==="subscribed"&&y()})});(async()=>{if(await p,i)return;const y=await this.getSignatureStatus(e);if(i||y==null)return;const{context:I,value:M}=y;if(M!=null)if(M?.err)g(M.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(M.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(M.confirmationStatus==="processed"||M.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:Tn.PROCESSED,response:{context:I,value:M}})}})()}catch(p){g(p)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:e,lastValidBlockHeight:n,signature:s}}){let i=!1;const o=new Promise(y=>{const I=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let M=await I();if(!i){for(;M<=n;)if(await ur(1e3),i||(M=await I(),i))return;y({__type:Tn.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:t,signature:s}),g=this.getCancellationPromise(e);let p;try{const y=await Promise.race([g,c,o]);if(y.__type===Tn.PROCESSED)p=y.response;else throw new Eu(s)}finally{i=!0,a()}return p}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:e,minContextSlot:n,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(M=>{let L=i,B=null;const v=async()=>{try{const{context:k,value:C}=await this.getNonceAndContext(s,{commitment:t,minContextSlot:n});return B=k.slot,C?.nonce}catch{return L}};(async()=>{if(L=await v(),!a)for(;;){if(i!==L){M({__type:Tn.NONCE_INVALID,slotInWhichNonceDidAdvance:B});return}if(await ur(2e3),a||(L=await v(),a))return}})()}),{abortConfirmation:g,confirmationPromise:p}=this.getTransactionConfirmationPromise({commitment:t,signature:o}),y=this.getCancellationPromise(e);let I;try{const M=await Promise.race([y,p,c]);if(M.__type===Tn.PROCESSED)I=M.response;else{let L;for(;;){const B=await this.getSignatureStatus(o);if(B==null)break;if(B.context.slot<(M.slotInWhichNonceDidAdvance??n)){await ur(400);continue}L=B;break}if(L?.value){const B=t||"finalized",{confirmationStatus:v}=L.value;switch(B){case"processed":case"recent":if(v!=="processed"&&v!=="confirmed"&&v!=="finalized")throw new Or(o);break;case"confirmed":case"single":case"singleGossip":if(v!=="confirmed"&&v!=="finalized")throw new Or(o);break;case"finalized":case"max":case"root":if(v!=="finalized")throw new Or(o);break;default:}I={context:L.context,value:{err:L.value.err}}}else throw new Or(o)}}finally{a=!0,g()}return I}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:e}){let n;const s=new Promise(c=>{let g=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{g=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>c({__type:Tn.TIMED_OUT,timeoutMs:g}),g)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:t,signature:e});let a;try{const c=await Promise.race([o,s]);if(c.__type===Tn.PROCESSED)a=c.response;else throw new Su(e,c.timeoutMs/1e3)}finally{clearTimeout(n),i()}return a}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),e=V(t,Mt(X(X0)));if("error"in e)throw new ot(e.error,"failed to get cluster nodes");return e.result}async getVoteAccounts(t){const e=this._buildArgs([],t),n=await this._rpcRequest("getVoteAccounts",e),s=V(n,tg);if("error"in s)throw new ot(s.error,"failed to get vote accounts");return s.result}async getSlot(t){const{commitment:e,config:n}=Ut(t),s=this._buildArgs([],e,void 0,n),i=await this._rpcRequest("getSlot",s),o=V(i,Mt(U()));if("error"in o)throw new ot(o.error,"failed to get slot");return o.result}async getSlotLeader(t){const{commitment:e,config:n}=Ut(t),s=this._buildArgs([],e,void 0,n),i=await this._rpcRequest("getSlotLeader",s),o=V(i,Mt(G()));if("error"in o)throw new ot(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(t,e){const n=[t,e],s=await this._rpcRequest("getSlotLeaders",n),i=V(s,Mt(X(Yt)));if("error"in i)throw new ot(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(t,e){const{context:n,value:s}=await this.getSignatureStatuses([t],e);Kt(s.length===1);const i=s[0];return{context:n,value:i}}async getSignatureStatuses(t,e){const n=[t];e&&n.push(e);const s=await this._rpcRequest("getSignatureStatuses",n),i=V(s,rg);if("error"in i)throw new ot(i.error,"failed to get signature status");return i.result}async getTransactionCount(t){const{commitment:e,config:n}=Ut(t),s=this._buildArgs([],e,void 0,n),i=await this._rpcRequest("getTransactionCount",s),o=V(i,Mt(U()));if("error"in o)throw new ot(o.error,"failed to get transaction count");return o.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const e=this._buildArgs([],t),n=await this._rpcRequest("getInflationGovernor",e),s=V(n,_0);if("error"in s)throw new ot(s.error,"failed to get inflation");return s.result}async getInflationReward(t,e,n){const{commitment:s,config:i}=Ut(n),o=this._buildArgs([t.map(g=>g.toBase58())],s,void 0,{...i,epoch:e??i?.epoch}),a=await this._rpcRequest("getInflationReward",o),c=V(a,f0);if("error"in c)throw new ot(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),e=V(t,A0);if("error"in e)throw new ot(e.error,"failed to get inflation rate");return e.result}async getEpochInfo(t){const{commitment:e,config:n}=Ut(t),s=this._buildArgs([],e,void 0,n),i=await this._rpcRequest("getEpochInfo",s),o=V(i,L0);if("error"in o)throw new ot(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),e=V(t,T0);if("error"in e)throw new ot(e.error,"failed to get epoch schedule");const n=e.result;return new t0(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),e=V(t,N0);if("error"in e)throw new ot(e.error,"failed to get leader schedule");return e.result}async getMinimumBalanceForRentExemption(t,e){const n=this._buildArgs([t],e),s=await this._rpcRequest("getMinimumBalanceForRentExemption",n),i=V(s,ig);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(t){const e=this._buildArgs([],t),n=await this._rpcRequest("getRecentBlockhash",e),s=V(n,gg);if("error"in s)throw new ot(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(t){const e=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),n=V(e,yg);if("error"in n)throw new ot(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(t,e){const n=this._buildArgs([t],e),s=await this._rpcRequest("getFeeCalculatorForBlockhash",n),i=V(s,bg);if("error"in i)throw new ot(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(t,e){const n=Er(t.serialize()).toString("base64"),s=this._buildArgs([n],e),i=await this._rpcRequest("getFeeForMessage",s),o=V(i,Zt(et(U())));if("error"in o)throw new ot(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(t){const e=t?.lockedWritableAccounts?.map(o=>o.toBase58()),n=e?.length?[e]:[],s=await this._rpcRequest("getRecentPrioritizationFees",n),i=V(s,B0);if("error"in i)throw new ot(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhashAndContext(t){const{commitment:e,config:n}=Ut(t),s=this._buildArgs([],e,void 0,n),i=await this._rpcRequest("getLatestBlockhash",s),o=V(i,pg);if("error"in o)throw new ot(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(t,e){const{commitment:n,config:s}=Ut(e),i=this._buildArgs([t],n,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=V(o,wg);if("error"in a)throw new ot(a.error,"failed to determine if the blockhash `"+t+"`is valid");return a.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),e=V(t,Mt(b0));if("error"in e)throw new ot(e.error,"failed to get version");return e.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),e=V(t,Mt(G()));if("error"in e)throw new ot(e.error,"failed to get genesis hash");return e.result}async getBlock(t,e){const{commitment:n,config:s}=Ut(e),i=this._buildArgsAtLeastConfirmed([t],n,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s?.transactionDetails){case"accounts":{const a=V(o,ug);if("error"in a)throw a.error;return a.result}case"none":{const a=V(o,cg);if("error"in a)throw a.error;return a.result}default:{const a=V(o,ag);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:g,meta:p,version:y})=>({meta:p,transaction:{...g,message:Os(y,g.message)},version:y}))}:null}}}catch(a){throw new ot(a,"failed to get confirmed block")}}async getParsedBlock(t,e){const{commitment:n,config:s}=Ut(e),i=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s?.transactionDetails){case"accounts":{const a=V(o,fg);if("error"in a)throw a.error;return a.result}case"none":{const a=V(o,hg);if("error"in a)throw a.error;return a.result}default:{const a=V(o,lg);if("error"in a)throw a.error;return a.result}}}catch(a){throw new ot(a,"failed to get block")}}async getBlockProduction(t){let e,n;if(typeof t=="string")n=t;else if(t){const{commitment:a,...c}=t;n=a,e=c}const s=this._buildArgs([],n,"base64",e),i=await this._rpcRequest("getBlockProduction",s),o=V(i,E0);if("error"in o)throw new ot(o.error,"failed to get block production information");return o.result}async getTransaction(t,e){const{commitment:n,config:s}=Ut(e),i=this._buildArgsAtLeastConfirmed([t],n,void 0,s),o=await this._rpcRequest("getTransaction",i),a=V(o,js);if("error"in a)throw new ot(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:Os(c.version,c.transaction.message)}}}async getParsedTransaction(t,e){const{commitment:n,config:s}=Ut(e),i=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=V(o,oi);if("error"in a)throw new ot(a.error,"failed to get transaction");return a.result}async getParsedTransactions(t,e){const{commitment:n,config:s}=Ut(e),i=t.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,"jsonParsed",s)}));return(await this._rpcBatchRequest(i)).map(c=>{const g=V(c,oi);if("error"in g)throw new ot(g.error,"failed to get transactions");return g.result})}async getTransactions(t,e){const{commitment:n,config:s}=Ut(e),i=t.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,void 0,s)}));return(await this._rpcBatchRequest(i)).map(c=>{const g=V(c,js);if("error"in g)throw new ot(g.error,"failed to get transactions");const p=g.result;return p&&{...p,transaction:{...p.transaction,message:Os(p.version,p.transaction.message)}}})}async getConfirmedBlock(t,e){const n=this._buildArgsAtLeastConfirmed([t],e),s=await this._rpcRequest("getConfirmedBlock",n),i=V(s,dg);if("error"in i)throw new ot(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+t+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:g})=>{const p=new Sn(c.message);return{meta:g,transaction:{...c,message:p}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:g})=>({meta:g,transaction:en.populate(c.message,c.signatures)}))}}async getBlocks(t,e,n){const s=this._buildArgsAtLeastConfirmed(e!==void 0?[t,e]:[t],n),i=await this._rpcRequest("getBlocks",s),o=V(i,Mt(X(U())));if("error"in o)throw new ot(o.error,"failed to get blocks");return o.result}async getBlockSignatures(t,e){const n=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",n),i=V(s,Ja);if("error"in i)throw new ot(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+t+" not found");return o}async getConfirmedBlockSignatures(t,e){const n=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",n),i=V(s,Ja);if("error"in i)throw new ot(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+t+" not found");return o}async getConfirmedTransaction(t,e){const n=this._buildArgsAtLeastConfirmed([t],e),s=await this._rpcRequest("getConfirmedTransaction",n),i=V(s,js);if("error"in i)throw new ot(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new Sn(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:en.populate(a,c)}}async getParsedConfirmedTransaction(t,e){const n=this._buildArgsAtLeastConfirmed([t],e,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",n),i=V(s,oi);if("error"in i)throw new ot(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(t,e){const n=t.map(o=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([o],e,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(o=>{const a=V(o,oi);if("error"in a)throw new ot(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(t,e,n){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(e--,!(e<=0||e<i));)try{const c=await this.getConfirmedBlockSignatures(e,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(n++,!(n>o));)try{const c=await this.getConfirmedBlockSignatures(n);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(t,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(t,e,n){const s=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,e),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=V(i,W0);if("error"in o)throw new ot(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(t,e,n){const s=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,e),i=await this._rpcRequest("getSignaturesForAddress",s),o=V(i,$0);if("error"in o)throw new ot(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(t,e){const{context:n,value:s}=await this.getAccountInfoAndContext(t,e);let i=null;return s!==null&&(i=new Ya({key:t,state:Ya.deserialize(s.data)})),{context:n,value:i}}async getNonceAndContext(t,e){const{context:n,value:s}=await this.getAccountInfoAndContext(t,e);let i=null;return s!==null&&(i=ia.fromAccountData(s.data)),{context:n,value:i}}async getNonce(t,e){return await this.getNonceAndContext(t,e).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+n)})}async requestAirdrop(t,e){const n=await this._rpcRequest("requestAirdrop",[t.toBase58(),e]),s=V(n,vg);if("error"in s)throw new ot(s.error,`airdrop to ${t.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await ur(100);const n=Date.now()-this._blockhashInfo.lastFetch>=a0;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),e=this._blockhashInfo.latestBlockhash,n=e?e.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(n!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await ur(Hd/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:e,config:n}=Ut(t),s=this._buildArgs([],e,"base64",n),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=V(i,Zt(U()));if("error"in o)throw new ot(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(t,e,n){if("message"in t){const B=t.serialize(),v=wt.Buffer.from(B).toString("base64");if(Array.isArray(e)||n!==void 0)throw new Error("Invalid arguments");const k=e||{};k.encoding="base64","commitment"in k||(k.commitment=this.commitment),e&&typeof e=="object"&&"innerInstructions"in e&&(k.innerInstructions=e.innerInstructions);const C=[v,k],_=await this._rpcRequest("simulateTransaction",C),O=V(_,Za);if("error"in O)throw new Error("failed to simulate transaction: "+O.error.message);return O.result}let s;if(t instanceof en){let L=t;s=new en,s.feePayer=L.feePayer,s.instructions=t.instructions,s.nonceInfo=L.nonceInfo,s.signatures=L.signatures}else s=en.populate(t),s._message=s._json=void 0;if(e!==void 0&&!Array.isArray(e))throw new Error("Invalid arguments");const i=e;if(s.nonceInfo&&i)s.sign(...i);else{let L=this._disableBlockhashCaching;for(;;){const B=await this._blockhashWithExpiryBlockHeight(L);if(s.lastValidBlockHeight=B.lastValidBlockHeight,s.recentBlockhash=B.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const v=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(v)&&!this._blockhashInfo.transactionSignatures.includes(v)){this._blockhashInfo.simulatedSignatures.push(v);break}else L=!0}}const o=s._compile(),a=o.serialize(),g=s._serialize(a).toString("base64"),p={encoding:"base64",commitment:this.commitment};if(n){const L=(Array.isArray(n)?n:o.nonProgramIds()).map(B=>B.toBase58());p.accounts={encoding:"base64",addresses:L}}i&&(p.sigVerify=!0),e&&typeof e=="object"&&"innerInstructions"in e&&(p.innerInstructions=e.innerInstructions);const y=[g,p],I=await this._rpcRequest("simulateTransaction",y),M=V(I,Za);if("error"in M){let L;if("data"in M.error&&(L=M.error.data.logs,L&&Array.isArray(L))){const B=`
    `,v=B+L.join(B);console.error(M.error.message,v)}throw new Ka({action:"simulate",signature:"",transactionMessage:M.error.message,logs:L})}return M.result}async sendTransaction(t,e,n){if("version"in t){if(e&&Array.isArray(e))throw new Error("Invalid arguments");const o=t.serialize();return await this.sendRawTransaction(o,e)}if(e===void 0||!Array.isArray(e))throw new Error("Invalid arguments");const s=e;if(t.nonceInfo)t.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(t.lastValidBlockHeight=a.lastValidBlockHeight,t.recentBlockhash=a.blockhash,t.sign(...s),!t.signature)throw new Error("!signature");const c=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=t.serialize();return await this.sendRawTransaction(i,n)}async sendRawTransaction(t,e){const n=Er(t).toString("base64");return await this.sendEncodedTransaction(n,e)}async sendEncodedTransaction(t,e){const n={encoding:"base64"},s=e&&e.skipPreflight,i=s===!0?"processed":e&&e.preflightCommitment||this.commitment;e&&e.maxRetries!=null&&(n.maxRetries=e.maxRetries),e&&e.minContextSlot!=null&&(n.minContextSlot=e.minContextSlot),s&&(n.skipPreflight=s),i&&(n.preflightCommitment=i);const o=[t,n],a=await this._rpcRequest("sendTransaction",o),c=V(a,Mg);if("error"in c){let g;throw"data"in c.error&&(g=c.error.data.logs),new Ka({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:g})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([e,n])=>{this._setSubscription(e,{...n,state:"pending"})})}_setSubscription(t,e){const n=this._subscriptionsByHash[t]?.state;if(this._subscriptionsByHash[t]=e,n!==e.state){const s=this._subscriptionStateChangeCallbacksByHash[t];s&&s.forEach(i=>{try{i(e.state)}catch{}})}}_onSubscriptionStateChange(t,e){const n=this._subscriptionHashByClientSubscriptionId[t];if(n==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return s.add(e),()=>{s.delete(e),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,e=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{const s=this._subscriptionsByHash[n];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[n],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(n,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(n,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!e())return;this._setSubscription(n,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(n,{...s,state:"unsubscribing"}),this._setSubscription(n,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!e())return;this._setSubscription(n,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,e){const n=this._subscriptionCallbacksByServerSubscriptionId[t];n!==void 0&&n.forEach(s=>{try{s(...e)}catch(i){console.error(i)}})}_wsOnAccountNotification(t){const{result:e,subscription:n}=V(t,K0);this._handleServerNotification(n,[e.value,e.context])}_makeSubscription(t,e){const n=this._nextClientSubscriptionId++,s=Ha([t.method,e]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...t,args:e,callbacks:new Set([t.callback]),state:"pending"}:i.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[n]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const o=this._subscriptionsByHash[s];Kt(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),o.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(t,e,n){const{commitment:s,config:i}=Ut(n),o=this._buildArgs([t.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:e,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:e,subscription:n}=V(t,H0);this._handleServerNotification(n,[{accountId:e.value.pubkey,accountInfo:e.value.account},e.context])}onProgramAccountChange(t,e,n,s){const{commitment:i,config:o}=Ut(n),a=this._buildArgs([t.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:Va(s)}:void 0));return this._makeSubscription({callback:e,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,e,n){const s=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],n||this._commitment||"finalized");return this._makeSubscription({callback:e,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:e,subscription:n}=V(t,Sg);this._handleServerNotification(n,[e.value,e.context])}_wsOnSlotNotification(t){const{result:e,subscription:n}=V(t,Y0);this._handleServerNotification(n,[e])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:e,subscription:n}=V(t,Z0);this._handleServerNotification(n,[e])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,e){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${e}' events could not be found.`)}_buildArgs(t,e,n,s){const i=e||this._commitment;if(i||n||s){let o={};n&&(o.encoding=n),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),t.push(o)}return t}_buildArgsAtLeastConfirmed(t,e,n,s){const i=e||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,e,n,s)}_wsOnSignatureNotification(t){const{result:e,subscription:n}=V(t,Q0);e.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,e.value==="receivedSignature"?[{type:"received"},e.context]:[{type:"status",result:e.value},e.context])}onSignature(t,e,n){const s=this._buildArgs([t],n||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){e(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(t,e,n){const{commitment:s,...i}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},o=this._buildArgs([t],s,void 0,i),a=this._makeSubscription({callback:(c,g)=>{e(c,g);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:e,subscription:n}=V(t,J0);this._handleServerNotification(n,[e])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:it([ct("instruction"),Sr("recentSlot"),Lt("bumpSeed")])},FreezeLookupTable:{index:1,layout:it([ct("instruction")])},ExtendLookupTable:{index:2,layout:it([ct("instruction"),Sr(),De(xt(),Vn(ct(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:it([ct("instruction")])},CloseLookupTable:{index:4,layout:it([ct("instruction")])}});new at("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:it([Lt("instruction"),ct("units"),ct("additionalFee")])},RequestHeapFrame:{index:1,layout:it([Lt("instruction"),ct("bytes")])},SetComputeUnitLimit:{index:2,layout:it([Lt("instruction"),ct("units")])},SetComputeUnitPrice:{index:3,layout:it([Lt("instruction"),Sr("microLamports")])}});new at("ComputeBudget111111111111111111111111111111");it([Lt("numSignatures"),Lt("padding"),Ze("signatureOffset"),Ze("signatureInstructionIndex"),Ze("publicKeyOffset"),Ze("publicKeyInstructionIndex"),Ze("messageDataOffset"),Ze("messageDataSize"),Ze("messageInstructionIndex")]);new at("Ed25519SigVerify111111111111111111111111111");ea.utils.isValidPrivateKey;ea.getPublicKey;it([Lt("numSignatures"),Ze("signatureOffset"),Lt("signatureInstructionIndex"),Ze("ethAddressOffset"),Lt("ethAddressInstructionIndex"),Ze("messageDataOffset"),Ze("messageDataSize"),Lt("messageInstructionIndex"),Wt(20,"ethAddress"),Wt(64,"signature"),Lt("recoveryId")]);new at("KeccakSecp256k11111111111111111111111111111");var Ou;new at("StakeConfig11111111111111111111111111111111");class ju{constructor(t,e,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=n}}Ou=ju;ju.default=new Ou(0,0,at.default);Object.freeze({Initialize:{index:0,layout:it([ct("instruction"),Ud(),zd()])},Authorize:{index:1,layout:it([ct("instruction"),xt("newAuthorized"),ct("stakeAuthorizationType")])},Delegate:{index:2,layout:it([ct("instruction")])},Split:{index:3,layout:it([ct("instruction"),$e("lamports")])},Withdraw:{index:4,layout:it([ct("instruction"),$e("lamports")])},Deactivate:{index:5,layout:it([ct("instruction")])},Merge:{index:7,layout:it([ct("instruction")])},AuthorizeWithSeed:{index:8,layout:it([ct("instruction"),xt("newAuthorized"),ct("stakeAuthorizationType"),hr("authoritySeed"),xt("authorityOwner")])}});new at("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:it([ct("instruction"),Pd()])},Authorize:{index:1,layout:it([ct("instruction"),xt("newAuthorized"),ct("voteAuthorizationType")])},Withdraw:{index:3,layout:it([ct("instruction"),$e("lamports")])},UpdateValidatorIdentity:{index:4,layout:it([ct("instruction")])},AuthorizeWithSeed:{index:10,layout:it([ct("instruction"),Fd()])}});new at("Vote111111111111111111111111111111111111111");new at("Va1idator1nfo111111111111111111111111111111");q({name:G(),website:lt(G()),details:lt(G()),iconUrl:lt(G()),keybaseUsername:lt(G())});new at("Vote111111111111111111111111111111111111111");it([xt("nodePubkey"),xt("authorizedWithdrawer"),Lt("commission"),_e(),De(it([_e("slot"),ct("confirmationCount")]),Vn(ct(),-8),"votes"),Lt("rootSlotValid"),_e("rootSlot"),_e(),De(it([_e("epoch"),xt("authorizedVoter")]),Vn(ct(),-8),"authorizedVoters"),it([De(it([xt("authorizedPubkey"),_e("epochOfLastAuthorizedSwitch"),_e("targetEpoch")]),32,"buf"),_e("idx"),Lt("isEmpty")],"priorVoters"),_e(),De(it([_e("epoch"),_e("credits"),_e("prevCredits")]),Vn(ct(),-8),"epochCredits"),it([_e("slot"),_e("timestamp")],"lastTimestamp")]);const Xa={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Em(r,t){const e="https";if(!r)return Xa[e].devnet;const n=Xa[e][r];if(!n)throw new Error(`Unknown ${e} cluster: ${r}`);return n}const Uu=Q.createContext({});function _g(){return Q.useContext(Uu)}const Sm=({children:r,endpoint:t,config:e={commitment:"confirmed"}})=>{const n=Q.useMemo(()=>new Ig(t,e),[t,e]);return H.createElement(Uu.Provider,{value:{connection:n}},r)};var zu={exports:{}};(function(r){var t=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function s(c,g,p){this.fn=c,this.context=g,this.once=p||!1}function i(c,g,p,y,I){if(typeof p!="function")throw new TypeError("The listener must be a function");var M=new s(p,y||c,I),L=e?e+g:g;return c._events[L]?c._events[L].fn?c._events[L]=[c._events[L],M]:c._events[L].push(M):(c._events[L]=M,c._eventsCount++),c}function o(c,g){--c._eventsCount===0?c._events=new n:delete c._events[g]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var g=[],p,y;if(this._eventsCount===0)return g;for(y in p=this._events)t.call(p,y)&&g.push(e?y.slice(1):y);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(p)):g},a.prototype.listeners=function(g){var p=e?e+g:g,y=this._events[p];if(!y)return[];if(y.fn)return[y.fn];for(var I=0,M=y.length,L=new Array(M);I<M;I++)L[I]=y[I].fn;return L},a.prototype.listenerCount=function(g){var p=e?e+g:g,y=this._events[p];return y?y.fn?1:y.length:0},a.prototype.emit=function(g,p,y,I,M,L){var B=e?e+g:g;if(!this._events[B])return!1;var v=this._events[B],k=arguments.length,C,_;if(v.fn){switch(v.once&&this.removeListener(g,v.fn,void 0,!0),k){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,p),!0;case 3:return v.fn.call(v.context,p,y),!0;case 4:return v.fn.call(v.context,p,y,I),!0;case 5:return v.fn.call(v.context,p,y,I,M),!0;case 6:return v.fn.call(v.context,p,y,I,M,L),!0}for(_=1,C=new Array(k-1);_<k;_++)C[_-1]=arguments[_];v.fn.apply(v.context,C)}else{var O=v.length,P;for(_=0;_<O;_++)switch(v[_].once&&this.removeListener(g,v[_].fn,void 0,!0),k){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,p);break;case 3:v[_].fn.call(v[_].context,p,y);break;case 4:v[_].fn.call(v[_].context,p,y,I);break;default:if(!C)for(P=1,C=new Array(k-1);P<k;P++)C[P-1]=arguments[P];v[_].fn.apply(v[_].context,C)}}return!0},a.prototype.on=function(g,p,y){return i(this,g,p,y,!1)},a.prototype.once=function(g,p,y){return i(this,g,p,y,!0)},a.prototype.removeListener=function(g,p,y,I){var M=e?e+g:g;if(!this._events[M])return this;if(!p)return o(this,M),this;var L=this._events[M];if(L.fn)L.fn===p&&(!I||L.once)&&(!y||L.context===y)&&o(this,M);else{for(var B=0,v=[],k=L.length;B<k;B++)(L[B].fn!==p||I&&!L[B].once||y&&L[B].context!==y)&&v.push(L[B]);v.length?this._events[M]=v.length===1?v[0]:v:o(this,M)}return this},a.prototype.removeAllListeners=function(g){var p;return g?(p=e?e+g:g,this._events[p]&&o(this,p)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=e,a.EventEmitter=a,r.exports=a})(zu);var Ag=zu.exports;const Bg=Xn(Ag);class Se extends Error{constructor(t,e){super(t),this.error=e}}class jn extends Se{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class Lg extends Se{constructor(){super(...arguments),this.name="WalletLoadError"}}class dr extends Se{constructor(){super(...arguments),this.name="WalletConfigError"}}class Rn extends Se{constructor(){super(...arguments),this.name="WalletConnectionError"}}class Gi extends Se{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class ca extends Se{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class $n extends Se{constructor(){super(...arguments),this.name="WalletAccountError"}}class xr extends Se{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class Jt extends Se{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class vn extends Se{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class nn extends Se{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class Yi extends Se{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class tc extends Se{constructor(){super(...arguments),this.name="WalletSignInError"}}var yt;(function(r){r.Installed="Installed",r.NotDetected="NotDetected",r.Loadable="Loadable",r.Unsupported="Unsupported"})(yt||(yt={}));class Pu extends Bg{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(t,e,n={}){const s=this.publicKey;if(!s)throw new Jt;return t.feePayer=t.feePayer||s,t.recentBlockhash=t.recentBlockhash||(await e.getLatestBlockhash({commitment:n.preflightCommitment,minContextSlot:n.minContextSlot})).blockhash,t}}function Fu(r){if(typeof window>"u"||typeof document>"u")return;const t=[];function e(){if(r())for(const i of t)i()}const n=setInterval(e,1e3);t.push(()=>clearInterval(n)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",e,{once:!0}),t.push(()=>document.removeEventListener("DOMContentLoaded",e))),document.readyState!=="complete"&&(window.addEventListener("load",e,{once:!0}),t.push(()=>window.removeEventListener("load",e))),e()}function lo(){if(!navigator)return!1;const r=navigator.userAgent.toLowerCase(),t=r.includes("iphone")||r.includes("ipad"),e=r.includes("safari");return t&&e}function Mn(r){return"version"in r}class Tg extends Pu{async sendTransaction(t,e,n={}){let s=!0;try{if(Mn(t)){if(!this.supportedTransactionVersions)throw new vn("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(t.version))throw new vn(`Sending transaction version ${t.version} isn't supported by this wallet`);try{t=await this.signTransaction(t);const i=t.serialize();return await e.sendRawTransaction(i,n)}catch(i){throw i instanceof nn?(s=!1,i):new vn(i?.message,i)}}else try{const{signers:i,...o}=n;t=await this.prepareTransaction(t,e,o),i?.length&&t.partialSign(...i),t=await this.signTransaction(t);const a=t.serialize();return await e.sendRawTransaction(a,o)}catch(i){throw i instanceof nn?(s=!1,i):new vn(i?.message,i)}}catch(i){throw s&&this.emit("error",i),i}}async signAllTransactions(t){for(const n of t)if(Mn(n)){if(!this.supportedTransactionVersions)throw new nn("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(n.version))throw new nn(`Signing transaction version ${n.version} isn't supported by this wallet`)}const e=[];for(const n of t)e.push(await this.signTransaction(n));return e}}class ua extends Tg{}class Ng extends ua{}const bn="solana:signAndSendTransaction",Us="solana:signIn",lr="solana:signMessage",Me="solana:signTransaction",la="standard:connect",fo="standard:disconnect",fa="standard:events";function kg(r){return la in r.features&&fa in r.features&&(bn in r.features||Me in r.features)}class ec extends Se{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const Cg=[],Vi={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){tn("call","select")},connect(){return Promise.reject(tn("call","connect"))},disconnect(){return Promise.reject(tn("call","disconnect"))},sendTransaction(){return Promise.reject(tn("call","sendTransaction"))},signTransaction(){return Promise.reject(tn("call","signTransaction"))},signAllTransactions(){return Promise.reject(tn("call","signAllTransactions"))},signMessage(){return Promise.reject(tn("call","signMessage"))},signIn(){return Promise.reject(tn("call","signIn"))}};Object.defineProperty(Vi,"wallets",{get(){return tn("read","wallets"),Cg}});Object.defineProperty(Vi,"wallet",{get(){return tn("read","wallet"),null}});Object.defineProperty(Vi,"publicKey",{get(){return tn("read","publicKey"),null}});function tn(r,t){const e=new Error(`You have tried to ${r} "${t}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(e),e}const Wu=Q.createContext(Vi);function $u(){return Q.useContext(Wu)}function Rg(r,t){const e=Q.useState(()=>{try{const i=localStorage.getItem(r);if(i)return JSON.parse(i)}catch(i){typeof window<"u"&&console.error(i)}return t}),n=e[0],s=Q.useRef(!0);return Q.useEffect(()=>{if(s.current){s.current=!1;return}try{n===null?localStorage.removeItem(r):localStorage.setItem(r,JSON.stringify(n))}catch(i){typeof window<"u"&&console.error(i)}},[n,r]),e}function zs(r){switch(r){case"processed":case"confirmed":case"finalized":case void 0:return r;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const ho="solana:mainnet",Ku="solana:devnet",qu="solana:testnet",Dg="solana:localnet",Og="https://api.mainnet-beta.solana.com";function jg(r){return r.includes(Og)?ho:/\bdevnet\b/i.test(r)?Ku:/\btestnet\b/i.test(r)?qu:/\blocalhost\b/i.test(r)||/\b127\.0\.0\.1\b/.test(r)?Dg:ho}function Ug(r){let t=`${r.domain} wants you to sign in with your Solana account:
`;t+=`${r.address}`,r.statement&&(t+=`

${r.statement}`);const e=[];if(r.uri&&e.push(`URI: ${r.uri}`),r.version&&e.push(`Version: ${r.version}`),r.chainId&&e.push(`Chain ID: ${r.chainId}`),r.nonce&&e.push(`Nonce: ${r.nonce}`),r.issuedAt&&e.push(`Issued At: ${r.issuedAt}`),r.expirationTime&&e.push(`Expiration Time: ${r.expirationTime}`),r.notBefore&&e.push(`Not Before: ${r.notBefore}`),r.requestId&&e.push(`Request ID: ${r.requestId}`),r.resources){e.push("Resources:");for(const n of r.resources)e.push(`- ${n}`)}return e.length&&(t+=`

${e.join(`
`)}`),t}const xn={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class In extends Error{constructor(...t){const[e,n,s]=t;super(n),this.code=e,this.data=s,this.name="SolanaMobileWalletAdapterError"}}class Hu extends Error{constructor(...t){const[e,n,s,i]=t;super(s),this.code=n,this.data=i,this.jsonRpcMessageId=e,this.name="SolanaMobileWalletAdapterProtocolError"}}function me(r,t,e,n){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function a(p){try{g(n.next(p))}catch(y){o(y)}}function c(p){try{g(n.throw(p))}catch(y){o(y)}}function g(p){p.done?i(p.value):s(p.value).then(a,c)}g((n=n.apply(r,[])).next())})}function Ps(r,t){return me(this,void 0,void 0,function*(){const e=yield crypto.subtle.exportKey("raw",r),n=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},t,e),s=new Uint8Array(e.byteLength+n.byteLength);return s.set(new Uint8Array(e),0),s.set(new Uint8Array(n),e.byteLength),s})}function zg(r){return window.btoa(r)}function Pg(r){return Ug(r)}function Fg(r){return zg(Pg(r))}const Wg="solana:signTransactions",nc="solana:cloneAuthorization";function $g(r,t){return new Proxy({},{get(e,n){return e[n]==null&&(e[n]=function(s){return me(this,void 0,void 0,function*(){const{method:i,params:o}=Kg(n,s,r),a=yield t(i,o);return i==="authorize"&&o.sign_in_payload&&!a.sign_in_result&&(a.sign_in_result=yield Hg(o.sign_in_payload,a,t)),qg(n,a,r)})}),e[n]},defineProperty(){return!1},deleteProperty(){return!1}})}function Kg(r,t,e){let n=t,s=r.toString().replace(/[A-Z]/g,i=>`_${i.toLowerCase()}`).toLowerCase();switch(r){case"authorize":{let{chain:i}=n;if(e==="legacy"){switch(i){case"solana:testnet":{i="testnet";break}case"solana:devnet":{i="devnet";break}case"solana:mainnet":{i="mainnet-beta";break}default:i=n.cluster}n.cluster=i}else{switch(i){case"testnet":case"devnet":{i=`solana:${i}`;break}case"mainnet-beta":{i="solana:mainnet";break}}n.chain=i}}case"reauthorize":{const{auth_token:i,identity:o}=n;if(i)switch(e){case"legacy":{s="reauthorize",n={auth_token:i,identity:o};break}default:{s="authorize";break}}break}}return{method:s,params:n}}function qg(r,t,e){switch(r){case"getCapabilities":{const n=t;switch(e){case"legacy":{const s=[Wg];return n.supports_clone_authorization===!0&&s.push(nc),Object.assign(Object.assign({},n),{features:s})}case"v1":return Object.assign(Object.assign({},n),{supports_sign_and_send_transactions:!0,supports_clone_authorization:n.features.includes(nc)})}}}return t}function Hg(r,t,e){var n;return me(this,void 0,void 0,function*(){const s=(n=r.domain)!==null&&n!==void 0?n:window.location.host,i=t.accounts[0].address,o=Fg(Object.assign(Object.assign({},r),{domain:s,address:i})),a=yield e("sign_messages",{addresses:[i],payloads:[o]});return{address:i,signed_message:o,signature:a.signed_payloads[0].slice(o.length)}})}const Kn=4;function Gg(r){if(r>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const t=new ArrayBuffer(Kn);return new DataView(t).setUint32(0,r,!1),new Uint8Array(t)}const go=12,Gu=65;function Yg(r,t,e){return me(this,void 0,void 0,function*(){const n=Gg(t),s=new Uint8Array(go);crypto.getRandomValues(s);const i=yield crypto.subtle.encrypt(Vu(n,s),e,new TextEncoder().encode(r)),o=new Uint8Array(n.byteLength+s.byteLength+i.byteLength);return o.set(new Uint8Array(n),0),o.set(new Uint8Array(s),n.byteLength),o.set(new Uint8Array(i),n.byteLength+s.byteLength),o})}function Yu(r,t){return me(this,void 0,void 0,function*(){const e=r.slice(0,Kn),n=r.slice(Kn,Kn+go),s=r.slice(Kn+go),i=yield crypto.subtle.decrypt(Vu(e,n),t,s);return Vg().decode(i)})}function Vu(r,t){return{additionalData:r,iv:t,name:"AES-GCM",tagLength:128}}let Fs;function Vg(){return Fs===void 0&&(Fs=new TextDecoder("utf-8")),Fs}function Zg(){return me(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function Ws(){return me(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function Qg(r,t){return me(this,void 0,void 0,function*(){const e=JSON.stringify(r),n=r.id;return Yg(e,n,t)})}function Jg(r,t){return me(this,void 0,void 0,function*(){const e=yield Yu(r,t),n=JSON.parse(e);if(Object.hasOwnProperty.call(n,"error"))throw new Hu(n.id,n.error.code,n.error.message);return n})}function Xg(r,t,e){return me(this,void 0,void 0,function*(){const[n,s]=yield Promise.all([crypto.subtle.exportKey("raw",t),crypto.subtle.importKey("raw",r.slice(0,Gu),{name:"ECDH",namedCurve:"P-256"},!1,[])]),i=yield crypto.subtle.deriveBits({name:"ECDH",public:s},e,256),o=yield crypto.subtle.importKey("raw",i,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(n),info:new Uint8Array},o,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function tp(r,t){return me(this,void 0,void 0,function*(){const e=yield Yu(r,t),n=JSON.parse(e);let s="legacy";if(Object.hasOwnProperty.call(n,"v"))switch(n.v){case 1:case"1":case"v1":s="v1";break;case"legacy":s="legacy";break;default:throw new In(xn.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${n.v}`)}return{protocol_version:s}})}function ep(){return Zu(49152+Math.floor(Math.random()*16384))}function Zu(r){if(r<49152||r>65535)throw new In(xn.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${r} given.`,{port:r});return r}function np(r){let t="";const e=new Uint8Array(r),n=e.byteLength;for(let s=0;s<n;s++)t+=String.fromCharCode(e[s]);return window.btoa(t)}function rp(r){return r.replace(/[/+=]/g,t=>({"/":"_","+":"-","=":"."})[t])}const ip="solana-wallet";function rc(r){return r.replace(/(^\/+|\/+$)/g,"").split("/")}function sp(r,t){let e=null;if(t){try{e=new URL(t)}catch{}if(e?.protocol!=="https:")throw new In(xn.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}e||(e=new URL(`${ip}:/`));const n=r.startsWith("/")?r:[...rc(e.pathname),...rc(r)].join("/");return new URL(n,e)}function op(r,t,e,n=["v1"]){return me(this,void 0,void 0,function*(){const s=Zu(t),i=yield crypto.subtle.exportKey("raw",r),o=np(i),a=sp("v1/associate/local",e);return a.searchParams.set("association",rp(o)),a.searchParams.set("port",`${s}`),n.forEach(c=>{a.searchParams.set("v",c)}),a})}const Bi={Firefox:0,Other:1};function ap(){return navigator.userAgent.indexOf("Firefox/")!==-1?Bi.Firefox:Bi.Other}function cp(){return new Promise((r,t)=>{function e(){clearTimeout(s),window.removeEventListener("blur",n)}function n(){e(),r()}window.addEventListener("blur",n);const s=setTimeout(()=>{e(),t()},2e3)})}let Dr=null;function up(r){Dr==null&&(Dr=document.createElement("iframe"),Dr.style.display="none",document.body.appendChild(Dr)),Dr.contentWindow.location.href=r.toString()}function lp(r){return me(this,void 0,void 0,function*(){if(r.protocol==="https:")window.location.assign(r);else try{const t=ap();switch(t){case Bi.Firefox:up(r);break;case Bi.Other:{const e=cp();window.location.assign(r),yield e;break}default:}}catch{throw new In(xn.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function fp(r,t){return me(this,void 0,void 0,function*(){const e=ep(),n=yield op(r,e,t);return yield lp(n),e})}const ic={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},hp="com.solana.mobilewalletadapter.v1";function dp(){if(typeof window>"u"||window.isSecureContext!==!0)throw new In(xn.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function gp(r){let t;try{t=new URL(r)}catch{throw new In(xn.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(t.protocol!=="https:")throw new In(xn.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function sc(r){return new DataView(r).getUint32(0,!1)}function pp(r,t){return me(this,void 0,void 0,function*(){dp();const e=yield Zg(),s=`ws://localhost:${yield fp(e.publicKey,t?.baseUri)}/solana-wallet`;let i;const o=(()=>{const p=[...ic.retryDelayScheduleMs];return()=>p.length>1?p.shift():p[0]})();let a=1,c=0,g={__type:"disconnected"};return new Promise((p,y)=>{let I;const M={},L=()=>me(this,void 0,void 0,function*(){if(g.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${g.__type}\`.`);return}I.removeEventListener("open",L);const{associationKeypair:P}=g,z=yield Ws();I.send(yield Ps(z.publicKey,P.privateKey)),g={__type:"hello_req_sent",associationPublicKey:P.publicKey,ecdhPrivateKey:z.privateKey}}),B=P=>{P.wasClean?g={__type:"disconnected"}:y(new In(xn.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${P.code}: ${P.reason}).`,{closeEvent:P})),C()},v=P=>me(this,void 0,void 0,function*(){C(),Date.now()-i>=ic.timeoutMs?y(new In(xn.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${s}.`)):(yield new Promise(z=>{const $=o();_=window.setTimeout(z,$)}),O())}),k=P=>me(this,void 0,void 0,function*(){const z=yield P.data.arrayBuffer();switch(g.__type){case"connecting":if(z.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const $=yield Ws();I.send(yield Ps($.publicKey,e.privateKey)),g={__type:"hello_req_sent",associationPublicKey:e.publicKey,ecdhPrivateKey:$.privateKey};break;case"connected":try{const K=z.slice(0,Kn),J=sc(K);if(J!==c+1)throw new Error("Encrypted message has invalid sequence number");c=J;const ht=yield Jg(z,g.sharedSecret),nt=M[ht.id];delete M[ht.id],nt.resolve(ht.result)}catch(K){if(K instanceof Hu){const J=M[K.jsonRpcMessageId];delete M[K.jsonRpcMessageId],J.reject(K)}else throw K}break;case"hello_req_sent":{if(z.byteLength===0){const rt=yield Ws();I.send(yield Ps(rt.publicKey,e.privateKey)),g={__type:"hello_req_sent",associationPublicKey:e.publicKey,ecdhPrivateKey:rt.privateKey};break}const K=yield Xg(z,g.associationPublicKey,g.ecdhPrivateKey),J=z.slice(Gu),ht=J.byteLength!==0?yield me(this,void 0,void 0,function*(){const rt=J.slice(0,Kn),T=sc(rt);if(T!==c+1)throw new Error("Encrypted message has invalid sequence number");return c=T,tp(J,K)}):{protocol_version:"legacy"};g={__type:"connected",sharedSecret:K,sessionProperties:ht};const nt=$g(ht.protocol_version,(rt,T)=>me(this,void 0,void 0,function*(){const u=a++;return I.send(yield Qg({id:u,jsonrpc:"2.0",method:rt,params:T??{}},K)),new Promise((d,w)=>{M[u]={resolve(m){switch(rt){case"authorize":case"reauthorize":{const{wallet_uri_base:E}=m;if(E!=null)try{gp(E)}catch(N){w(N);return}break}}d(m)},reject:w}})}));try{p(yield r(nt))}catch(rt){y(rt)}finally{C(),I.close()}break}}});let C,_;const O=()=>{C&&C(),g={__type:"connecting",associationKeypair:e},i===void 0&&(i=Date.now()),I=new WebSocket(s,[hp]),I.addEventListener("open",L),I.addEventListener("close",B),I.addEventListener("error",v),I.addEventListener("message",k),C=()=>{window.clearTimeout(_),I.removeEventListener("open",L),I.removeEventListener("close",B),I.removeEventListener("error",v),I.removeEventListener("message",k)}};O()})})}function wp(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=n}var o=r.length,a=r.charAt(0),c=Math.log(o)/Math.log(256),g=Math.log(256)/Math.log(o);function p(M){if(M instanceof Uint8Array||(ArrayBuffer.isView(M)?M=new Uint8Array(M.buffer,M.byteOffset,M.byteLength):Array.isArray(M)&&(M=Uint8Array.from(M))),!(M instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(M.length===0)return"";for(var L=0,B=0,v=0,k=M.length;v!==k&&M[v]===0;)v++,L++;for(var C=(k-v)*g+1>>>0,_=new Uint8Array(C);v!==k;){for(var O=M[v],P=0,z=C-1;(O!==0||P<B)&&z!==-1;z--,P++)O+=256*_[z]>>>0,_[z]=O%o>>>0,O=O/o>>>0;if(O!==0)throw new Error("Non-zero carry");B=P,v++}for(var $=C-B;$!==C&&_[$]===0;)$++;for(var K=a.repeat(L);$<C;++$)K+=r.charAt(_[$]);return K}function y(M){if(typeof M!="string")throw new TypeError("Expected String");if(M.length===0)return new Uint8Array;for(var L=0,B=0,v=0;M[L]===a;)B++,L++;for(var k=(M.length-L)*c+1>>>0,C=new Uint8Array(k);M[L];){var _=t[M.charCodeAt(L)];if(_===255)return;for(var O=0,P=k-1;(_!==0||O<v)&&P!==-1;P--,O++)_+=o*C[P]>>>0,C[P]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");v=O,L++}for(var z=k-v;z!==k&&C[z]===0;)z++;for(var $=new Uint8Array(B+(k-z)),K=B;z!==k;)$[K++]=C[z++];return $}function I(M){var L=y(M);if(L)return L;throw new Error("Non-base"+o+" character")}return{encode:p,decodeUnsafe:y,decode:I}}var mp=wp;const yp=mp,bp="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var vp=yp(bp);const Mp=Xn(vp);function $s(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(e[n[s]]=r[n[s]]);return e}function ai(r,t,e,n){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function a(p){try{g(n.next(p))}catch(y){o(y)}}function c(p){try{g(n.throw(p))}catch(y){o(y)}}function g(p){p.done?i(p.value):s(p.value).then(a,c)}g((n=n.apply(r,[])).next())})}function Qu(r){return window.btoa(String.fromCharCode.call(null,...r))}function Ks(r){return new Uint8Array(window.atob(r).split("").map(t=>t.charCodeAt(0)))}function oc(r){const t="version"in r?r.serialize():r.serialize({requireAllSignatures:!1,verifySignatures:!1});return Qu(t)}function Ep(r){const e=r[0]*Kr+1;return ra.deserializeMessageVersion(r.slice(e,r.length))==="legacy"?en.from(r):Hr.deserialize(r)}function Sp(r,t){return ai(this,void 0,void 0,function*(){return yield pp(n=>{const s=new Proxy({},{get(i,o){if(i[o]==null)switch(o){case"signAndSendTransactions":i[o]=function(a){var{minContextSlot:c,commitment:g,skipPreflight:p,maxRetries:y,waitForCommitmentToSendNextTransaction:I,transactions:M}=a,L=$s(a,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return ai(this,void 0,void 0,function*(){const B=M.map(oc),v={min_context_slot:c,commitment:g,skip_preflight:p,max_retries:y,wait_for_commitment_to_send_next_transaction:I},{signatures:k}=yield n.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},L),Object.values(v).some(_=>_!=null)?{options:v}:null),{payloads:B}));return k.map(Ks).map(Mp.encode)})};break;case"signMessages":i[o]=function(a){var{payloads:c}=a,g=$s(a,["payloads"]);return ai(this,void 0,void 0,function*(){const p=c.map(Qu),{signed_payloads:y}=yield n.signMessages(Object.assign(Object.assign({},g),{payloads:p}));return y.map(Ks)})};break;case"signTransactions":i[o]=function(a){var{transactions:c}=a,g=$s(a,["transactions"]);return ai(this,void 0,void 0,function*(){const p=c.map(oc),{signed_payloads:y}=yield n.signTransactions(Object.assign(Object.assign({},g),{payloads:p}));return y.map(Ks).map(Ep)})};break;default:{i[o]=n[o];break}}return i[o]},defineProperty(){return!1},deleteProperty(){return!1}});return r(s)},t)})}var xp=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Ju={},Ye={};let ha;const Ip=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Ye.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Ye.getSymbolTotalCodewords=function(t){return Ip[t]};Ye.getBCHDigit=function(r){let t=0;for(;r!==0;)t++,r>>>=1;return t};Ye.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');ha=t};Ye.isKanjiModeEnabled=function(){return typeof ha<"u"};Ye.toSJIS=function(t){return ha(t)};var Zi={};(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function t(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+e)}}r.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},r.from=function(n,s){if(r.isValid(n))return n;try{return t(n)}catch{return s}}})(Zi);function Xu(){this.buffer=[],this.length=0}Xu.prototype={get:function(r){const t=Math.floor(r/8);return(this.buffer[t]>>>7-r%8&1)===1},put:function(r,t){for(let e=0;e<t;e++)this.putBit((r>>>t-e-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(r){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),r&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var _p=Xu;function ti(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=new Uint8Array(r*r),this.reservedBit=new Uint8Array(r*r)}ti.prototype.set=function(r,t,e,n){const s=r*this.size+t;this.data[s]=e,n&&(this.reservedBit[s]=!0)};ti.prototype.get=function(r,t){return this.data[r*this.size+t]};ti.prototype.xor=function(r,t,e){this.data[r*this.size+t]^=e};ti.prototype.isReserved=function(r,t){return this.reservedBit[r*this.size+t]};var Ap=ti,tl={};(function(r){const t=Ye.getSymbolSize;r.getRowColCoords=function(n){if(n===1)return[];const s=Math.floor(n/7)+2,i=t(n),o=i===145?26:Math.ceil((i-13)/(2*s-2))*2,a=[i-7];for(let c=1;c<s-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},r.getPositions=function(n){const s=[],i=r.getRowColCoords(n),o=i.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||s.push([i[a],i[c]]);return s}})(tl);var el={};const Bp=Ye.getSymbolSize,ac=7;el.getPositions=function(t){const e=Bp(t);return[[0,0],[e-ac,0],[0,e-ac]]};var nl={};(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};r.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},r.from=function(s){return r.isValid(s)?parseInt(s,10):void 0},r.getPenaltyN1=function(s){const i=s.size;let o=0,a=0,c=0,g=null,p=null;for(let y=0;y<i;y++){a=c=0,g=p=null;for(let I=0;I<i;I++){let M=s.get(y,I);M===g?a++:(a>=5&&(o+=t.N1+(a-5)),g=M,a=1),M=s.get(I,y),M===p?c++:(c>=5&&(o+=t.N1+(c-5)),p=M,c=1)}a>=5&&(o+=t.N1+(a-5)),c>=5&&(o+=t.N1+(c-5))}return o},r.getPenaltyN2=function(s){const i=s.size;let o=0;for(let a=0;a<i-1;a++)for(let c=0;c<i-1;c++){const g=s.get(a,c)+s.get(a,c+1)+s.get(a+1,c)+s.get(a+1,c+1);(g===4||g===0)&&o++}return o*t.N2},r.getPenaltyN3=function(s){const i=s.size;let o=0,a=0,c=0;for(let g=0;g<i;g++){a=c=0;for(let p=0;p<i;p++)a=a<<1&2047|s.get(g,p),p>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|s.get(p,g),p>=10&&(c===1488||c===93)&&o++}return o*t.N3},r.getPenaltyN4=function(s){let i=0;const o=s.data.length;for(let c=0;c<o;c++)i+=s.data[c];return Math.abs(Math.ceil(i*100/o/5)-10)*t.N4};function e(n,s,i){switch(n){case r.Patterns.PATTERN000:return(s+i)%2===0;case r.Patterns.PATTERN001:return s%2===0;case r.Patterns.PATTERN010:return i%3===0;case r.Patterns.PATTERN011:return(s+i)%3===0;case r.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case r.Patterns.PATTERN101:return s*i%2+s*i%3===0;case r.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case r.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}r.applyMask=function(s,i){const o=i.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)i.isReserved(c,a)||i.xor(c,a,e(s,c,a))},r.getBestMask=function(s,i){const o=Object.keys(r.Patterns).length;let a=0,c=1/0;for(let g=0;g<o;g++){i(g),r.applyMask(g,s);const p=r.getPenaltyN1(s)+r.getPenaltyN2(s)+r.getPenaltyN3(s)+r.getPenaltyN4(s);r.applyMask(g,s),p<c&&(c=p,a=g)}return a}})(nl);var Qi={};const Dn=Zi,ci=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],ui=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Qi.getBlocksCount=function(t,e){switch(e){case Dn.L:return ci[(t-1)*4+0];case Dn.M:return ci[(t-1)*4+1];case Dn.Q:return ci[(t-1)*4+2];case Dn.H:return ci[(t-1)*4+3];default:return}};Qi.getTotalCodewordsCount=function(t,e){switch(e){case Dn.L:return ui[(t-1)*4+0];case Dn.M:return ui[(t-1)*4+1];case Dn.Q:return ui[(t-1)*4+2];case Dn.H:return ui[(t-1)*4+3];default:return}};var rl={},Ji={};const Ur=new Uint8Array(512),Li=new Uint8Array(256);(function(){let t=1;for(let e=0;e<255;e++)Ur[e]=t,Li[t]=e,t<<=1,t&256&&(t^=285);for(let e=255;e<512;e++)Ur[e]=Ur[e-255]})();Ji.log=function(t){if(t<1)throw new Error("log("+t+")");return Li[t]};Ji.exp=function(t){return Ur[t]};Ji.mul=function(t,e){return t===0||e===0?0:Ur[Li[t]+Li[e]]};(function(r){const t=Ji;r.mul=function(n,s){const i=new Uint8Array(n.length+s.length-1);for(let o=0;o<n.length;o++)for(let a=0;a<s.length;a++)i[o+a]^=t.mul(n[o],s[a]);return i},r.mod=function(n,s){let i=new Uint8Array(n);for(;i.length-s.length>=0;){const o=i[0];for(let c=0;c<s.length;c++)i[c]^=t.mul(s[c],o);let a=0;for(;a<i.length&&i[a]===0;)a++;i=i.slice(a)}return i},r.generateECPolynomial=function(n){let s=new Uint8Array([1]);for(let i=0;i<n;i++)s=r.mul(s,new Uint8Array([1,t.exp(i)]));return s}})(rl);const il=rl;function da(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}da.prototype.initialize=function(t){this.degree=t,this.genPoly=il.generateECPolynomial(this.degree)};da.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(t.length+this.degree);e.set(t);const n=il.mod(e,this.genPoly),s=this.degree-n.length;if(s>0){const i=new Uint8Array(this.degree);return i.set(n,s),i}return n};var Lp=da,sl={},Un={},ga={};ga.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var dn={};const ol="[0-9]+",Tp="[A-Z $%*+\\-./:]+";let Yr="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Yr=Yr.replace(/u/g,"\\u");const Np="(?:(?![A-Z0-9 $%*+\\-./:]|"+Yr+`)(?:.|[\r
]))+`;dn.KANJI=new RegExp(Yr,"g");dn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");dn.BYTE=new RegExp(Np,"g");dn.NUMERIC=new RegExp(ol,"g");dn.ALPHANUMERIC=new RegExp(Tp,"g");const kp=new RegExp("^"+Yr+"$"),Cp=new RegExp("^"+ol+"$"),Rp=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");dn.testKanji=function(t){return kp.test(t)};dn.testNumeric=function(t){return Cp.test(t)};dn.testAlphanumeric=function(t){return Rp.test(t)};(function(r){const t=ga,e=dn;r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},r.getBestModeForData=function(i){return e.testNumeric(i)?r.NUMERIC:e.testAlphanumeric(i)?r.ALPHANUMERIC:e.testKanji(i)?r.KANJI:r.BYTE},r.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},r.isValid=function(i){return i&&i.bit&&i.ccBits};function n(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+s)}}r.from=function(i,o){if(r.isValid(i))return i;try{return n(i)}catch{return o}}})(Un);(function(r){const t=Ye,e=Qi,n=Zi,s=Un,i=ga,o=7973,a=t.getBCHDigit(o);function c(I,M,L){for(let B=1;B<=40;B++)if(M<=r.getCapacity(B,L,I))return B}function g(I,M){return s.getCharCountIndicator(I,M)+4}function p(I,M){let L=0;return I.forEach(function(B){const v=g(B.mode,M);L+=v+B.getBitsLength()}),L}function y(I,M){for(let L=1;L<=40;L++)if(p(I,L)<=r.getCapacity(L,M,s.MIXED))return L}r.from=function(M,L){return i.isValid(M)?parseInt(M,10):L},r.getCapacity=function(M,L,B){if(!i.isValid(M))throw new Error("Invalid QR Code version");typeof B>"u"&&(B=s.BYTE);const v=t.getSymbolTotalCodewords(M),k=e.getTotalCodewordsCount(M,L),C=(v-k)*8;if(B===s.MIXED)return C;const _=C-g(B,M);switch(B){case s.NUMERIC:return Math.floor(_/10*3);case s.ALPHANUMERIC:return Math.floor(_/11*2);case s.KANJI:return Math.floor(_/13);case s.BYTE:default:return Math.floor(_/8)}},r.getBestVersionForData=function(M,L){let B;const v=n.from(L,n.M);if(Array.isArray(M)){if(M.length>1)return y(M,v);if(M.length===0)return 1;B=M[0]}else B=M;return c(B.mode,B.getLength(),v)},r.getEncodedBits=function(M){if(!i.isValid(M)||M<7)throw new Error("Invalid QR Code version");let L=M<<12;for(;t.getBCHDigit(L)-a>=0;)L^=o<<t.getBCHDigit(L)-a;return M<<12|L}})(sl);var al={};const po=Ye,cl=1335,Dp=21522,cc=po.getBCHDigit(cl);al.getEncodedBits=function(t,e){const n=t.bit<<3|e;let s=n<<10;for(;po.getBCHDigit(s)-cc>=0;)s^=cl<<po.getBCHDigit(s)-cc;return(n<<10|s)^Dp};var ul={};const Op=Un;function Ir(r){this.mode=Op.NUMERIC,this.data=r.toString()}Ir.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Ir.prototype.getLength=function(){return this.data.length};Ir.prototype.getBitsLength=function(){return Ir.getBitsLength(this.data.length)};Ir.prototype.write=function(t){let e,n,s;for(e=0;e+3<=this.data.length;e+=3)n=this.data.substr(e,3),s=parseInt(n,10),t.put(s,10);const i=this.data.length-e;i>0&&(n=this.data.substr(e),s=parseInt(n,10),t.put(s,i*3+1))};var jp=Ir;const Up=Un,qs=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function _r(r){this.mode=Up.ALPHANUMERIC,this.data=r}_r.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};_r.prototype.getLength=function(){return this.data.length};_r.prototype.getBitsLength=function(){return _r.getBitsLength(this.data.length)};_r.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){let n=qs.indexOf(this.data[e])*45;n+=qs.indexOf(this.data[e+1]),t.put(n,11)}this.data.length%2&&t.put(qs.indexOf(this.data[e]),6)};var zp=_r;const Pp=Un;function Ar(r){this.mode=Pp.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}Ar.getBitsLength=function(t){return t*8};Ar.prototype.getLength=function(){return this.data.length};Ar.prototype.getBitsLength=function(){return Ar.getBitsLength(this.data.length)};Ar.prototype.write=function(r){for(let t=0,e=this.data.length;t<e;t++)r.put(this.data[t],8)};var Fp=Ar;const Wp=Un,$p=Ye;function Br(r){this.mode=Wp.KANJI,this.data=r}Br.getBitsLength=function(t){return t*13};Br.prototype.getLength=function(){return this.data.length};Br.prototype.getBitsLength=function(){return Br.getBitsLength(this.data.length)};Br.prototype.write=function(r){let t;for(t=0;t<this.data.length;t++){let e=$p.toSJIS(this.data[t]);if(e>=33088&&e<=40956)e-=33088;else if(e>=57408&&e<=60351)e-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);e=(e>>>8&255)*192+(e&255),r.put(e,13)}};var Kp=Br,ll={exports:{}};(function(r){var t={single_source_shortest_paths:function(e,n,s){var i={},o={};o[n]=0;var a=t.PriorityQueue.make();a.push(n,0);for(var c,g,p,y,I,M,L,B,v;!a.empty();){c=a.pop(),g=c.value,y=c.cost,I=e[g]||{};for(p in I)I.hasOwnProperty(p)&&(M=I[p],L=y+M,B=o[p],v=typeof o[p]>"u",(v||B>L)&&(o[p]=L,a.push(p,L),i[p]=g))}if(typeof s<"u"&&typeof o[s]>"u"){var k=["Could not find a path from ",n," to ",s,"."].join("");throw new Error(k)}return i},extract_shortest_path_from_predecessor_list:function(e,n){for(var s=[],i=n;i;)s.push(i),e[i],i=e[i];return s.reverse(),s},find_path:function(e,n,s){var i=t.single_source_shortest_paths(e,n,s);return t.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(e){var n=t.PriorityQueue,s={},i;e=e||{};for(i in n)n.hasOwnProperty(i)&&(s[i]=n[i]);return s.queue=[],s.sorter=e.sorter||n.default_sorter,s},default_sorter:function(e,n){return e.cost-n.cost},push:function(e,n){var s={value:e,cost:n};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=t})(ll);var qp=ll.exports;(function(r){const t=Un,e=jp,n=zp,s=Fp,i=Kp,o=dn,a=Ye,c=qp;function g(k){return unescape(encodeURIComponent(k)).length}function p(k,C,_){const O=[];let P;for(;(P=k.exec(_))!==null;)O.push({data:P[0],index:P.index,mode:C,length:P[0].length});return O}function y(k){const C=p(o.NUMERIC,t.NUMERIC,k),_=p(o.ALPHANUMERIC,t.ALPHANUMERIC,k);let O,P;return a.isKanjiModeEnabled()?(O=p(o.BYTE,t.BYTE,k),P=p(o.KANJI,t.KANJI,k)):(O=p(o.BYTE_KANJI,t.BYTE,k),P=[]),C.concat(_,O,P).sort(function($,K){return $.index-K.index}).map(function($){return{data:$.data,mode:$.mode,length:$.length}})}function I(k,C){switch(C){case t.NUMERIC:return e.getBitsLength(k);case t.ALPHANUMERIC:return n.getBitsLength(k);case t.KANJI:return i.getBitsLength(k);case t.BYTE:return s.getBitsLength(k)}}function M(k){return k.reduce(function(C,_){const O=C.length-1>=0?C[C.length-1]:null;return O&&O.mode===_.mode?(C[C.length-1].data+=_.data,C):(C.push(_),C)},[])}function L(k){const C=[];for(let _=0;_<k.length;_++){const O=k[_];switch(O.mode){case t.NUMERIC:C.push([O,{data:O.data,mode:t.ALPHANUMERIC,length:O.length},{data:O.data,mode:t.BYTE,length:O.length}]);break;case t.ALPHANUMERIC:C.push([O,{data:O.data,mode:t.BYTE,length:O.length}]);break;case t.KANJI:C.push([O,{data:O.data,mode:t.BYTE,length:g(O.data)}]);break;case t.BYTE:C.push([{data:O.data,mode:t.BYTE,length:g(O.data)}])}}return C}function B(k,C){const _={},O={start:{}};let P=["start"];for(let z=0;z<k.length;z++){const $=k[z],K=[];for(let J=0;J<$.length;J++){const ht=$[J],nt=""+z+J;K.push(nt),_[nt]={node:ht,lastCount:0},O[nt]={};for(let rt=0;rt<P.length;rt++){const T=P[rt];_[T]&&_[T].node.mode===ht.mode?(O[T][nt]=I(_[T].lastCount+ht.length,ht.mode)-I(_[T].lastCount,ht.mode),_[T].lastCount+=ht.length):(_[T]&&(_[T].lastCount=ht.length),O[T][nt]=I(ht.length,ht.mode)+4+t.getCharCountIndicator(ht.mode,C))}}P=K}for(let z=0;z<P.length;z++)O[P[z]].end=0;return{map:O,table:_}}function v(k,C){let _;const O=t.getBestModeForData(k);if(_=t.from(C,O),_!==t.BYTE&&_.bit<O.bit)throw new Error('"'+k+'" cannot be encoded with mode '+t.toString(_)+`.
 Suggested mode is: `+t.toString(O));switch(_===t.KANJI&&!a.isKanjiModeEnabled()&&(_=t.BYTE),_){case t.NUMERIC:return new e(k);case t.ALPHANUMERIC:return new n(k);case t.KANJI:return new i(k);case t.BYTE:return new s(k)}}r.fromArray=function(C){return C.reduce(function(_,O){return typeof O=="string"?_.push(v(O,null)):O.data&&_.push(v(O.data,O.mode)),_},[])},r.fromString=function(C,_){const O=y(C,a.isKanjiModeEnabled()),P=L(O),z=B(P,_),$=c.find_path(z.map,"start","end"),K=[];for(let J=1;J<$.length-1;J++)K.push(z.table[$[J]].node);return r.fromArray(M(K))},r.rawSplit=function(C){return r.fromArray(y(C,a.isKanjiModeEnabled()))}})(ul);const Xi=Ye,Hs=Zi,Hp=_p,Gp=Ap,Yp=tl,Vp=el,wo=nl,mo=Qi,Zp=Lp,Ti=sl,Qp=al,Jp=Un,Gs=ul;function Xp(r,t){const e=r.size,n=Vp.getPositions(t);for(let s=0;s<n.length;s++){const i=n[s][0],o=n[s][1];for(let a=-1;a<=7;a++)if(!(i+a<=-1||e<=i+a))for(let c=-1;c<=7;c++)o+c<=-1||e<=o+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?r.set(i+a,o+c,!0,!0):r.set(i+a,o+c,!1,!0))}}function tw(r){const t=r.size;for(let e=8;e<t-8;e++){const n=e%2===0;r.set(e,6,n,!0),r.set(6,e,n,!0)}}function ew(r,t){const e=Yp.getPositions(t);for(let n=0;n<e.length;n++){const s=e[n][0],i=e[n][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?r.set(s+o,i+a,!0,!0):r.set(s+o,i+a,!1,!0)}}function nw(r,t){const e=r.size,n=Ti.getEncodedBits(t);let s,i,o;for(let a=0;a<18;a++)s=Math.floor(a/3),i=a%3+e-8-3,o=(n>>a&1)===1,r.set(s,i,o,!0),r.set(i,s,o,!0)}function Ys(r,t,e){const n=r.size,s=Qp.getEncodedBits(t,e);let i,o;for(i=0;i<15;i++)o=(s>>i&1)===1,i<6?r.set(i,8,o,!0):i<8?r.set(i+1,8,o,!0):r.set(n-15+i,8,o,!0),i<8?r.set(8,n-i-1,o,!0):i<9?r.set(8,15-i-1+1,o,!0):r.set(8,15-i-1,o,!0);r.set(n-8,8,1,!0)}function rw(r,t){const e=r.size;let n=-1,s=e-1,i=7,o=0;for(let a=e-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!r.isReserved(s,a-c)){let g=!1;o<t.length&&(g=(t[o]>>>i&1)===1),r.set(s,a-c,g),i--,i===-1&&(o++,i=7)}if(s+=n,s<0||e<=s){s-=n,n=-n;break}}}function iw(r,t,e){const n=new Hp;e.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),Jp.getCharCountIndicator(c.mode,r)),c.write(n)});const s=Xi.getSymbolTotalCodewords(r),i=mo.getTotalCodewordsCount(r,t),o=(s-i)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const a=(o-n.getLengthInBits())/8;for(let c=0;c<a;c++)n.put(c%2?17:236,8);return sw(n,r,t)}function sw(r,t,e){const n=Xi.getSymbolTotalCodewords(t),s=mo.getTotalCodewordsCount(t,e),i=n-s,o=mo.getBlocksCount(t,e),a=n%o,c=o-a,g=Math.floor(n/o),p=Math.floor(i/o),y=p+1,I=g-p,M=new Zp(I);let L=0;const B=new Array(o),v=new Array(o);let k=0;const C=new Uint8Array(r.buffer);for(let $=0;$<o;$++){const K=$<c?p:y;B[$]=C.slice(L,L+K),v[$]=M.encode(B[$]),L+=K,k=Math.max(k,K)}const _=new Uint8Array(n);let O=0,P,z;for(P=0;P<k;P++)for(z=0;z<o;z++)P<B[z].length&&(_[O++]=B[z][P]);for(P=0;P<I;P++)for(z=0;z<o;z++)_[O++]=v[z][P];return _}function ow(r,t,e,n){let s;if(Array.isArray(r))s=Gs.fromArray(r);else if(typeof r=="string"){let g=t;if(!g){const p=Gs.rawSplit(r);g=Ti.getBestVersionForData(p,e)}s=Gs.fromString(r,g||40)}else throw new Error("Invalid data");const i=Ti.getBestVersionForData(s,e);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=i;else if(t<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const o=iw(t,e,s),a=Xi.getSymbolSize(t),c=new Gp(a);return Xp(c,t),tw(c),ew(c,t),Ys(c,e,0),t>=7&&nw(c,t),rw(c,o),isNaN(n)&&(n=wo.getBestMask(c,Ys.bind(null,c,e))),wo.applyMask(n,c),Ys(c,e,n),{modules:c,version:t,errorCorrectionLevel:e,maskPattern:n,segments:s}}Ju.create=function(t,e){if(typeof t>"u"||t==="")throw new Error("No input text");let n=Hs.M,s,i;return typeof e<"u"&&(n=Hs.from(e.errorCorrectionLevel,Hs.M),s=Ti.from(e.version),i=wo.from(e.maskPattern),e.toSJISFunc&&Xi.setToSJISFunction(e.toSJISFunc)),ow(t,s,n,i)};var fl={},pa={};(function(r){function t(e){if(typeof e=="number"&&(e=e.toString()),typeof e!="string")throw new Error("Color should be defined as hex string");let n=e.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+e);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(i){return[i,i]}))),n.length===6&&n.push("F","F");const s=parseInt(n.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+n.slice(0,6).join("")}}r.getOptions=function(n){n||(n={}),n.color||(n.color={});const s=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,i=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:i,scale:i?4:o,margin:s,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},r.getScale=function(n,s){return s.width&&s.width>=n+s.margin*2?s.width/(n+s.margin*2):s.scale},r.getImageWidth=function(n,s){const i=r.getScale(n,s);return Math.floor((n+s.margin*2)*i)},r.qrToImageData=function(n,s,i){const o=s.modules.size,a=s.modules.data,c=r.getScale(o,i),g=Math.floor((o+i.margin*2)*c),p=i.margin*c,y=[i.color.light,i.color.dark];for(let I=0;I<g;I++)for(let M=0;M<g;M++){let L=(I*g+M)*4,B=i.color.light;if(I>=p&&M>=p&&I<g-p&&M<g-p){const v=Math.floor((I-p)/c),k=Math.floor((M-p)/c);B=y[a[v*o+k]?1:0]}n[L++]=B.r,n[L++]=B.g,n[L++]=B.b,n[L]=B.a}}})(pa);(function(r){const t=pa;function e(s,i,o){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(i,o,a){let c=a,g=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(g=n()),c=t.getOptions(c);const p=t.getImageWidth(i.modules.size,c),y=g.getContext("2d"),I=y.createImageData(p,p);return t.qrToImageData(I.data,i,c),e(y,g,p),y.putImageData(I,0,0),g},r.renderToDataURL=function(i,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const g=r.render(i,o,c),p=c.type||"image/png",y=c.rendererOpts||{};return g.toDataURL(p,y.quality)}})(fl);var hl={};const aw=pa;function uc(r,t){const e=r.a/255,n=t+'="'+r.hex+'"';return e<1?n+" "+t+'-opacity="'+e.toFixed(2).slice(1)+'"':n}function Vs(r,t,e){let n=r+t;return typeof e<"u"&&(n+=" "+e),n}function cw(r,t,e){let n="",s=0,i=!1,o=0;for(let a=0;a<r.length;a++){const c=Math.floor(a%t),g=Math.floor(a/t);!c&&!i&&(i=!0),r[a]?(o++,a>0&&c>0&&r[a-1]||(n+=i?Vs("M",c+e,.5+g+e):Vs("m",s,0),s=0,i=!1),c+1<t&&r[a+1]||(n+=Vs("h",o),o=0)):s++}return n}hl.render=function(t,e,n){const s=aw.getOptions(e),i=t.modules.size,o=t.modules.data,a=i+s.margin*2,c=s.color.light.a?"<path "+uc(s.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",g="<path "+uc(s.color.dark,"stroke")+' d="'+cw(o,i,s.margin)+'"/>',p='viewBox="0 0 '+a+" "+a+'"',I='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+p+' shape-rendering="crispEdges">'+c+g+`</svg>
`;return typeof n=="function"&&n(null,I),I};const uw=xp,yo=Ju,dl=fl,lw=hl;function wa(r,t,e,n,s){const i=[].slice.call(arguments,1),o=i.length,a=typeof i[o-1]=="function";if(!a&&!uw())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(s=e,e=t,t=n=void 0):o===3&&(t.getContext&&typeof s>"u"?(s=n,n=void 0):(s=n,n=e,e=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(e=t,t=n=void 0):o===2&&!t.getContext&&(n=e,e=t,t=void 0),new Promise(function(c,g){try{const p=yo.create(e,n);c(r(p,t,n))}catch(p){g(p)}})}try{const c=yo.create(e,n);s(null,r(c,t,n))}catch(c){s(c)}}yo.create;wa.bind(null,dl.render);wa.bind(null,dl.renderToDataURL);wa.bind(null,function(r,t,e){return lw.render(r,e)});function _t(r,t,e,n){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function a(p){try{g(n.next(p))}catch(y){o(y)}}function c(p){try{g(n.throw(p))}catch(y){o(y)}}function g(p){p.done?i(p.value):s(p.value).then(a,c)}g((n=n.apply(r,[])).next())})}function di(r){return new Uint8Array(window.atob(r).split("").map(t=>t.charCodeAt(0)))}function fw(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}const Nn="Mobile Wallet Adapter",hw=64;function dw(r){const t=di(r);return new at(t)}function lc(r){return"version"in r}function gw(r){switch(r){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet"}}class pw extends Ng{constructor(t){var e;super(),this.supportedTransactionVersions=new Set(["legacy",0]),this.name=Nn,this.url="https://solanamobile.com/wallets",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjI4IiB3aWR0aD0iMjgiIHZpZXdCb3g9Ii0zIDAgMjggMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0RDQjhGRiI+PHBhdGggZD0iTTE3LjQgMTcuNEgxNXYyLjRoMi40di0yLjRabTEuMi05LjZoLTIuNHYyLjRoMi40VjcuOFoiLz48cGF0aCBkPSJNMjEuNiAzVjBoLTIuNHYzaC0zLjZWMGgtMi40djNoLTIuNHY2LjZINC41YTIuMSAyLjEgMCAxIDEgMC00LjJoMi43VjNINC41QTQuNSA0LjUgMCAwIDAgMCA3LjVWMjRoMjEuNnYtNi42aC0yLjR2NC4ySDIuNFYxMS41Yy41LjMgMS4yLjQgMS44LjVoNy41QTYuNiA2LjYgMCAwIDAgMjQgOVYzaC0yLjRabTAgNS43YTQuMiA0LjIgMCAxIDEtOC40IDBWNS40aDguNHYzLjNaIi8+PC9nPjwvc3ZnPg==",this._connecting=!1,this._connectionGeneration=0,this._readyState=fw()?yt.Loadable:yt.Unsupported,this._authorizationResultCache=t.authorizationResultCache,this._addressSelector=t.addressSelector,this._appIdentity=t.appIdentity,this._chain=(e=t.chain)!==null&&e!==void 0?e:gw(t.cluster),this._hostAuthority=t.remoteHostAuthority,this._onWalletNotFound=t.onWalletNotFound,this._readyState!==yt.Unsupported&&this._authorizationResultCache.get().then(n=>{n&&this.declareWalletAsInstalled()})}get publicKey(){if(this._publicKey==null&&this._selectedAddress!=null)try{this._publicKey=dw(this._selectedAddress)}catch(t){throw new xr(t instanceof Error&&t?.message||"Unknown error",t)}return this._publicKey?this._publicKey:null}get connected(){return!!this._authorizationResult}get connecting(){return this._connecting}get readyState(){return this._readyState}declareWalletAsInstalled(){this._readyState!==yt.Installed&&this.emit("readyStateChange",this._readyState=yt.Installed)}runWithGuard(t){return _t(this,void 0,void 0,function*(){try{return yield t()}catch(e){throw this.emit("error",e),e}})}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return _t(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return _t(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>_t(this,void 0,void 0,function*(){if(this._readyState!==yt.Installed&&this._readyState!==yt.Loadable)throw new jn;this._connecting=!0;try{const t=yield this._authorizationResultCache.get();t&&this.handleAuthorizationResult(t)}catch(t){throw new Rn(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))})}connect(){return _t(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>_t(this,void 0,void 0,function*(){if(this._readyState!==yt.Installed&&this._readyState!==yt.Loadable)throw new jn;this._connecting=!0;try{yield this.performAuthorization()}catch(t){throw new Rn(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))})}performAuthorization(t){return _t(this,void 0,void 0,function*(){try{const e=yield this._authorizationResultCache.get();return e?(this.handleAuthorizationResult(e),e):yield this.transact(n=>_t(this,void 0,void 0,function*(){const s=yield n.authorize({chain:this._chain,identity:this._appIdentity,sign_in_payload:t});return Promise.all([this._authorizationResultCache.set(s),this.handleAuthorizationResult(s)]),s}))}catch(e){throw new Rn(e instanceof Error&&e.message||"Unknown error",e)}})}handleAuthorizationResult(t){var e;return _t(this,void 0,void 0,function*(){const n=this._authorizationResult==null||((e=this._authorizationResult)===null||e===void 0?void 0:e.accounts.length)!==t.accounts.length||this._authorizationResult.accounts.some((s,i)=>s.address!==t.accounts[i].address);if(this._authorizationResult=t,this.declareWalletAsInstalled(),n){const s=yield this._addressSelector.select(t.accounts.map(({address:i})=>i));s!==this._selectedAddress&&(this._selectedAddress=s,delete this._publicKey,this.emit("connect",this.publicKey))}})}performReauthorization(t,e){return _t(this,void 0,void 0,function*(){try{const n=yield t.authorize({auth_token:e,identity:this._appIdentity});Promise.all([this._authorizationResultCache.set(n),this.handleAuthorizationResult(n)])}catch(n){throw this.disconnect(),new Gi(n instanceof Error&&n?.message||"Unknown error",n)}})}disconnect(){return _t(this,void 0,void 0,function*(){this._authorizationResultCache.clear(),this._connecting=!1,this._connectionGeneration++,delete this._authorizationResult,delete this._publicKey,delete this._selectedAddress,this.emit("disconnect")})}transact(t){var e;return _t(this,void 0,void 0,function*(){const n=(e=this._authorizationResult)===null||e===void 0?void 0:e.wallet_uri_base,s=n?{baseUri:n}:void 0,i=this._hostAuthority?{remoteHostAuthority:this._hostAuthority}:void 0,o=this._connectionGeneration;try{return yield Sp(t,Object.assign(Object.assign({},s),i))}catch(a){throw this._connectionGeneration!==o&&(yield new Promise(()=>{})),a instanceof Error&&a.name==="SolanaMobileWalletAdapterError"&&a.code==="ERROR_WALLET_NOT_FOUND"&&(yield this._onWalletNotFound(this)),a}})}assertIsAuthorized(){if(!this._authorizationResult||!this._selectedAddress)throw new Jt;return{authToken:this._authorizationResult.auth_token,selectedAddress:this._selectedAddress}}performSignTransactions(t){return _t(this,void 0,void 0,function*(){const{authToken:e}=this.assertIsAuthorized();try{return yield this.transact(n=>_t(this,void 0,void 0,function*(){return yield this.performReauthorization(n,e),yield n.signTransactions({transactions:t})}))}catch(n){throw new nn(n?.message,n)}})}sendTransaction(t,e,n){return _t(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>_t(this,void 0,void 0,function*(){const{authToken:s}=this.assertIsAuthorized(),i=n?.minContextSlot;try{return yield this.transact(o=>_t(this,void 0,void 0,function*(){function a(){let y;switch(e.commitment){case"confirmed":case"finalized":case"processed":y=e.commitment;break;default:y="finalized"}let I;switch(n?.preflightCommitment){case"confirmed":case"finalized":case"processed":I=n.preflightCommitment;break;case void 0:I=y;break;default:I="finalized"}return(I==="finalized"?2:I==="confirmed"?1:0)<(y==="finalized"?2:y==="confirmed"?1:0)?I:y}const[c,g,p]=yield Promise.all([o.getCapabilities(),this.performReauthorization(o,s),lc(t)?null:_t(this,void 0,void 0,function*(){var y;if(t.feePayer||(t.feePayer=(y=this.publicKey)!==null&&y!==void 0?y:void 0),t.recentBlockhash==null){const{blockhash:I}=yield e.getLatestBlockhash({commitment:a()});t.recentBlockhash=I}})]);if(c.supports_sign_and_send_transactions)return(yield o.signAndSendTransactions({minContextSlot:i,transactions:[t]}))[0];{const[y]=yield o.signTransactions({transactions:[t]});if(lc(y))return yield e.sendTransaction(y);{const I=y.serialize();return yield e.sendRawTransaction(I,Object.assign(Object.assign({},n),{preflightCommitment:a()}))}}}))}catch(o){throw new vn(o?.message,o)}}))})}signTransaction(t){return _t(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>_t(this,void 0,void 0,function*(){const[e]=yield this.performSignTransactions([t]);return e}))})}signAllTransactions(t){return _t(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>_t(this,void 0,void 0,function*(){return yield this.performSignTransactions(t)}))})}signMessage(t){return _t(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>_t(this,void 0,void 0,function*(){const{authToken:e,selectedAddress:n}=this.assertIsAuthorized();try{return yield this.transact(s=>_t(this,void 0,void 0,function*(){yield this.performReauthorization(s,e);const[i]=yield s.signMessages({addresses:[n],payloads:[t]});return i.slice(-hw)}))}catch(s){throw new Yi(s?.message,s)}}))})}signIn(t){return _t(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>_t(this,void 0,void 0,function*(){var e,n;if(this._readyState!==yt.Installed&&this._readyState!==yt.Loadable)throw new jn;this._connecting=!0;try{const s=yield this.performAuthorization(Object.assign(Object.assign({},t),{domain:(e=t?.domain)!==null&&e!==void 0?e:window.location.host}));if(!s.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const i=s.sign_in_result.address;return{account:Object.assign(Object.assign({},(n=s.accounts.find(a=>a.address==i))!==null&&n!==void 0?n:{address:i}),{publicKey:di(i)}),signedMessage:di(s.sign_in_result.signed_message),signature:di(s.sign_in_result.signature)}}catch(s){throw new Rn(s instanceof Error&&s.message||"Unknown error",s)}finally{this._connecting=!1}}))})}}function ww(){return{select(r){return _t(this,void 0,void 0,function*(){return r[0]})}}}const Zs="SolanaMobileWalletAdapterDefaultAuthorizationCache";function mw(){let r;try{r=window.localStorage}catch{}return{clear(){return _t(this,void 0,void 0,function*(){if(r)try{r.removeItem(Zs)}catch{}})},get(){return _t(this,void 0,void 0,function*(){if(r)try{return JSON.parse(r.getItem(Zs))||void 0}catch{}})},set(t){return _t(this,void 0,void 0,function*(){if(r)try{r.setItem(Zs,JSON.stringify(t))}catch{}})}}}function yw(r){return _t(this,void 0,void 0,function*(){typeof window<"u"&&window.location.assign(r.url)})}function bw(){return yw}var vw=function(r,t,e,n){if(e==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!n:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?n:e==="a"?n.call(r):n?n.value:t.get(r)},Mw=function(r,t,e,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,e):s?s.value=e:t.set(r,e),e},gi;function Ew(r){const t=({register:e})=>e(r);try{window.dispatchEvent(new Sw(t))}catch(e){console.error(`wallet-standard:register-wallet event could not be dispatched
`,e)}try{window.addEventListener("wallet-standard:app-ready",({detail:e})=>t(e))}catch(e){console.error(`wallet-standard:app-ready event listener could not be added
`,e)}}class Sw extends Event{get detail(){return vw(this,gi,"f")}get type(){return"wallet-standard:register-wallet"}constructor(t){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),gi.set(this,void 0),Mw(this,gi,t,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}gi=new WeakMap;function xw(r,t){if(r===t)return!0;const e=r.length;if(e!==t.length)return!1;for(let n=0;n<e;n++)if(r[n]!==t[n])return!1;return!0}var li=Wo.Buffer;function Iw(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=n}var o=r.length,a=r.charAt(0),c=Math.log(o)/Math.log(256),g=Math.log(256)/Math.log(o);function p(M){if((Array.isArray(M)||M instanceof Uint8Array)&&(M=li.from(M)),!li.isBuffer(M))throw new TypeError("Expected Buffer");if(M.length===0)return"";for(var L=0,B=0,v=0,k=M.length;v!==k&&M[v]===0;)v++,L++;for(var C=(k-v)*g+1>>>0,_=new Uint8Array(C);v!==k;){for(var O=M[v],P=0,z=C-1;(O!==0||P<B)&&z!==-1;z--,P++)O+=256*_[z]>>>0,_[z]=O%o>>>0,O=O/o>>>0;if(O!==0)throw new Error("Non-zero carry");B=P,v++}for(var $=C-B;$!==C&&_[$]===0;)$++;for(var K=a.repeat(L);$<C;++$)K+=r.charAt(_[$]);return K}function y(M){if(typeof M!="string")throw new TypeError("Expected String");if(M.length===0)return li.alloc(0);for(var L=0,B=0,v=0;M[L]===a;)B++,L++;for(var k=(M.length-L)*c+1>>>0,C=new Uint8Array(k);L<M.length;){var _=t[M.charCodeAt(L)];if(_===255)return;for(var O=0,P=k-1;(_!==0||O<v)&&P!==-1;P--,O++)_+=o*C[P]>>>0,C[P]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");v=O,L++}for(var z=k-v;z!==k&&C[z]===0;)z++;var $=li.allocUnsafe(B+(k-z));$.fill(0,0,B);for(var K=B;z!==k;)$[K++]=C[z++];return $}function I(M){var L=y(M);if(L)return L;throw new Error("Non-base"+o+" character")}return{encode:p,decodeUnsafe:y,decode:I}}var _w=Iw,Aw=_w,Bw="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Lw=Aw(Bw);const Tw=Xn(Lw);var we=function(r,t,e,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,e):s?s.value=e:t.set(r,e),e},st=function(r,t,e,n){if(e==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!n:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?n:e==="a"?n.call(r):n?n.value:t.get(r)},Ae,Pe,qn,Hn,zn,jr,Ni,At,ki,bo,pi,vo,zr,Mo,fc,hc,dc,gc;class Nw extends Pu{constructor({wallet:t}){super(),Ae.add(this),Pe.set(this,void 0),qn.set(this,void 0),Hn.set(this,void 0),zn.set(this,void 0),jr.set(this,void 0),Ni.set(this,void 0),At.set(this,void 0),ki.set(this,typeof window>"u"||typeof document>"u"?yt.Unsupported:yt.Installed),Mo.set(this,e=>{if("accounts"in e){const n=st(this,At,"f").accounts[0];st(this,Pe,"f")&&!st(this,zn,"f")&&n!==st(this,Pe,"f")&&(n?st(this,Ae,"m",pi).call(this,n):(this.emit("error",new Gi),st(this,Ae,"m",vo).call(this)))}"features"in e&&st(this,Ae,"m",zr).call(this)}),we(this,At,t,"f"),we(this,Pe,null,"f"),we(this,qn,null,"f"),we(this,Hn,!1,"f"),we(this,zn,!1,"f"),we(this,jr,st(this,At,"f").features[fa].on("change",st(this,Mo,"f")),"f"),st(this,Ae,"m",zr).call(this)}get name(){return st(this,At,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return st(this,At,"f").icon}get readyState(){return st(this,ki,"f")}get publicKey(){return st(this,qn,"f")}get connecting(){return st(this,Hn,"f")}get supportedTransactionVersions(){return st(this,Ni,"f")}get wallet(){return st(this,At,"f")}get standard(){return!0}destroy(){we(this,Pe,null,"f"),we(this,qn,null,"f"),we(this,Hn,!1,"f"),we(this,zn,!1,"f");const t=st(this,jr,"f");t&&(we(this,jr,null,"f"),t())}async autoConnect(){return st(this,Ae,"m",bo).call(this,{silent:!0})}async connect(){return st(this,Ae,"m",bo).call(this)}async disconnect(){if(fo in st(this,At,"f").features)try{we(this,zn,!0,"f"),await st(this,At,"f").features[fo].disconnect()}catch(t){this.emit("error",new ca(t?.message,t))}finally{we(this,zn,!1,"f")}st(this,Ae,"m",vo).call(this)}async sendTransaction(t,e,n={}){try{const s=st(this,Pe,"f");if(!s)throw new Jt;let i;if(bn in st(this,At,"f").features)if(s.features.includes(bn))i=bn;else if(Me in st(this,At,"f").features&&s.features.includes(Me))i=Me;else throw new $n;else if(Me in st(this,At,"f").features){if(!s.features.includes(Me))throw new $n;i=Me}else throw new dr;const o=jg(e.rpcEndpoint);if(!s.chains.includes(o))throw new vn;try{const{signers:a,...c}=n;let g;if(Mn(t)?(a?.length&&t.sign(a),g=t.serialize()):(t=await this.prepareTransaction(t,e,c),a?.length&&t.partialSign(...a),g=new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))),i===bn){const[p]=await st(this,At,"f").features[bn].signAndSendTransaction({account:s,chain:o,transaction:g,options:{preflightCommitment:zs(c.preflightCommitment||e.commitment),skipPreflight:c.skipPreflight,maxRetries:c.maxRetries,minContextSlot:c.minContextSlot}});return Tw.encode(p.signature)}else{const[p]=await st(this,At,"f").features[Me].signTransaction({account:s,chain:o,transaction:g,options:{preflightCommitment:zs(c.preflightCommitment||e.commitment),minContextSlot:c.minContextSlot}});return await e.sendRawTransaction(p.signedTransaction,{...c,preflightCommitment:zs(c.preflightCommitment||e.commitment)})}}catch(a){throw a instanceof Se?a:new vn(a?.message,a)}}catch(s){throw this.emit("error",s),s}}}Pe=new WeakMap,qn=new WeakMap,Hn=new WeakMap,zn=new WeakMap,jr=new WeakMap,Ni=new WeakMap,At=new WeakMap,ki=new WeakMap,Mo=new WeakMap,Ae=new WeakSet,bo=async function(t){try{if(this.connected||this.connecting)return;if(st(this,ki,"f")!==yt.Installed)throw new jn;if(we(this,Hn,!0,"f"),!st(this,At,"f").accounts.length)try{await st(this,At,"f").features[la].connect(t)}catch(n){throw new Rn(n?.message,n)}const e=st(this,At,"f").accounts[0];if(!e)throw new $n;st(this,Ae,"m",pi).call(this,e)}catch(e){throw this.emit("error",e),e}finally{we(this,Hn,!1,"f")}},pi=function(t){let e;try{e=new at(t.address)}catch(n){throw new xr(n?.message,n)}we(this,Pe,t,"f"),we(this,qn,e,"f"),st(this,Ae,"m",zr).call(this),this.emit("connect",e)},vo=function(){we(this,Pe,null,"f"),we(this,qn,null,"f"),st(this,Ae,"m",zr).call(this),this.emit("disconnect")},zr=function(){const t=bn in st(this,At,"f").features?st(this,At,"f").features[bn].supportedTransactionVersions:st(this,At,"f").features[Me].supportedTransactionVersions;we(this,Ni,xw(t,["legacy"])?null:new Set(t),"f"),Me in st(this,At,"f").features&&st(this,Pe,"f")?.features.includes(Me)?(this.signTransaction=st(this,Ae,"m",fc),this.signAllTransactions=st(this,Ae,"m",hc)):(delete this.signTransaction,delete this.signAllTransactions),lr in st(this,At,"f").features&&st(this,Pe,"f")?.features.includes(lr)?this.signMessage=st(this,Ae,"m",dc):delete this.signMessage,Us in st(this,At,"f").features?this.signIn=st(this,Ae,"m",gc):delete this.signIn},fc=async function(t){try{const e=st(this,Pe,"f");if(!e)throw new Jt;if(!(Me in st(this,At,"f").features))throw new dr;if(!e.features.includes(Me))throw new $n;try{const s=(await st(this,At,"f").features[Me].signTransaction({account:e,transaction:Mn(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return Mn(t)?Hr.deserialize(s):en.from(s)}catch(n){throw n instanceof Se?n:new nn(n?.message,n)}}catch(e){throw this.emit("error",e),e}},hc=async function(t){try{const e=st(this,Pe,"f");if(!e)throw new Jt;if(!(Me in st(this,At,"f").features))throw new dr;if(!e.features.includes(Me))throw new $n;try{const n=await st(this,At,"f").features[Me].signTransaction(...t.map(s=>({account:e,transaction:Mn(s)?s.serialize():new Uint8Array(s.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return t.map((s,i)=>{const o=n[i].signedTransaction;return Mn(s)?Hr.deserialize(o):en.from(o)})}catch(n){throw new nn(n?.message,n)}}catch(e){throw this.emit("error",e),e}},dc=async function(t){try{const e=st(this,Pe,"f");if(!e)throw new Jt;if(!(lr in st(this,At,"f").features))throw new dr;if(!e.features.includes(lr))throw new $n;try{return(await st(this,At,"f").features[lr].signMessage({account:e,message:t}))[0].signature}catch(n){throw new Yi(n?.message,n)}}catch(e){throw this.emit("error",e),e}},gc=async function(t={}){try{if(!(Us in st(this,At,"f").features))throw new dr;let e;try{[e]=await st(this,At,"f").features[Us].signIn(t)}catch(n){throw new tc(n?.message,n)}if(!e)throw new tc;return st(this,Ae,"m",pi).call(this,e.account),e}catch(e){throw this.emit("error",e),e}};const kw=kg;var Cw=function(r,t,e,n){if(e==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!n:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?n:e==="a"?n.call(r):n?n.value:t.get(r)},Rw=function(r,t,e,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,e):s?s.value=e:t.set(r,e),e},wi;let We;const ts=new Set;function Dw(r){Pr=void 0,ts.add(r)}function Ow(r){Pr=void 0,ts.delete(r)}const gr={};function jw(){if(We||(We=Object.freeze({register:pc,get:Uw,on:zw}),typeof window>"u"))return We;const r=Object.freeze({register:pc});try{window.addEventListener("wallet-standard:register-wallet",({detail:t})=>t(r))}catch(t){console.error(`wallet-standard:register-wallet event listener could not be added
`,t)}try{window.dispatchEvent(new Pw(r))}catch(t){console.error(`wallet-standard:app-ready event could not be dispatched
`,t)}return We}function pc(...r){return r=r.filter(t=>!ts.has(t)),r.length?(r.forEach(t=>Dw(t)),gr.register?.forEach(t=>Eo(()=>t(...r))),function(){r.forEach(e=>Ow(e)),gr.unregister?.forEach(e=>Eo(()=>e(...r)))}):()=>{}}let Pr;function Uw(){return Pr||(Pr=[...ts]),Pr}function zw(r,t){return gr[r]?.push(t)||(gr[r]=[t]),function(){gr[r]=gr[r]?.filter(n=>t!==n)}}function Eo(r){try{r()}catch(t){console.error(t)}}class Pw extends Event{get detail(){return Cw(this,wi,"f")}get type(){return"wallet-standard:app-ready"}constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),wi.set(this,void 0),Rw(this,wi,t,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}wi=new WeakMap;function Fw(){if(We||(We=jw(),typeof window>"u"))return We;const r=window.navigator.wallets||[];if(!Array.isArray(r))return console.error("window.navigator.wallets is not an array"),We;const{register:t}=We,e=(...n)=>n.forEach(s=>Eo(()=>s({register:t})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:e})})}catch{return console.error("window.navigator.wallets could not be set"),We}return e(...r),We}function Ww(r){const t=wc(()=>new Set),{get:e,on:n}=wc(()=>Fw()),[s,i]=Q.useState(()=>mc(e()));Q.useEffect(()=>{const a=[n("register",(...c)=>i(g=>[...g,...mc(c)])),n("unregister",(...c)=>i(g=>g.filter(p=>c.some(y=>y===p.wallet))))];return()=>a.forEach(c=>c())},[n]);const o=$w(s);return Q.useEffect(()=>{if(!o)return;const a=new Set(s);new Set(o.filter(g=>!a.has(g))).forEach(g=>g.destroy())},[o,s]),Q.useEffect(()=>()=>s.forEach(a=>a.destroy()),[]),Q.useMemo(()=>[...s,...r.filter(({name:a})=>s.some(c=>c.name===a)?(t.has(a)||(t.add(a),console.warn(`${a} was registered as a Standard Wallet. The Wallet Adapter for ${a} can be removed from your app.`)),!1):!0)],[s,r,t])}function wc(r){const t=Q.useRef();return t.current||(t.current={value:r()}),t.current.value}function $w(r){const t=Q.useRef();return Q.useEffect(()=>{t.current=r}),t.current}function mc(r){return r.filter(kw).map(t=>new Nw({wallet:t}))}var mr;(function(r){r[r.DESKTOP_WEB=0]="DESKTOP_WEB",r[r.MOBILE_WEB=1]="MOBILE_WEB"})(mr||(mr={}));function Kw(r){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(r)}function qw({adapters:r,userAgentString:t}){return r.some(e=>e.name!==Nn&&e.readyState===yt.Installed)?mr.DESKTOP_WEB:t&&/android/i.test(t)&&!Kw(t)?mr.MOBILE_WEB:mr.DESKTOP_WEB}function Hw(r){return r?/devnet/i.test(r)?"devnet":/testnet/i.test(r)?"testnet":"mainnet-beta":"mainnet-beta"}function Gw({children:r,wallets:t,adapter:e,isUnloadingRef:n,onAutoConnectRequest:s,onConnectError:i,onError:o,onSelectWallet:a}){const c=Q.useRef(!1),[g,p]=Q.useState(!1),y=Q.useRef(!1),[I,M]=Q.useState(!1),[L,B]=Q.useState(()=>e?.publicKey??null),[v,k]=Q.useState(()=>e?.connected??!1),C=Q.useRef(o);Q.useEffect(()=>(C.current=o,()=>{C.current=void 0}),[o]);const _=Q.useRef((d,w)=>(n.current||(C.current?C.current(d,w):(console.error(d,w),d instanceof jn&&typeof window<"u"&&w&&window.open(w.url,"_blank"))),d)),[O,P]=Q.useState(()=>t.map(d=>({adapter:d,readyState:d.readyState})).filter(({readyState:d})=>d!==yt.Unsupported));Q.useEffect(()=>{P(w=>t.map((m,E)=>{const N=w[E];return N&&N.adapter===m&&N.readyState===m.readyState?N:{adapter:m,readyState:m.readyState}}).filter(({readyState:m})=>m!==yt.Unsupported));function d(w){P(m=>{const E=m.findIndex(({adapter:R})=>R===this);if(E===-1)return m;const{adapter:N}=m[E];return[...m.slice(0,E),{adapter:N,readyState:w},...m.slice(E+1)].filter(({readyState:R})=>R!==yt.Unsupported)})}return t.forEach(w=>w.on("readyStateChange",d,w)),()=>{t.forEach(w=>w.off("readyStateChange",d,w))}},[e,t]);const z=Q.useMemo(()=>O.find(d=>d.adapter===e)??null,[e,O]);Q.useEffect(()=>{if(!e)return;const d=E=>{B(E),c.current=!1,p(!1),k(!0),y.current=!1,M(!1)},w=()=>{n.current||(B(null),c.current=!1,p(!1),k(!1),y.current=!1,M(!1))},m=E=>{_.current(E,e)};return e.on("connect",d),e.on("disconnect",w),e.on("error",m),()=>{e.off("connect",d),e.off("disconnect",w),e.off("error",m),w()}},[e,n]);const $=Q.useRef(!1);Q.useEffect(()=>()=>{$.current=!1},[e]),Q.useEffect(()=>{$.current||c.current||v||!s||!(z?.readyState===yt.Installed||z?.readyState===yt.Loadable)||(c.current=!0,p(!0),$.current=!0,async function(){try{await s()}catch{i()}finally{p(!1),c.current=!1}}())},[v,s,i,z]);const K=Q.useCallback(async(d,w,m)=>{if(!e)throw _.current(new ec);if(!v)throw _.current(new Jt,e);return await e.sendTransaction(d,w,m)},[e,v]),J=Q.useMemo(()=>e&&"signTransaction"in e?async d=>{if(!v)throw _.current(new Jt,e);return await e.signTransaction(d)}:void 0,[e,v]),ht=Q.useMemo(()=>e&&"signAllTransactions"in e?async d=>{if(!v)throw _.current(new Jt,e);return await e.signAllTransactions(d)}:void 0,[e,v]),nt=Q.useMemo(()=>e&&"signMessage"in e?async d=>{if(!v)throw _.current(new Jt,e);return await e.signMessage(d)}:void 0,[e,v]),rt=Q.useMemo(()=>e&&"signIn"in e?async d=>await e.signIn(d):void 0,[e]),T=Q.useCallback(async()=>{if(c.current||y.current||z?.adapter.connected)return;if(!z)throw _.current(new ec);const{adapter:d,readyState:w}=z;if(!(w===yt.Installed||w===yt.Loadable))throw _.current(new jn,d);c.current=!0,p(!0);try{await d.connect()}catch(m){throw i(),m}finally{p(!1),c.current=!1}},[i,z]),u=Q.useCallback(async()=>{if(!y.current&&e){y.current=!0,M(!0);try{await e.disconnect()}finally{M(!1),y.current=!1}}},[e]);return H.createElement(Wu.Provider,{value:{autoConnect:!!s,wallets:O,wallet:z,publicKey:L,connected:v,connecting:g,disconnecting:I,select:a,connect:T,disconnect:u,sendTransaction:K,signTransaction:J,signAllTransactions:ht,signMessage:nt,signIn:rt}},r)}let Qs;function Yw(){return Qs===void 0&&(Qs=globalThis.navigator?.userAgent??null),Qs}function fi(r){const t=Yw();return qw({adapters:r,userAgentString:t})===mr.MOBILE_WEB}function Vw(){const r=globalThis.location;if(r)return`${r.protocol}//${r.host}`}function xm({children:r,wallets:t,autoConnect:e,localStorageKey:n="walletName",onError:s}){const{connection:i}=_g(),o=Ww(t),a=Q.useMemo(()=>{if(!fi(o))return null;const C=o.find(_=>_.name===Nn);return C||new pw({addressSelector:ww(),appIdentity:{uri:Vw()},authorizationResultCache:mw(),cluster:Hw(i?.rpcEndpoint),onWalletNotFound:bw()})},[o,i?.rpcEndpoint]),c=Q.useMemo(()=>a==null||o.indexOf(a)!==-1?o:[a,...o],[o,a]),[g,p]=Rg(n,fi(o)?Nn:null),y=Q.useMemo(()=>c.find(C=>C.name===g)??null,[c,g]),I=Q.useCallback(C=>{g!==C&&(y&&y.name!==Nn&&y.disconnect(),p(C))},[y,p,g]);Q.useEffect(()=>{if(!y)return;function C(){B.current||g===Nn&&fi(o)||p(null)}return y.on("disconnect",C),()=>{y.off("disconnect",C)}},[y,o,p,g]);const M=Q.useRef(!1),L=Q.useMemo(()=>{if(!(!e||!y))return async()=>{(e===!0||await e(y))&&(M.current?await y.connect():await y.autoConnect())}},[e,y]),B=Q.useRef(!1);Q.useEffect(()=>{if(g===Nn&&fi(o)){B.current=!1;return}function C(){B.current=!0}return window.addEventListener("beforeunload",C),()=>{window.removeEventListener("beforeunload",C)}},[o,g]);const v=Q.useCallback(()=>{y&&y.name!==Nn&&I(null)},[y,I]),k=Q.useCallback(C=>{M.current=!0,I(C)},[I]);return H.createElement(Gw,{wallets:c,adapter:y,isUnloadingRef:B,onAutoConnectRequest:L,onConnectError:v,onError:s,onSelectWallet:k},r)}const gl={setVisible(r){console.error(pl("call","setVisible"))},visible:!1};Object.defineProperty(gl,"visible",{get(){return console.error(pl("read","visible")),!1}});function pl(r,t){return`You have tried to  ${r} "${t}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const wl=Q.createContext(gl);function ml(){return Q.useContext(wl)}function Zw({onSelectWallet:r}){const{connect:t,connected:e,connecting:n,disconnect:s,disconnecting:i,publicKey:o,select:a,wallet:c,wallets:g}=$u();let p;n?p="connecting":e?p="connected":i?p="disconnecting":c?p="has-wallet":p="no-wallet";const y=Q.useCallback(()=>{t().catch(()=>{})},[t]),I=Q.useCallback(()=>{s().catch(()=>{})},[s]),M=Q.useCallback(()=>{r({onSelectWallet:a,wallets:g})},[r,a,g]);return{buttonState:p,onConnect:p==="has-wallet"?y:void 0,onDisconnect:p!=="disconnecting"&&p!=="no-wallet"?I:void 0,onSelectWallet:M,publicKey:o??void 0,walletIcon:c?.adapter.icon,walletName:c?.adapter.name}}const yl=r=>H.createElement("button",{className:`wallet-adapter-button ${r.className||""}`,disabled:r.disabled,style:r.style,onClick:r.onClick,tabIndex:r.tabIndex||0,type:"button"},r.startIcon&&H.createElement("i",{className:"wallet-adapter-button-start-icon"},r.startIcon),r.children,r.endIcon&&H.createElement("i",{className:"wallet-adapter-button-end-icon"},r.endIcon)),bl=({wallet:r,...t})=>r&&H.createElement("img",{src:r.adapter.icon,alt:`${r.adapter.name} icon`,...t});function Qw({walletIcon:r,walletName:t,...e}){return H.createElement(yl,{...e,className:"wallet-adapter-button-trigger",startIcon:r&&t?H.createElement(bl,{wallet:{adapter:{icon:r,name:t}}}):void 0})}function Jw({children:r,labels:t,...e}){const{setVisible:n}=ml(),{buttonState:s,onConnect:i,onDisconnect:o,publicKey:a,walletIcon:c,walletName:g}=Zw({onSelectWallet(){n(!0)}}),[p,y]=Q.useState(!1),[I,M]=Q.useState(!1),L=Q.useRef(null);Q.useEffect(()=>{const v=k=>{const C=L.current;!C||C.contains(k.target)||M(!1)};return document.addEventListener("mousedown",v),document.addEventListener("touchstart",v),()=>{document.removeEventListener("mousedown",v),document.removeEventListener("touchstart",v)}},[]);const B=Q.useMemo(()=>{if(r)return r;if(a){const v=a.toBase58();return v.slice(0,4)+".."+v.slice(-4)}else return s==="connecting"||s==="has-wallet"?t[s]:t["no-wallet"]},[s,r,t,a]);return H.createElement("div",{className:"wallet-adapter-dropdown"},H.createElement(Qw,{...e,"aria-expanded":I,style:{pointerEvents:I?"none":"auto",...e.style},onClick:()=>{switch(s){case"no-wallet":n(!0);break;case"has-wallet":i&&i();break;case"connected":M(!0);break}},walletIcon:c,walletName:g},B),H.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${I&&"wallet-adapter-dropdown-list-active"}`,ref:L,role:"menu"},a?H.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(a.toBase58()),y(!0),setTimeout(()=>y(!1),400)},role:"menuitem"},p?t.copied:t["copy-address"]):null,H.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{n(!0),M(!1)},role:"menuitem"},t["change-wallet"]),o?H.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{o(),M(!1)},role:"menuitem"},t.disconnect):null))}const yc=({id:r,children:t,expanded:e=!1})=>{const n=Q.useRef(null),s=Q.useRef(!0),i="height 250ms ease-out",o=()=>{const c=n.current;c&&requestAnimationFrame(()=>{c.style.height=c.scrollHeight+"px"})},a=()=>{const c=n.current;c&&requestAnimationFrame(()=>{c.style.height=c.offsetHeight+"px",c.style.overflow="hidden",requestAnimationFrame(()=>{c.style.height="0"})})};return Q.useLayoutEffect(()=>{e?o():a()},[e]),Q.useLayoutEffect(()=>{const c=n.current;if(!c)return;function g(){c&&(c.style.overflow=e?"initial":"hidden",e&&(c.style.height="auto"))}function p(y){c&&y.target===c&&y.propertyName==="height"&&g()}return s.current&&(g(),s.current=!1),c.addEventListener("transitionend",p),()=>c.removeEventListener("transitionend",p)},[e]),H.createElement("div",{className:"wallet-adapter-collapse",id:r,ref:n,role:"region",style:{height:0,transition:s.current?void 0:i}},t)},Js=({handleClick:r,tabIndex:t,wallet:e})=>H.createElement("li",null,H.createElement(yl,{onClick:r,startIcon:H.createElement(bl,{wallet:e}),tabIndex:t},e.adapter.name,e.readyState===yt.Installed&&H.createElement("span",null,"Detected"))),Xw=()=>H.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},H.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),H.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),H.createElement("g",{clipPath:"url(#clip0_880_5115)"},H.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),H.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),H.createElement("defs",null,H.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},H.createElement("stop",{stopColor:"#9945FF"}),H.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),H.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),H.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),H.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),H.createElement("stop",{offset:"1",stopColor:"#00D18C"})),H.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},H.createElement("stop",{stopColor:"#9945FF"}),H.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),H.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),H.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),H.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),H.createElement("stop",{offset:"1",stopColor:"#00D18C"})),H.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},H.createElement("stop",{stopColor:"#9945FF"}),H.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),H.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),H.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),H.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),H.createElement("stop",{offset:"1",stopColor:"#00D18C"})),H.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},H.createElement("stop",{stopColor:"#9945FF"}),H.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),H.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),H.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),H.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),H.createElement("stop",{offset:"1",stopColor:"#00D18C"})),H.createElement("clipPath",{id:"clip0_880_5115"},H.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),tm=({className:r="",container:t="body"})=>{const e=Q.useRef(null),{wallets:n,select:s}=$u(),{setVisible:i}=ml(),[o,a]=Q.useState(!1),[c,g]=Q.useState(!1),[p,y]=Q.useState(null),[I,M]=Q.useMemo(()=>{const _=[],O=[];for(const P of n)P.readyState===yt.Installed?_.push(P):O.push(P);return _.length?[_,O]:[O,[]]},[n]),L=Q.useCallback(()=>{g(!1),setTimeout(()=>i(!1),150)},[i]),B=Q.useCallback(_=>{_.preventDefault(),L()},[L]),v=Q.useCallback((_,O)=>{s(O),B(_)},[s,B]),k=Q.useCallback(()=>a(!o),[o]),C=Q.useCallback(_=>{const O=e.current;if(!O)return;const P=O.querySelectorAll("button"),z=P[0],$=P[P.length-1];_.shiftKey?document.activeElement===z&&($.focus(),_.preventDefault()):document.activeElement===$&&(z.focus(),_.preventDefault())},[e]);return Q.useLayoutEffect(()=>{const _=P=>{P.key==="Escape"?L():P.key==="Tab"&&C(P)},{overflow:O}=window.getComputedStyle(document.body);return setTimeout(()=>g(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",_,!1),()=>{document.body.style.overflow=O,window.removeEventListener("keydown",_,!1)}},[L,C]),Q.useLayoutEffect(()=>y(document.querySelector(t)),[t]),p&&Nl.createPortal(H.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${c&&"wallet-adapter-modal-fade-in"} ${r}`,ref:e,role:"dialog"},H.createElement("div",{className:"wallet-adapter-modal-container"},H.createElement("div",{className:"wallet-adapter-modal-wrapper"},H.createElement("button",{onClick:B,className:"wallet-adapter-modal-button-close"},H.createElement("svg",{width:"14",height:"14"},H.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),I.length?H.createElement(H.Fragment,null,H.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),H.createElement("ul",{className:"wallet-adapter-modal-list"},I.map(_=>H.createElement(Js,{key:_.adapter.name,handleClick:O=>v(O,_.adapter.name),wallet:_})),M.length?H.createElement(yc,{expanded:o,id:"wallet-adapter-modal-collapse"},M.map(_=>H.createElement(Js,{key:_.adapter.name,handleClick:O=>v(O,_.adapter.name),tabIndex:o?0:-1,wallet:_}))):null),M.length?H.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:k,tabIndex:0},H.createElement("span",null,o?"Less ":"More ","options"),H.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},H.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):H.createElement(H.Fragment,null,H.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),H.createElement("div",{className:"wallet-adapter-modal-middle"},H.createElement(Xw,null)),M.length?H.createElement(H.Fragment,null,H.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:k,tabIndex:0},H.createElement("span",null,o?"Hide ":"Already have a wallet? View ","options"),H.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},H.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),H.createElement(yc,{expanded:o,id:"wallet-adapter-modal-collapse"},H.createElement("ul",{className:"wallet-adapter-modal-list"},M.map(_=>H.createElement(Js,{key:_.adapter.name,handleClick:O=>v(O,_.adapter.name),tabIndex:o?0:-1,wallet:_}))))):null))),H.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:B})),p)},Im=({children:r,...t})=>{const[e,n]=Q.useState(!1);return H.createElement(wl.Provider,{value:{visible:e,setVisible:n}},r,e&&H.createElement(tm,{...t}))},em={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function _m(r){return H.createElement(Jw,{...r,labels:em})}const nm="Phantom";class Am extends ua{constructor(t={}){super(),this.name=nm,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?yt.Unsupported:yt.NotDetected,this._disconnected=()=>{const e=this._wallet;e&&(e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new Gi),this.emit("disconnect"))},this._accountChanged=e=>{const n=this._publicKey;if(n){try{e=new at(e.toBytes())}catch(s){this.emit("error",new xr(s?.message,s));return}n.equals(e)||(this._publicKey=e,this.emit("connect",e))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==yt.Unsupported&&(lo()?(this._readyState=yt.Loadable,this.emit("readyStateChange",this._readyState)):Fu(()=>window.phantom?.solana?.isPhantom||window.solana?.isPhantom?(this._readyState=yt.Installed,this.emit("readyStateChange",this._readyState),!0):!1))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===yt.Installed&&await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this.readyState===yt.Loadable){const n=encodeURIComponent(window.location.href),s=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${n}?ref=${s}`;return}if(this.readyState!==yt.Installed)throw new jn;this._connecting=!0;const t=window.phantom?.solana||window.solana;if(!t.isConnected)try{await t.connect()}catch(n){throw new Rn(n?.message,n)}if(!t.publicKey)throw new $n;let e;try{e=new at(t.publicKey.toBytes())}catch(n){throw new xr(n?.message,n)}t.on("disconnect",this._disconnected),t.on("accountChanged",this._accountChanged),this._wallet=t,this._publicKey=e,this.emit("connect",e)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const t=this._wallet;if(t){t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await t.disconnect()}catch(e){this.emit("error",new ca(e?.message,e))}}this.emit("disconnect")}async sendTransaction(t,e,n={}){try{const s=this._wallet;if(!s)throw new Jt;try{const{signers:i,...o}=n;Mn(t)?i?.length&&t.sign(i):(t=await this.prepareTransaction(t,e,o),i?.length&&t.partialSign(...i)),o.preflightCommitment=o.preflightCommitment||e.commitment;const{signature:a}=await s.signAndSendTransaction(t,o);return a}catch(i){throw i instanceof Se?i:new vn(i?.message,i)}}catch(s){throw this.emit("error",s),s}}async signTransaction(t){try{const e=this._wallet;if(!e)throw new Jt;try{return await e.signTransaction(t)||t}catch(n){throw new nn(n?.message,n)}}catch(e){throw this.emit("error",e),e}}async signAllTransactions(t){try{const e=this._wallet;if(!e)throw new Jt;try{return await e.signAllTransactions(t)||t}catch(n){throw new nn(n?.message,n)}}catch(e){throw this.emit("error",e),e}}async signMessage(t){try{const e=this._wallet;if(!e)throw new Jt;try{const{signature:n}=await e.signMessage(t);return n}catch(n){throw new Yi(n?.message,n)}}catch(e){throw this.emit("error",e),e}}}const rm="modulepreload",im=function(r){return"/"+r},bc={},vl=function(t,e,n){let s=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");s=Promise.allSettled(e.map(c=>{if(c=im(c),c in bc)return;bc[c]=!0;const g=c.endsWith(".css"),p=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const y=document.createElement("link");if(y.rel=g?"stylesheet":rm,g||(y.as="script"),y.crossOrigin="",y.href=c,a&&y.setAttribute("nonce",a),document.head.appendChild(y),g)return new Promise((I,M)=>{y.addEventListener("load",I),y.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},sm="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=";var Tt=function(r,t,e,n){if(e==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!n:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?n:e==="a"?n.call(r):n?n.value:t.get(r)},om=function(r,t,e,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,e):s?s.value=e:t.set(r,e),e},mi,Gn,So,xo,Io,Re,_o,Ml,El,Ao,Bo,Lo,To,No;class am{constructor(){mi.add(this),Gn.set(this,{}),So.set(this,"1.0.0"),xo.set(this,"MetaMask"),Io.set(this,sm),Re.set(this,null),_o.set(this,(t,e)=>(Tt(this,Gn,"f")[t]?.push(e)||(Tt(this,Gn,"f")[t]=[e]),()=>Tt(this,mi,"m",El).call(this,t,e))),Ao.set(this,async()=>{if(!Tt(this,Re,"f")){let t;try{t=(await vl(async()=>{const{default:e}=await import("./index-DaFOBrj8.js");return{default:e}},__vite__mapDeps([0,1]))).default}catch{throw new Error("Unable to load Solflare MetaMask SDK")}om(this,Re,new t,"f"),Tt(this,Re,"f").on("standard_change",e=>Tt(this,mi,"m",Ml).call(this,"change",e))}return this.accounts.length||await Tt(this,Re,"f").connect(),{accounts:this.accounts}}),Bo.set(this,async()=>{Tt(this,Re,"f")&&await Tt(this,Re,"f").disconnect()}),Lo.set(this,async(...t)=>{if(!Tt(this,Re,"f"))throw new Jt;return await Tt(this,Re,"f").standardSignAndSendTransaction(...t)}),To.set(this,async(...t)=>{if(!Tt(this,Re,"f"))throw new Jt;return await Tt(this,Re,"f").standardSignTransaction(...t)}),No.set(this,async(...t)=>{if(!Tt(this,Re,"f"))throw new Jt;return await Tt(this,Re,"f").standardSignMessage(...t)})}get version(){return Tt(this,So,"f")}get name(){return Tt(this,xo,"f")}get icon(){return Tt(this,Io,"f")}get chains(){return[ho,Ku,qu]}get features(){return{[la]:{version:"1.0.0",connect:Tt(this,Ao,"f")},[fo]:{version:"1.0.0",disconnect:Tt(this,Bo,"f")},[fa]:{version:"1.0.0",on:Tt(this,_o,"f")},[bn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Tt(this,Lo,"f")},[Me]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:Tt(this,To,"f")},[lr]:{version:"1.0.0",signMessage:Tt(this,No,"f")}}}get accounts(){return Tt(this,Re,"f")?Tt(this,Re,"f").standardAccounts:[]}}Gn=new WeakMap,So=new WeakMap,xo=new WeakMap,Io=new WeakMap,Re=new WeakMap,_o=new WeakMap,Ao=new WeakMap,Bo=new WeakMap,Lo=new WeakMap,To=new WeakMap,No=new WeakMap,mi=new WeakSet,Ml=function(t,...e){Tt(this,Gn,"f")[t]?.forEach(n=>n.apply(null,e))},El=function(t,e){Tt(this,Gn,"f")[t]=Tt(this,Gn,"f")[t]?.filter(n=>e!==n)};let vc=!1;function cm(){vc||(Ew(new am),vc=!0)}async function um(){const r="solflare-detect-metamask";function t(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:r,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function e(n){const s=n.data;s?.target==="metamask-inpage"&&s.data?.name==="metamask-provider"&&(s.data.data?.id===r?(window.removeEventListener("message",e),s.data.data.error||cm()):t())}window.addEventListener("message",e),window.setTimeout(()=>window.removeEventListener("message",e),5e3),t()}const lm="Solflare";class Bm extends ua{constructor(t={}){super(),this.name=lm,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjUwIiB2aWV3Qm94PSIwIDAgNTAgNTAiIHdpZHRoPSI1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmMxMGIiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmYjNmMmUiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI2LjQ3ODM1IiB4Mj0iMzQuOTEwNyIgeGxpbms6aHJlZj0iI2EiIHkxPSI3LjkyIiB5Mj0iMzMuNjU5MyIvPjxyYWRpYWxHcmFkaWVudCBpZD0iYyIgY3g9IjAiIGN5PSIwIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDQuOTkyMTg4MzIgMTIuMDYzODc5NjMgLTEyLjE4MTEzNjU1IDUuMDQwNzEwNzQgMjIuNTIwMiAyMC42MTgzKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHI9IjEiIHhsaW5rOmhyZWY9IiNhIi8+PHBhdGggZD0ibTI1LjE3MDggNDcuOTEwNGMuNTI1IDAgLjk1MDcuNDIxLjk1MDcuOTQwM3MtLjQyNTcuOTQwMi0uOTUwNy45NDAyLS45NTA3LS40MjA5LS45NTA3LS45NDAyLjQyNTctLjk0MDMuOTUwNy0uOTQwM3ptLTEuMDMyOC00NC45MTU2NWMuNDY0Ni4wMzgzNi44Mzk4LjM5MDQuOTAyNy44NDY4MWwxLjEzMDcgOC4yMTU3NGMuMzc5OCAyLjcxNDMgMy42NTM1IDMuODkwNCA1LjY3NDMgMi4wNDU5bDExLjMyOTEtMTAuMzExNThjLjI3MzMtLjI0ODczLjY5ODktLjIzMTQ5Ljk1MDcuMDM4NTEuMjMwOS4yNDc3Mi4yMzc5LjYyNjk3LjAxNjEuODgyNzdsLTkuODc5MSAxMS4zOTU4Yy0xLjgxODcgMi4wOTQyLS40NzY4IDUuMzY0MyAyLjI5NTYgNS41OTc4bDguNzE2OC44NDAzYy40MzQxLjA0MTguNzUxNy40MjM0LjcwOTMuODUyNC0uMDM0OS4zNTM3LS4zMDc0LjYzOTUtLjY2MjguNjk0OWwtOS4xNTk0IDEuNDMwMmMtMi42NTkzLjM2MjUtMy44NjM2IDMuNTExNy0yLjEzMzkgNS41NTc2bDMuMjIgMy43OTYxYy4yNTk0LjMwNTguMjE4OC43NjE1LS4wOTA4IDEuMDE3OC0uMjYyMi4yMTcyLS42NDE5LjIyNTYtLjkxMzguMDIwM2wtMy45Njk0LTIuOTk3OGMtMi4xNDIxLTEuNjEwOS01LjIyOTctLjI0MTctNS40NTYxIDIuNDI0M2wtLjg3NDcgMTAuMzk3NmMtLjAzNjIuNDI5NS0uNDE3OC43NDg3LS44NTI1LjcxMy0uMzY5LS4wMzAzLS42NjcxLS4zMDk3LS43MTcxLS42NzIxbC0xLjM4NzEtMTAuMDQzN2MtLjM3MTctMi43MTQ0LTMuNjQ1NC0zLjg5MDQtNS42NzQzLTIuMDQ1OWwtMTIuMDUxOTUgMTAuOTc0Yy0uMjQ5NDcuMjI3MS0uNjM4MDkuMjExNC0uODY4LS4wMzUtLjIxMDk0LS4yMjYyLS4yMTczNS0uNTcyNC0uMDE0OTMtLjgwNmwxMC41MTgxOC0xMi4xMzg1YzEuODE4Ny0yLjA5NDIuNDg0OS01LjM2NDQtMi4yODc2LTUuNTk3OGwtOC43MTg3Mi0uODQwNWMtLjQzNDEzLS4wNDE4LS43NTE3Mi0uNDIzNS0uNzA5MzYtLjg1MjQuMDM0OTMtLjM1MzcuMzA3MzktLjYzOTQuNjYyNy0uNjk1bDkuMTUzMzgtMS40Mjk5YzIuNjU5NC0uMzYyNSAzLjg3MTgtMy41MTE3IDIuMTQyMS01LjU1NzZsLTIuMTkyLTIuNTg0MWMtLjMyMTctLjM3OTItLjI3MTMtLjk0NDMuMTEyNi0xLjI2MjEuMzI1My0uMjY5NC43OTYzLS4yNzk3IDEuMTMzNC0uMDI0OWwyLjY5MTggMi4wMzQ3YzIuMTQyMSAxLjYxMDkgNS4yMjk3LjI0MTcgNS40NTYxLTIuNDI0M2wuNzI0MS04LjU1OTk4Yy4wNDU3LS41NDA4LjUyNjUtLjk0MjU3IDEuMDczOS0uODk3Mzd6bS0yMy4xODczMyAyMC40Mzk2NWMuNTI1MDQgMCAuOTUwNjcuNDIxLjk1MDY3Ljk0MDNzLS40MjU2My45NDAzLS45NTA2Ny45NDAzYy0uNTI1MDQxIDAtLjk1MDY3LS40MjEtLjk1MDY3LS45NDAzcy40MjU2MjktLjk0MDMuOTUwNjctLjk0MDN6bTQ3LjY3OTczLS45NTQ3Yy41MjUgMCAuOTUwNy40MjEuOTUwNy45NDAzcy0uNDI1Ny45NDAyLS45NTA3Ljk0MDItLjk1MDctLjQyMDktLjk1MDctLjk0MDIuNDI1Ny0uOTQwMy45NTA3LS45NDAzem0tMjQuNjI5Ni0yMi40Nzk3Yy41MjUgMCAuOTUwNi40MjA5NzMuOTUwNi45NDAyNyAwIC41MTkzLS40MjU2Ljk0MDI3LS45NTA2Ljk0MDI3LS41MjUxIDAtLjk1MDctLjQyMDk3LS45NTA3LS45NDAyNyAwLS41MTkyOTcuNDI1Ni0uOTQwMjcuOTUwNy0uOTQwMjd6IiBmaWxsPSJ1cmwoI2IpIi8+PHBhdGggZD0ibTI0LjU3MSAzMi43NzkyYzQuOTU5NiAwIDguOTgwMi0zLjk3NjUgOC45ODAyLTguODgxOSAwLTQuOTA1My00LjAyMDYtOC44ODE5LTguOTgwMi04Ljg4MTlzLTguOTgwMiAzLjk3NjYtOC45ODAyIDguODgxOWMwIDQuOTA1NCA0LjAyMDYgOC44ODE5IDguOTgwMiA4Ljg4MTl6IiBmaWxsPSJ1cmwoI2MpIi8+PC9zdmc+",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?yt.Unsupported:yt.Loadable,this._disconnected=()=>{const e=this._wallet;e&&(e.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new Gi),this.emit("disconnect"))},this._accountChanged=e=>{if(!e)return;const n=this._publicKey;if(n){try{e=new at(e.toBytes())}catch(s){this.emit("error",new xr(s?.message,s));return}n.equals(e)||(this._publicKey=e,this.emit("connect",e))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=t,this._readyState!==yt.Unsupported&&(Fu(()=>window.solflare?.isSolflare||window.SolflareApp?(this._readyState=yt.Installed,this.emit("readyStateChange",this._readyState),!0):!1),um())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){return!!this._wallet?.connected}get readyState(){return this._readyState}async autoConnect(){this.readyState===yt.Loadable&&lo()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==yt.Loadable&&this._readyState!==yt.Installed)throw new jn;if(this.readyState===yt.Loadable&&lo()){const s=encodeURIComponent(window.location.href),i=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${s}?ref=${i}`;return}let t;try{t=(await vl(async()=>{const{default:s}=await import("./index-CV8ShvA9.js");return{default:s}},__vite__mapDeps([2,1]))).default}catch(s){throw new Lg(s?.message,s)}let e;try{e=new t({network:this._config.network})}catch(s){throw new dr(s?.message,s)}if(this._connecting=!0,!e.connected)try{await e.connect()}catch(s){throw new Rn(s?.message,s)}if(!e.publicKey)throw new Rn;let n;try{n=new at(e.publicKey.toBytes())}catch(s){throw new xr(s?.message,s)}e.on("disconnect",this._disconnected),e.on("accountChanged",this._accountChanged),this._wallet=e,this._publicKey=n,this.emit("connect",n)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const t=this._wallet;if(t){t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await t.disconnect()}catch(e){this.emit("error",new ca(e?.message,e))}}this.emit("disconnect")}async sendTransaction(t,e,n={}){try{const s=this._wallet;if(!s)throw new Jt;try{const{signers:i,...o}=n;return Mn(t)?i?.length&&t.sign(i):(t=await this.prepareTransaction(t,e,o),i?.length&&t.partialSign(...i)),o.preflightCommitment=o.preflightCommitment||e.commitment,await s.signAndSendTransaction(t,o)}catch(i){throw i instanceof Se?i:new vn(i?.message,i)}}catch(s){throw this.emit("error",s),s}}async signTransaction(t){try{const e=this._wallet;if(!e)throw new Jt;try{return await e.signTransaction(t)||t}catch(n){throw new nn(n?.message,n)}}catch(e){throw this.emit("error",e),e}}async signAllTransactions(t){try{const e=this._wallet;if(!e)throw new Jt;try{return await e.signAllTransactions(t)||t}catch(n){throw new nn(n?.message,n)}}catch(e){throw this.emit("error",e),e}}async signMessage(t){try{const e=this._wallet;if(!e)throw new Jt;try{return await e.signMessage(t,"utf8")}catch(n){throw new Yi(n?.message,n)}}catch(e){throw this.emit("error",e),e}}}var ma={exports:{}},yr=typeof Reflect=="object"?Reflect:null,Mc=yr&&typeof yr.apply=="function"?yr.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)},yi;yr&&typeof yr.ownKeys=="function"?yi=yr.ownKeys:Object.getOwnPropertySymbols?yi=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:yi=function(t){return Object.getOwnPropertyNames(t)};function fm(r){console&&console.warn&&console.warn(r)}var Sl=Number.isNaN||function(t){return t!==t};function Rt(){Rt.init.call(this)}ma.exports=Rt;ma.exports.once=pm;Rt.EventEmitter=Rt;Rt.prototype._events=void 0;Rt.prototype._eventsCount=0;Rt.prototype._maxListeners=void 0;var Ec=10;function es(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}Object.defineProperty(Rt,"defaultMaxListeners",{enumerable:!0,get:function(){return Ec},set:function(r){if(typeof r!="number"||r<0||Sl(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");Ec=r}});Rt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Rt.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Sl(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function xl(r){return r._maxListeners===void 0?Rt.defaultMaxListeners:r._maxListeners}Rt.prototype.getMaxListeners=function(){return xl(this)};Rt.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var s=t==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[t];if(c===void 0)return!1;if(typeof c=="function")Mc(c,this,e);else for(var g=c.length,p=Ll(c,g),n=0;n<g;++n)Mc(p[n],this,e);return!0};function Il(r,t,e,n){var s,i,o;if(es(e),i=r._events,i===void 0?(i=r._events=Object.create(null),r._eventsCount=0):(i.newListener!==void 0&&(r.emit("newListener",t,e.listener?e.listener:e),i=r._events),o=i[t]),o===void 0)o=i[t]=e,++r._eventsCount;else if(typeof o=="function"?o=i[t]=n?[e,o]:[o,e]:n?o.unshift(e):o.push(e),s=xl(r),s>0&&o.length>s&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=r,a.type=t,a.count=o.length,fm(a)}return r}Rt.prototype.addListener=function(t,e){return Il(this,t,e,!1)};Rt.prototype.on=Rt.prototype.addListener;Rt.prototype.prependListener=function(t,e){return Il(this,t,e,!0)};function hm(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _l(r,t,e){var n={fired:!1,wrapFn:void 0,target:r,type:t,listener:e},s=hm.bind(n);return s.listener=e,n.wrapFn=s,s}Rt.prototype.once=function(t,e){return es(e),this.on(t,_l(this,t,e)),this};Rt.prototype.prependOnceListener=function(t,e){return es(e),this.prependListener(t,_l(this,t,e)),this};Rt.prototype.removeListener=function(t,e){var n,s,i,o,a;if(es(e),s=this._events,s===void 0)return this;if(n=s[t],n===void 0)return this;if(n===e||n.listener===e)--this._eventsCount===0?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,n.listener||e));else if(typeof n!="function"){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,i=o;break}if(i<0)return this;i===0?n.shift():dm(n,i),n.length===1&&(s[t]=n[0]),s.removeListener!==void 0&&this.emit("removeListener",t,a||e)}return this};Rt.prototype.off=Rt.prototype.removeListener;Rt.prototype.removeAllListeners=function(t){var e,n,s;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var i=Object.keys(n),o;for(s=0;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=n[t],typeof e=="function")this.removeListener(t,e);else if(e!==void 0)for(s=e.length-1;s>=0;s--)this.removeListener(t,e[s]);return this};function Al(r,t,e){var n=r._events;if(n===void 0)return[];var s=n[t];return s===void 0?[]:typeof s=="function"?e?[s.listener||s]:[s]:e?gm(s):Ll(s,s.length)}Rt.prototype.listeners=function(t){return Al(this,t,!0)};Rt.prototype.rawListeners=function(t){return Al(this,t,!1)};Rt.listenerCount=function(r,t){return typeof r.listenerCount=="function"?r.listenerCount(t):Bl.call(r,t)};Rt.prototype.listenerCount=Bl;function Bl(r){var t=this._events;if(t!==void 0){var e=t[r];if(typeof e=="function")return 1;if(e!==void 0)return e.length}return 0}Rt.prototype.eventNames=function(){return this._eventsCount>0?yi(this._events):[]};function Ll(r,t){for(var e=new Array(t),n=0;n<t;++n)e[n]=r[n];return e}function dm(r,t){for(;t+1<r.length;t++)r[t]=r[t+1];r.pop()}function gm(r){for(var t=new Array(r.length),e=0;e<t.length;++e)t[e]=r[e].listener||r[e];return t}function pm(r,t){return new Promise(function(e,n){function s(o){r.removeListener(t,i),n(o)}function i(){typeof r.removeListener=="function"&&r.removeListener("error",s),e([].slice.call(arguments))}Tl(r,t,i,{once:!0}),t!=="error"&&wm(r,s,{once:!0})})}function wm(r,t,e){typeof r.on=="function"&&Tl(r,"error",t,e)}function Tl(r,t,e,n){if(typeof r.on=="function")n.once?r.once(t,e):r.on(t,e);else if(typeof r.addEventListener=="function")r.addEventListener(t,function s(i){n.once&&r.removeEventListener(t,s),e(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r)}var Lm=ma.exports;export{Sm as C,Am as P,Bm as S,en as T,Hr as V,xm as W,vl as _,Im as a,at as b,Em as c,Mp as d,_m as e,Lm as f,bn as g,Me as h,lr as i,$u as u};

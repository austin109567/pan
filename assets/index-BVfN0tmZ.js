const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-BQgVlTjv.js","assets/react-vendor-CCReqj_h.js"])))=>i.map(i=>d[i]);
import{r as p,b as Bu,g as Vu,c as we,u as Xn,N as Ji,L as Ns,d as pt,R as Qe,e as Uu,f as Zo,h as Gu,i as xe,B as qu}from"./react-vendor-CCReqj_h.js";import{c as zu,P as Wu,S as Hu,C as Ku,W as Ju,a as Xu,_ as Mt,b as Qu,u as U,d as Yu,e as el,f as tl}from"./solana-vendor-DSH3aBSC.js";import{H as Zu,I as sl,P as eh,T as he,S as th,U as W,a as Qn,b as Xi,M as sh,E as Yn,c as xr,d as Zn,G as rl,e as rh,f as nh,C as fs,g as ih,h as ah,A as nl,i as ei,j as ks,R as oh,k as Ss,l as je,m as il,n as _s,o as lh,p as al,W as ti,q as ch,r as ol,s as ll,t as cl,u as te,L as dl,v as dh,B as uh,w as hh,x as mh,y as ph,z as fh,Z as gh,K as xh,F as yh,D as bh,J as vh,X as Ne,N as ul,O as Ft,Q as hl,V as ml,Y as pl,_ as wh,$ as gs,a0 as jh,a1 as Nh,a2 as kh,a3 as Sh,a4 as _h,a5 as Ph,a6 as Ch,a7 as Th,a8 as Ah,a9 as fl,aa as Ps,ab as Cs,ac as Ts,ad as Eh,ae as Rh,af as Ih,ag as Dh,ah as Oh,ai as Lh,aj as Mh}from"./ui-vendor-Di4I4OaK.js";import"crypto";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();var gl={exports:{}},yr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fh=p,$h=Symbol.for("react.element"),Bh=Symbol.for("react.fragment"),Vh=Object.prototype.hasOwnProperty,Uh=Fh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gh={key:!0,ref:!0,__self:!0,__source:!0};function xl(t,e,s){var r,i={},a=null,o=null;s!==void 0&&(a=""+s),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Vh.call(e,r)&&!Gh.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:$h,type:t,key:a,ref:o,props:i,_owner:Uh.current}}yr.Fragment=Bh;yr.jsx=xl;yr.jsxs=xl;gl.exports=yr;var n=gl.exports,yl,Qi=Bu;yl=Qi.createRoot,Qi.hydrateRoot;const qh=({children:t})=>{const e=p.useMemo(()=>zu("devnet"),[]),s=p.useMemo(()=>[new Wu,new Hu],[]);return n.jsx(Ku,{endpoint:e,children:n.jsx(Ju,{wallets:s,autoConnect:!1,onError:r=>{console.error("Wallet error:",r),r.name==="WalletConnectionError"&&console.log("Please check if your wallet is unlocked and try again")},children:n.jsx(Xu,{children:t})})})},bl=p.createContext({isPlaying:!1,volume:.5,togglePlay:()=>{},setVolume:()=>{},hasScrolled:!1,setHasScrolled:()=>{}}),vl=()=>p.useContext(bl),zh=({children:t})=>{const e=p.useRef(null),[s,r]=p.useState(!1),[i,a]=p.useState(()=>parseFloat(localStorage.getItem("audioVolume")||"0.1")),[o,l]=p.useState(!1),[c,d]=p.useState(()=>localStorage.getItem("hasPlayedBefore")==="true");p.useEffect(()=>{const m=new Audio("/assets/music/music.mp3");return m.loop=!0,m.volume=i,e.current=m,()=>{m&&(m.pause(),m.src="")}},[]),p.useEffect(()=>{e.current&&(e.current.volume=i,localStorage.setItem("audioVolume",i.toString()))},[i]),p.useEffect(()=>{const m=()=>{e.current&&(document.hidden?e.current.pause():s&&e.current.play().catch(console.error))};return document.addEventListener("visibilitychange",m),()=>{document.removeEventListener("visibilitychange",m)}},[s]),p.useEffect(()=>{if(!c&&o&&!s&&e.current){const m=e.current.play();m!==void 0&&m.then(()=>{r(!0),d(!0),localStorage.setItem("hasPlayedBefore","true")}).catch(f=>{console.error("Auto-play error:",f),r(!1),d(!1)})}},[o,c,s]),p.useEffect(()=>{const m=e.current;if(m)if(s){const f=m.play();f!==void 0&&f.catch(g=>{console.error("Playback error:",g),r(!1)})}else m.pause()},[s]);const u=()=>{r(!s)},h=m=>{const f=Math.max(0,Math.min(1,m));a(f)};return n.jsx(bl.Provider,{value:{isPlaying:s,volume:i,togglePlay:u,setVolume:h,hasScrolled:o,setHasScrolled:l},children:t})},wl=p.createContext({theme:"dark",toggleTheme:()=>{}}),jl=()=>p.useContext(wl),Wh=({children:t})=>{const[e,s]=p.useState(()=>localStorage.getItem("theme")||"dark");p.useEffect(()=>{localStorage.setItem("theme",e),document.documentElement.classList.toggle("dark",e==="dark"),document.documentElement.classList.toggle("light",e==="light")},[e]);const i={theme:e,toggleTheme:()=>{s(a=>a==="dark"?"light":"dark")}};return n.jsx(wl.Provider,{value:i,children:typeof t=="function"?t(i):t})},Hh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Mt(async()=>{const{default:r}=await Promise.resolve().then(()=>Gt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class si extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class Kh extends si{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Jh extends si{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Xh extends si{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var mn;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(mn||(mn={}));var Qh=function(t,e,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};class Yh{constructor(e,{headers:s={},customFetch:r,region:i=mn.Any}={}){this.url=e,this.headers=s,this.region=i,this.fetch=Hh(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return Qh(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=s;let l={},{region:c}=s;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(g=>{throw new Kh(g)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new Jh(u);if(!u.ok)throw new Xh(u);let m=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return m==="application/json"?f=yield u.json():m==="application/octet-stream"?f=yield u.blob():m==="text/event-stream"?f=u:m==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}}var ce={},ri={},br={},As={},vr={},wr={},Zh=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},$t=Zh();const em=$t.fetch,Nl=$t.fetch.bind($t),kl=$t.Headers,tm=$t.Request,sm=$t.Response,Gt=Object.freeze(Object.defineProperty({__proto__:null,Headers:kl,Request:tm,Response:sm,default:Nl,fetch:em},Symbol.toStringTag,{value:"Module"})),rm=Vu(Gt);var jr={};Object.defineProperty(jr,"__esModule",{value:!0});class nm extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}jr.default=nm;var Sl=we&&we.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wr,"__esModule",{value:!0});const im=Sl(rm),am=Sl(jr);let om=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=im.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=Object.assign({},this.headers),this.headers[e]=s,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c;let d=null,u=null,h=null,m=a.status,f=a.statusText;if(a.ok){if(this.method!=="HEAD"){const b=await a.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=b:u=JSON.parse(b))}const y=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,m=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const y=await a.text();try{d=JSON.parse(y),Array.isArray(d)&&a.status===404&&(u=[],d=null,m=200,f="OK")}catch{a.status===404&&y===""?(m=204,f="No Content"):d={message:y}}if(d&&this.isMaybeSingle&&(!((c=d?.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,m=200,f="OK"),d&&this.shouldThrowOnError)throw new am.default(d)}return{error:d,data:u,count:h,status:m,statusText:f}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,l,c;return{error:{message:`${(o=a?.name)!==null&&o!==void 0?o:"FetchError"}: ${a?.message}`,details:`${(l=a?.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,s)}};wr.default=om;var lm=we&&we.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vr,"__esModule",{value:!0});const cm=lm(wr);let dm=class extends cm.default{select(e){let s=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!s?"":(i==='"'&&(s=!s),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:s=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:r=s}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,s,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:s=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,s?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};vr.default=dm;var um=we&&we.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(As,"__esModule",{value:!0});const hm=um(vr);let mm=class extends hm.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const r=Array.from(new Set(s)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(e,s,r){return this.url.searchParams.append(e,`not.${s}.${r}`),this}or(e,{foreignTable:s,referencedTable:r=s}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,s,r){return this.url.searchParams.append(e,`${s}.${r}`),this}};As.default=mm;var pm=we&&we.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(br,"__esModule",{value:!0});const Qt=pm(As);let fm=class{constructor(e,{headers:s={},schema:r,fetch:i}){this.url=e,this.headers=s,this.schema=r,this.fetch=i}select(e,{head:s=!1,count:r}={}){const i=s?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Qt.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:s,defaultToNull:r=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Qt.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:s,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const c=e.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Qt.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:s}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),this.headers.Prefer=i.join(","),new Qt.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const s="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Qt.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};br.default=fm;var Nr={},kr={};Object.defineProperty(kr,"__esModule",{value:!0});kr.version=void 0;kr.version="0.0.0-automated";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.DEFAULT_HEADERS=void 0;const gm=kr;Nr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${gm.version}`};var _l=we&&we.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ri,"__esModule",{value:!0});const xm=_l(br),ym=_l(As),bm=Nr;let vm=class Pl{constructor(e,{headers:s={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},bm.DEFAULT_HEADERS),s),this.schemaName=r,this.fetch=i}from(e){const s=new URL(`${this.url}/${e}`);return new xm.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Pl(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:i=!1,count:a}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let c;r||i?(o=r?"HEAD":"GET",Object.entries(s).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{l.searchParams.append(u,h)})):(o="POST",c=s);const d=Object.assign({},this.headers);return a&&(d.Prefer=`count=${a}`),new ym.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};ri.default=vm;var qt=we&&we.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ce,"__esModule",{value:!0});ce.PostgrestError=ce.PostgrestBuilder=ce.PostgrestTransformBuilder=ce.PostgrestFilterBuilder=ce.PostgrestQueryBuilder=ce.PostgrestClient=void 0;const Cl=qt(ri);ce.PostgrestClient=Cl.default;const Tl=qt(br);ce.PostgrestQueryBuilder=Tl.default;const Al=qt(As);ce.PostgrestFilterBuilder=Al.default;const El=qt(vr);ce.PostgrestTransformBuilder=El.default;const Rl=qt(wr);ce.PostgrestBuilder=Rl.default;const Il=qt(jr);ce.PostgrestError=Il.default;var wm=ce.default={PostgrestClient:Cl.default,PostgrestQueryBuilder:Tl.default,PostgrestFilterBuilder:Al.default,PostgrestTransformBuilder:El.default,PostgrestBuilder:Rl.default,PostgrestError:Il.default};const{PostgrestClient:jm,PostgrestQueryBuilder:mN,PostgrestFilterBuilder:pN,PostgrestTransformBuilder:fN,PostgrestBuilder:gN}=wm,Nm="2.10.7",km={"X-Client-Info":`realtime-js/${Nm}`},Sm="1.0.0",Dl=1e4,_m=1e3;var Ot;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ot||(Ot={}));var pe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pe||(pe={}));var Se;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Se||(Se={}));var pn;(function(t){t.websocket="websocket"})(pn||(pn={}));var at;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(at||(at={}));class Pm{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const i=s.getUint8(1),a=s.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+i));o=o+i;const c=r.decode(e.slice(o,o+a));o=o+a;const d=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class Ol{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var G;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(G||(G={}));const Yi=(t,e,s={})=>{var r;const i=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,o)=>(a[o]=Cm(o,t,e,i),a),{})},Cm=(t,e,s,r)=>{const i=e.find(l=>l.name===t),a=i?.type,o=s[t];return a&&!r.includes(a)?Ll(a,o):fn(o)},Ll=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return Rm(e,s)}switch(t){case G.bool:return Tm(e);case G.float4:case G.float8:case G.int2:case G.int4:case G.int8:case G.numeric:case G.oid:return Am(e);case G.json:case G.jsonb:return Em(e);case G.timestamp:return Im(e);case G.abstime:case G.date:case G.daterange:case G.int4range:case G.int8range:case G.money:case G.reltime:case G.text:case G.time:case G.timestamptz:case G.timetz:case G.tsrange:case G.tstzrange:return fn(e);default:return fn(e)}},fn=t=>t,Tm=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Am=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Em=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Rm=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let a;const o=t.slice(1,s);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>Ll(e,l))}return t},Im=t=>typeof t=="string"?t.replace(" ","T"):t,Ml=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class $r{constructor(e,s,r={},i=Dl){this.channel=e,this.event=s,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Zi;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Zi||(Zi={}));class ls{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ls.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=ls.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ls.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,i){const a=this.cloneDeep(e),o=this.transformState(s),l={},c={};return this.map(a,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=a[d];if(h){const m=u.map(x=>x.presence_ref),f=h.map(x=>x.presence_ref),g=u.filter(x=>f.indexOf(x.presence_ref)<0),y=h.filter(x=>m.indexOf(x.presence_ref)<0);g.length>0&&(l[d]=g),y.length>0&&(c[d]=y)}else l[d]=u}),this.syncDiff(a,{joins:l,leaves:c},r,i)}static syncDiff(e,s,r,i){const{joins:a,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var d;const u=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(c),u.length>0){const h=e[l].map(f=>f.presence_ref),m=u.filter(f=>h.indexOf(f.presence_ref)<0);e[l].unshift(...m)}r(l,u,c)}),this.map(o,(l,c)=>{let d=e[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),e[l]=d,i(l,d,c),d.length===0&&delete e[l]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const i=e[r];return"metas"in i?s[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):s[r]=i,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ea;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ea||(ea={}));var ta;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ta||(ta={}));var sa;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(sa||(sa={}));class ni{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new $r(this,Se.join,this.params,this.timeout),this.rejoinTimer=new Ol(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pe.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Se.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new ls(this),this.broadcastEndpointURL=Ml(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:o,private:l}}=this.params;this._onError(u=>e&&e("CHANNEL_ERROR",u)),this._onClose(()=>e&&e("CLOSED"));const c={},d={broadcast:a,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessToken&&(c.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",({postgres_changes:u})=>{var h;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){e&&e("SUBSCRIBED");return}else{const m=this.bindings.postgres_changes,f=(h=m?.length)!==null&&h!==void 0?h:0,g=[];for(let y=0;y<f;y++){const x=m[y],{filter:{event:b,schema:v,table:w,filter:N}}=x,k=u&&u[y];if(k&&k.event===b&&k.schema===v&&k.table===w&&k.filter===N)g.push(Object.assign(Object.assign({},x),{id:k.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e("SUBSCRIBED");return}}).receive("error",u=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this._on(e,s,r)}async send(e,s={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const d=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Se.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new $r(this,Se.leave,{},e);i.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,s,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:i.signal}));return clearTimeout(a),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new $r(this,e,s,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var i,a;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Se;if(r&&[l,c,d,u].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,s,r);if(s&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var g,y,x;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((x=(y=f.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(f=>f.callback(m,r)):(a=this.bindings[o])===null||a===void 0||a.filter(f=>{var g,y,x,b,v,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const N=f.id,k=(g=f.filter)===null||g===void 0?void 0:g.event;return N&&((y=s.ids)===null||y===void 0?void 0:y.includes(N))&&(k==="*"||k?.toLocaleLowerCase()===((x=s.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const N=(v=(b=f?.filter)===null||b===void 0?void 0:b.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return N==="*"||N===((w=s?.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof m=="object"&&"ids"in m){const g=m.data,{schema:y,table:x,commit_timestamp:b,type:v,errors:w}=g;m=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:b,eventType:v,new:{},old:{},errors:w}),this._getPayloadRecords(g))}f.callback(m,r)})}_isClosed(){return this.state===pe.closed}_isJoined(){return this.state===pe.joined}_isJoining(){return this.state===pe.joining}_isLeaving(){return this.state===pe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const i=e.toLocaleLowerCase(),a={type:i,filter:s,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&ni.isEqual(i.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Se.close,{},e)}_onError(e){this._on(Se.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Yi(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Yi(e.columns,e.old_record)),s}}const Dm=()=>{},Om=typeof WebSocket<"u",Lm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Mm{constructor(e,s){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=km,this.params={},this.timeout=Dl,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Dm,this.conn=null,this.sendBuffer=[],this.serializer=new Pm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>Mt(async()=>{const{default:c}=await Promise.resolve().then(()=>Gt);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${pn.websocket}`,this.httpEndpoint=Ml(e),s?.transport?this.transport=s.transport:this.transport=null,s?.params&&(this.params=s.params),s?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s?.timeout&&(this.timeout=s.timeout),s?.logger&&(this.logger=s.logger),s?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const i=(r=s?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessToken=i,this.apiKey=i),this.reconnectAfterMs=s?.reconnectAfterMs?s.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=s?.encode?s.encode:(a,o)=>o(JSON.stringify(a)),this.decode=s?.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ol(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s?.fetch),s?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=s?.worker||!1,this.workerUrl=s?.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Om){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Fm(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Mt(async()=>{const{default:e}=await import("./browser-BQgVlTjv.js").then(s=>s.b);return{default:e}},__vite__mapDeps([0,1])).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ot.connecting:return at.Connecting;case Ot.open:return at.Open;case Ot.closing:return at.Closing;default:return at.Closed}}isConnected(){return this.connectionState()===at.Open}channel(e,s={config:{}}){const r=new ni(`realtime:${e}`,s,this);return this.channels.push(r),r}push(e){const{topic:s,event:r,payload:i,ref:a}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${s} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(s=>{e&&s.updateJoinPayload({access_token:e}),s.joinedOnce&&s._isJoined()&&s._push(Se.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Sm}))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:r,event:i,payload:a,ref:o}=s;(o&&o===this.pendingHeartbeatRef||i===a?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,a),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,a,o)),this.stateChangeCallbacks.message.forEach(l=>l(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Se.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(s);return`${e}${r}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(_m,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([Lm],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class Fm{constructor(e,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ot.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class ii extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Y(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class $m extends ii{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class gn extends ii{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Bm=function(t,e,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};const Fl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Mt(async()=>{const{default:r}=await Promise.resolve().then(()=>Gt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Vm=()=>Bm(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Mt(()=>Promise.resolve().then(()=>Gt),void 0)).Response:Response}),xn=t=>{if(Array.isArray(t))return t.map(s=>xn(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const i=s.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=xn(r)}),e};var ft=function(t,e,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};const Br=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Um=(t,e,s)=>ft(void 0,void 0,void 0,function*(){const r=yield Vm();t instanceof r&&!s?.noResolveJson?t.json().then(i=>{e(new $m(Br(i),t.status||500))}).catch(i=>{e(new gn(Br(i),i))}):e(new gn(Br(t),t))}),Gm=(t,e,s,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),s))};function Es(t,e,s,r,i,a){return ft(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(s,Gm(e,r,i,a)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Um(c,l,r))})})}function sr(t,e,s,r){return ft(this,void 0,void 0,function*(){return Es(t,"GET",e,s,r)})}function ze(t,e,s,r,i){return ft(this,void 0,void 0,function*(){return Es(t,"POST",e,r,i,s)})}function qm(t,e,s,r,i){return ft(this,void 0,void 0,function*(){return Es(t,"PUT",e,r,i,s)})}function zm(t,e,s,r){return ft(this,void 0,void 0,function*(){return Es(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function $l(t,e,s,r,i){return ft(this,void 0,void 0,function*(){return Es(t,"DELETE",e,r,i,s)})}var le=function(t,e,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};const Wm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ra={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Hm{constructor(e,s={},r,i){this.url=e,this.headers=s,this.bucketId=r,this.fetch=Fl(i)}uploadOrUpdate(e,s,r,i){return le(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},ra),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i?.headers&&(l=Object.assign(Object.assign({},l),i.headers));const d=this._removeEmptyFolders(s),u=this._getFinalPath(d),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:a,headers:l},o?.duplex?{duplex:o.duplex}:{})),m=yield h.json();return h.ok?{data:{path:d,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(a){if(Y(a))return{data:null,error:a};throw a}})}upload(e,s,r){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,i){return le(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",s);try{let c;const d=Object.assign({upsert:ra.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:u}),m=yield h.json();return h.ok?{data:{path:a,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(Y(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,s){return le(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);s?.upsert&&(i["x-upsert"]="true");const a=yield ze(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new ii("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}})}update(e,s,r){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return le(this,void 0,void 0,function*(){try{return{data:yield ze(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Y(i))return{data:null,error:i};throw i}})}copy(e,s,r){return le(this,void 0,void 0,function*(){try{return{data:{path:(yield ze(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Y(i))return{data:null,error:i};throw i}})}createSignedUrl(e,s,r){return le(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield ze(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:s},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(Y(i))return{data:null,error:i};throw i}})}createSignedUrls(e,s,r){return le(this,void 0,void 0,function*(){try{const i=yield ze(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(Y(i))return{data:null,error:i};throw i}})}download(e,s){return le(this,void 0,void 0,function*(){const i=typeof s?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(s?.transform||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield sr(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Y(l))return{data:null,error:l};throw l}})}info(e){return le(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield sr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:xn(r),error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}})}exists(e){return le(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield zm(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Y(r)&&r instanceof gn){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),i=[],a=s?.download?`download=${s.download===!0?"":s.download}`:"";a!==""&&i.push(a);const l=typeof s?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(s?.transform||{});c!==""&&i.push(c);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}remove(e){return le(this,void 0,void 0,function*(){try{return{data:yield $l(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}})}list(e,s,r){return le(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Wm),s),{prefix:e||""});return{data:yield ze(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Y(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Km="2.7.1",Jm={"X-Client-Info":`storage-js/${Km}`};var yt=function(t,e,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};class Xm{constructor(e,s={},r){this.url=e,this.headers=Object.assign(Object.assign({},Jm),s),this.fetch=Fl(r)}listBuckets(){return yt(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Y(e))return{data:null,error:e};throw e}})}getBucket(e){return yt(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return yt(this,void 0,void 0,function*(){try{return{data:yield ze(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return yt(this,void 0,void 0,function*(){try{return{data:yield qm(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}})}emptyBucket(e){return yt(this,void 0,void 0,function*(){try{return{data:yield ze(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}})}deleteBucket(e){return yt(this,void 0,void 0,function*(){try{return{data:yield $l(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}})}}class Qm extends Xm{constructor(e,s={},r){super(e,s,r)}from(e){return new Hm(this.url,this.headers,e,this.fetch)}}const Ym="2.46.1";let is="";typeof Deno<"u"?is="deno":typeof document<"u"?is="web":typeof navigator<"u"&&navigator.product==="ReactNative"?is="react-native":is="node";const Zm={"X-Client-Info":`supabase-js-${is}/${Ym}`},ep={headers:Zm},tp={schema:"public"},sp={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rp={};var np=function(t,e,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};const ip=t=>{let e;return t?e=t:typeof fetch>"u"?e=Nl:e=fetch,(...s)=>e(...s)},ap=()=>typeof Headers>"u"?kl:Headers,op=(t,e,s)=>{const r=ip(s),i=ap();return(a,o)=>np(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let d=new i(o?.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),r(a,Object.assign(Object.assign({},o),{headers:d}))})};var lp=function(t,e,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};function cp(t){return t.replace(/\/$/,"")}function dp(t,e){const{db:s,auth:r,realtime:i,global:a}=t,{db:o,auth:l,realtime:c,global:d}=e,u={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},c),i),global:Object.assign(Object.assign({},d),a),accessToken:()=>lp(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const Bl="2.65.1",up="http://localhost:9999",hp="supabase.auth.token",mp={"X-Client-Info":`gotrue-js/${Bl}`},na=10,yn="X-Supabase-Api-Version",Vl={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function pp(t){return Math.round(Date.now()/1e3)+t}function fp(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ke=()=>typeof document<"u",Ye={tested:!1,writable:!1},cs=()=>{if(!ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ye.tested)return Ye.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ye.tested=!0,Ye.writable=!0}catch{Ye.tested=!0,Ye.writable=!1}return Ye.writable};function Vr(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return s.searchParams.forEach((r,i)=>{e[i]=r}),e}const Ul=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Mt(async()=>{const{default:r}=await Promise.resolve().then(()=>Gt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},gp=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Gl=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},Bs=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Vs=async(t,e)=>{await t.removeItem(e)};function xp(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",r,i,a,o,l,c,d,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)o=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),d=e.indexOf(t.charAt(u++)),r=o<<2|l>>4,i=(l&15)<<4|c>>2,a=(c&3)<<6|d,s=s+String.fromCharCode(r),c!=64&&i!=0&&(s=s+String.fromCharCode(i)),d!=64&&a!=0&&(s=s+String.fromCharCode(a));return s}class Sr{constructor(){this.promise=new Sr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Sr.promiseConstructor=Promise;function ia(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=t.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=s[1];return JSON.parse(xp(r))}async function yp(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function bp(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){r(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function vp(t){return("0"+t.toString(16)).substr(-2)}function wp(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let i="";for(let a=0;a<56;a++)i+=s.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,vp).join("")}async function jp(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}function Np(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kp(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await jp(t);return Np(s)}async function bt(t,e,s=!1){const r=wp();let i=r;s&&(i+="/PASSWORD_RECOVERY"),await Gl(t,`${e}-code-verifier`,i);const a=await kp(r);return[a,r===a?"plain":"s256"]}const Sp=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _p(t){const e=t.headers.get(yn);if(!e||!e.match(Sp))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class ai extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function M(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Pp extends ai{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Cp(t){return M(t)&&t.name==="AuthApiError"}class ql extends ai{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class gt extends ai{constructor(e,s,r,i){super(e,r,i),this.name=s,this.status=r}}class Ue extends gt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Tp(t){return M(t)&&t.name==="AuthSessionMissingError"}class Ur extends gt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Us extends gt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Gs extends gt{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class aa extends gt{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bn extends gt{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Gr(t){return M(t)&&t.name==="AuthRetryableFetchError"}class oa extends gt{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}var Ap=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(s[r[i]]=t[r[i]]);return s};const st=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ep=[502,503,504];async function la(t){var e;if(!gp(t))throw new bn(st(t),0);if(Ep.includes(t.status))throw new bn(st(t),t.status);let s;try{s=await t.json()}catch(a){throw new ql(st(a),a)}let r;const i=_p(t);if(i&&i.getTime()>=Vl["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new oa(st(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ue}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new oa(st(s),t.status,s.weak_password.reasons);throw new Pp(st(s),t.status||500,r)}const Rp=(t,e,s,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),s))};async function $(t,e,s,r){var i;const a=Object.assign({},r?.headers);a[yn]||(a[yn]=Vl["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Ip(t,e,s+l,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}async function Ip(t,e,s,r,i,a){const o=Rp(e,r,i,a);let l;try{l=await t(s,Object.assign({},o))}catch(c){throw console.error(c),new bn(st(c),0)}if(l.ok||await la(l),r?.noResolveJson)return l;try{return await l.json()}catch(c){await la(c)}}function Ge(t){var e;let s=null;Mp(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=pp(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function ca(t){const e=Ge(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function We(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Dp(t){return{data:t,error:null}}function Op(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:i,verification_type:a}=t,o=Ap(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:s,hashed_token:r,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Lp(t){return t}function Mp(t){return t.access_token&&t.refresh_token&&t.expires_in}var Fp=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(s[r[i]]=t[r[i]]);return s};class $p{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=Ul(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await $(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await $(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:We})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=Fp(e,["options"]),i=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await $(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Op,redirectTo:s?.redirectTo})}catch(s){if(M(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await $(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:We})}catch(s){if(M(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,i,a,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await $(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Lp});if(u.error)throw u.error;const h=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);d[`${x}Page`]=y}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(M(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){try{return await $(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:We})}catch(s){if(M(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await $(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:We})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){try{return await $(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:We})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:s,error:r}=await $(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:s,error:r}}catch(s){if(M(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await $(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(M(s))return{data:null,error:s};throw s}}}const Bp={getItem:t=>cs()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{cs()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{cs()&&globalThis.localStorage.removeItem(t)}};function da(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function Vp(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const vt={debug:!!(globalThis&&cs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zl extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Up extends zl{}async function Gp(t,e,s){vt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),vt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){vt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await s()}finally{vt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw vt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Up(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(vt.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}})}Vp();const qp={url:up,storageKey:hp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mp,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Yt=30*1e3,ua=3;async function ha(t,e,s){return await s()}class xs{constructor(e){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=xs.nextInstanceID,xs.nextInstanceID+=1,this.instanceID>0&&ke()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},qp),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new $p({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Ul(i.fetch),this.lock=i.lock||ha,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ke()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=Gp:this.lock=ha,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:cs()?this.storage=Bp:(this.memoryStorage={},this.storage=da(this.memoryStorage)):(this.memoryStorage={},this.storage=da(this.memoryStorage)),ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Bl}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=ke()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:s,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),r?.code==="identity_already_exists"?{error:r}:(await this._removeSession(),{error:r});const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return M(e)?{error:e}:{error:new ql("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,i;try{const a=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e?.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ge}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(M(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var s,r,i;try{let a;if("email"in e){const{email:u,password:h,options:m}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await bt(this.storage,this.storageKey)),a=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m?.emailRedirectTo,body:{email:u,password:h,data:(s=m?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:f,code_challenge_method:g},xform:Ge})}else if("phone"in e){const{phone:u,password:h,options:m}=e;a=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(r=m?.data)!==null&&r!==void 0?r:{},channel:(i=m?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Ge})}else throw new Us("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(M(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let s;if("email"in e){const{email:a,password:o,options:l}=e;s=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:ca})}else if("phone"in e){const{phone:a,password:o,options:l}=e;s=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:ca})}else throw new Us("You must provide either an email or phone number and a password");const{data:r,error:i}=s;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ur}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await Bs(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(s??"").split("/");try{const{data:a,error:o}=await $(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Ge});if(await Vs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Ur}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(M(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:s,provider:r,token:i,access_token:a,nonce:o}=e,l=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Ge}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ur}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,i,a,o;try{if("email"in e){const{email:l,options:c}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await bt(this.storage,this.storageKey));const{error:h}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(s=c?.data)!==null&&s!==void 0?s:{},create_user:(r=c?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:d,error:u}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c?.data)!==null&&i!==void 0?i:{},create_user:(a=c?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(o=c?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:u}}throw new Us("You must provide either an email or phone number.")}catch(l){if(M(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var s,r;try{let i,a;"options"in e&&(i=(s=e.options)===null||s===void 0?void 0:s.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await $(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ge});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var s,r,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await bt(this.storage,this.storageKey)),await $(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:Dp})}catch(a){if(M(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new Ue;const{error:i}=await $(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(M(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:o}=await $(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:o,error:l}=await $(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:l}}throw new Us("You must provide either an email or phone number and a type")}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Bs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:We}):await this._useSession(async s=>{var r,i,a;const{data:o,error:l}=s;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ue}:await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:We})})}catch(s){if(M(s))return Tp(s)&&(await this._removeSession(),await Vs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Ue;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await bt(this.storage,this.storageKey));const{data:d,error:u}=await $(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:We});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return ia(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ue;const s=Date.now()/1e3;let r=s,i=!0,a=null;const o=ia(e.access_token);if(o.exp&&(r=o.exp,i=r<=s),i){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(s){if(M(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:l}=s;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new Ue;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e){try{if(!ke())throw new Gs("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Gs("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new aa("Not a valid PKCE flow url.");const s=Vr(window.location.href);if(e){if(!s.code)throw new aa("No code detected.");const{data:v,error:w}=await this._exchangeCodeForSession(s.code);if(w)throw w;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:v.session,redirectType:null},error:null}}if(s.error||s.error_description||s.error_code)throw new Gs(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=s;if(!a||!l||!o||!d)throw new Gs("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let m=u+h;c&&(m=parseInt(c));const f=m-u;f*1e3<=Yt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const g=m-h;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,m,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,m,u);const{data:y,error:x}=await this._getUser(a);if(x)throw x;const b={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:h,expires_at:m,refresh_token:o,token_type:d,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:s.type},error:null}}catch(s){if(M(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantFlow(){const e=Vr(window.location.href);return!!(ke()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=Vr(window.location.href),s=await Bs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:i,error:a}=s;if(a)return{error:a};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Cp(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Vs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=fp(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,i;try{const{data:{session:a},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,s={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await bt(this.storage,this.storageKey,!0));try{return await $(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(a){if(M(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(M(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:i}=await this._useSession(async a=>{var o,l,c,d,u;const{data:h,error:m}=a;if(m)throw m;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await $(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return ke()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:e.provider,url:r?.url},error:null}}catch(r){if(M(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,i;const{data:a,error:o}=s;if(o)throw o;return await $(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(s){if(M(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await bp(async i=>(i>0&&await yp(200*Math.pow(2,i-1)),this._debug(s,"refreshing attempt",i),await $(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ge})),(i,a)=>{const o=200*Math.pow(2,i);return a&&Gr(a)&&Date.now()+o-r<Yt})}catch(r){if(this._debug(s,"error",r),M(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),ke()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await Bs(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),a=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<i+na;if(this._debug(s,`session has${a?"":" not"} expired with margin of ${na}s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Gr(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new Ue;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Sr;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new Ue;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),M(a)){const o={session:null,error:a};return Gr(a)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,s,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,s)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Gl(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Vs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ke()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Yt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Yt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Yt}ms, refresh threshold is ${ua} ticks`),i<=ua&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof zl)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ke()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const i=[`provider=${encodeURIComponent(s)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await bt(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:i,error:a}=s;return a?{data:null,error:a}:await $(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(M(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,i;const{data:a,error:o}=s;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:d}=await $(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((i=c?.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(s){if(M(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:i,error:a}=s;if(a)return{data:null,error:a};const{data:o,error:l}=await $(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(s){if(M(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:i,error:a}=s;return a?{data:null,error:a}:await $(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(M(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=e?.factors||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(s=i.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}}xs.nextInstanceID=0;const zp=xs;class Wp extends zp{constructor(e){super(e)}}var Hp=function(t,e,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};class Kp{constructor(e,s,r){var i,a,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const l=cp(e);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,d={db:tp,realtime:rp,auth:Object.assign(Object.assign({},sp),{storageKey:c}),global:ep},u=dp(r??{},d);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=u.global.headers)!==null&&a!==void 0?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=op(s,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},u.realtime)),this.rest=new jm(`${l}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Yh(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Qm(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return Hp(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:i,storageKey:a,flowType:o,lock:l,debug:c},d,u){var h;const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Wp({url:this.authUrl,headers:Object.assign(Object.assign({},m),d),storageKey:a,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:i,flowType:o,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:(h="Authorization"in this.headers)!==null&&h!==void 0?h:!1})}_initRealtimeClient(e){return new Mm(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r?.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Rs=(t,e,s)=>new Kp(t,e,s),Wl="https://prwzpyrplldwpsydmxkb.supabase.co",Jp="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InByd3pweXJwbGxkd3BzeWRteGtiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzIxNDAzNTgsImV4cCI6MjA0NzcxNjM1OH0.RK-0gSUcBBqJ-ep7Ti_wttEUnQImbFt7AJJSNfwpMao",Xp="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InByd3pweXJwbGxkd3BzeWRteGtiIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTczMjE0MDM1OCwiZXhwIjoyMDQ3NzE2MzU4fQ.MWCfVOx6rAcGHDiVnD0-t-Vte3tvERH5z3sSeqU0l-Q",Z=Rs(Wl,Jp),Hl=Rs(Wl,Xp,{auth:{autoRefreshToken:!1,persistSession:!1}}),qr=Hl;class Kl{constructor(){this.listeners=[],this.PFP_STORAGE_KEY="player_pfp_traits"}addEventListener(e){this.listeners.push(e)}removeEventListener(e){this.listeners=this.listeners.filter(s=>s!==e)}emit(e){this.listeners.forEach(s=>s(e))}validateWalletAddress(e){try{return e.includes("-")||e.startsWith("guest_")?e:new Qu(e).toString()}catch(s){return console.error("Invalid wallet address:",s),null}}async retryOperation(e,s=3){let r;for(let i=1;i<=s;i++)try{return await e()}catch(a){if(r=a,a?.code==="PGRST116"||a?.code?.includes("auth"))break;console.warn(`Operation failed (attempt ${i}/${s}):`,a),i<s&&await new Promise(o=>setTimeout(o,i*1e3))}throw r}getPFPTraits(){try{const e=localStorage.getItem(this.PFP_STORAGE_KEY);return e?JSON.parse(e):{}}catch(e){return console.error("Error reading PFP traits:",e),{}}}savePFPTraits(e){try{localStorage.setItem(this.PFP_STORAGE_KEY,JSON.stringify(e))}catch(s){console.error("Error saving PFP traits:",s)}}async getPlayer(e){try{const s=this.validateWalletAddress(e);if(!s)return null;const{data:r,error:i}=await this.retryOperation(async()=>await Z.from("players").select("*").eq("wallet_address",s).maybeSingle());if(i)throw i;if(r){const a=this.getPFPTraits();a[s]&&(r.pfp_traits=a[s])}return r}catch(s){return console.error("Error getting player:",s),null}}async createOrUpdatePlayer(e){try{const s=this.validateWalletAddress(e.walletAddress);if(!s)throw new Error("Invalid wallet address");const{data:r}=await Z.from("players").select("*").eq("wallet_address",s).maybeSingle();if(r){const l=new Date(r.updated_at||0);if((new Date().getTime()-l.getTime())/(1e3*60*60*24)<1)return r}const i={wallet_address:s,user_id:e.userId,xp:r?.xp||0,quests_completed:r?.quests_completed||0,raid_bosses_defeated:r?.raid_bosses_defeated||0,show_wallet:r?.show_wallet??!0,date_joined:r?.date_joined||new Date().toISOString(),last_quest_completion_time:r?.last_quest_completion_time||null,archetype:r?.archetype||null,discord_handle:r?.discord_handle||null,updated_at:new Date().toISOString()},{data:a,error:o}=await Z.from("players").upsert(i,{onConflict:"wallet_address"}).select().single();return o?(console.error("Error upserting player:",o),null):a}catch(s){return console.error("Error in createOrUpdatePlayer:",s),null}}async updatePlayerStats(e,s){try{const r=this.validateWalletAddress(e);if(!r)throw new Error("Invalid wallet address");const{data:i,error:a}=await qr.from("players").select("*").eq("wallet_address",r).single();if(a)throw console.error("Error fetching player:",a),a;if(!i){const d={wallet_address:r,xp:s.xp||0,quests_completed:s.quests_completed||0,date_joined:new Date().toISOString(),updated_at:new Date().toISOString()},{data:u,error:h}=await qr.from("players").insert([d]).select().single();if(h)throw console.error("Error creating player:",h),h;return u}const o={xp:s.xp!==void 0?s.xp:i.xp,quests_completed:s.quests_completed!==void 0?s.quests_completed:i.quests_completed,updated_at:new Date().toISOString()},{data:l,error:c}=await qr.from("players").update(o).eq("wallet_address",r).select().single();if(c)throw console.error("Error updating player:",c),c;return l}catch(r){throw console.error("Error in updatePlayerStats:",r),r}}async updatePlayerPFP(e,s){try{const r=this.validateWalletAddress(e);if(!r)throw new Error("Invalid wallet address");if(!await this.getPlayer(r)&&!await this.createOrUpdatePlayer(r))throw new Error("Failed to create player profile");const a=this.getPFPTraits();a[r]=s,this.savePFPTraits(a);const o=await this.getPlayer(r);if(!o)throw new Error("Failed to update player PFP");return this.emit(o),o}catch(r){throw console.error("Error updating player PFP:",r),r}}async getPlayerPFP(e){const s=this.validateWalletAddress(e);return s&&this.getPFPTraits()[s]||null}async getLeaderboard(){try{const{data:e,error:s}=await Z.from("players").select("*").order("xp",{ascending:!1}).limit(100);if(s)throw s;return e||[]}catch(e){throw console.error("Error fetching leaderboard:",e),e}}}const H=new Kl,Jl=p.createContext(void 0),Is=()=>{const t=p.useContext(Jl);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Qp=({children:t})=>{const{publicKey:e,signMessage:s,disconnect:r}=U(),[i,a]=p.useState(!1),[o,l]=p.useState(null),[c,d]=p.useState(!1),[u,h]=p.useState(!1);p.useEffect(()=>{h(e?e.toString()==="8jN1XtgiuWeyNjzysYVqGZ1mPAG37sjmuCTnENz66wrs":!1)},[e]),p.useEffect(()=>{const g=async()=>{try{const{data:{session:x}}=await Z.auth.getSession(),b=!!x&&!!e;console.log("Session check:",{session:x,publicKey:e?.toString(),isAuthed:b}),a(b),l(x?.user?.id||null)}catch(x){console.error("Session check error:",x),a(!1)}finally{d(!1)}},{data:{subscription:y}}=Z.auth.onAuthStateChange(async(x,b)=>{const v=!!b&&!!e;console.log("Auth state change:",{event:x,session:b,publicKey:e?.toString(),isAuthed:v}),a(v),l(b?.user?.id||null)});return g(),()=>{y.unsubscribe()}},[e]);const m=async()=>{if(!e||!s)throw new Error("Wallet not connected");try{d(!0);const g=new TextEncoder().encode("Sign in to RaidRally"),y=await s(g),x=Yu.encode(y),b=e.toBase58(),v=`${b}@raidrally.io`;console.log("Starting authentication...",{publicKeyBase58:b});const{data:{session:w}}=await Z.auth.getSession();if(w){console.log("Using existing session:",w),a(!0),l(w.user?.id||null);return}const{data:N,error:k}=await Z.auth.signInWithPassword({email:v,password:x.slice(0,72)});if(!k&&N.session){console.log("Successfully signed in with existing credentials"),a(!0),l(N.session.user.id);return}console.log("Creating new user...");const{data:{user:T},error:I}=await Z.auth.admin.createUser({email:v,password:x.slice(0,72),email_confirm:!0,user_metadata:{wallet_address:b}});if(I)if(I.message.includes("already been registered")){console.log("User exists but password may be different, updating password...");const{error:A}=await Z.auth.admin.updateUserById(existingUser?.id||"",{password:x.slice(0,72)});if(A)throw A}else throw I;const{data:{session:C},error:F}=await Z.auth.signInWithPassword({email:v,password:x.slice(0,72)});if(F)throw F;if(!C)throw new Error("Failed to create session");console.log("Session established:",C),a(!0),l(C.user.id);try{await H.createOrUpdatePlayer({walletAddress:b,userId:C.user.id})}catch(A){console.error("Error updating player:",A)}}catch(g){throw console.error("Authentication failed:",g),a(!1),l(null),g}finally{d(!1)}},f=async()=>{try{d(!0),await Z.auth.signOut(),await r(),a(!1),l(null)}catch(g){throw console.error("Sign out error:",g),g}finally{d(!1)}};return n.jsx(Jl.Provider,{value:{isAuthenticated:i,userId:o,isLoading:c,isAdmin:u,signIn:m,signOut:f},children:t})};class Yp extends p.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,s){console.error("Uncaught error:",e,s)}render(){return this.state.hasError?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-radial from-primary-main/5 via-primary-main/10 to-transparent",children:n.jsxs("div",{className:"gradient-box p-8 max-w-md mx-auto text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-text-light-primary dark:text-white mb-4",children:"Something went wrong"}),n.jsx("p",{className:"text-text-light-secondary dark:text-text-dark-secondary mb-6",children:"We apologize for the inconvenience. Please try refreshing the page."}),n.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-primary-main hover:bg-primary-main/90 text-white rounded-lg transition-colors shadow-glow",children:"Refresh Page"})]})}):this.props.children}}const Zp=()=>{const{pathname:t}=Xn();return p.useEffect(()=>{window.scrollTo(0,0)},[t]),null},Xl=()=>{const{connected:t}=U(),{isAuthenticated:e,isLoading:s,error:r}=Is(),[i,a]=p.useState("disconnected");return p.useEffect(()=>{t?s?a("authenticating"):e?a("connected"):r&&a("error"):a("disconnected")},[t,s,e,r]),n.jsxs("div",{className:"wallet-connect",children:[n.jsx(el,{}),r&&n.jsx("div",{className:"error-message",children:r.message}),i==="authenticating"&&n.jsx("div",{className:"status-message",children:"Authenticating..."})]})},zr={public:[{icon:Zu,label:"Home",path:"/"},{icon:sl,label:"Info",path:"/info"},{icon:eh,label:"NFT Builder",path:"/nft-builder"},{icon:he,label:"Leaderboards",path:"/leaderboards"}],protected:[{icon:th,label:"Raid",path:"/raid"},{icon:W,label:"Guild",path:"/guild"},{icon:Qn,label:"Profile",path:"/profile"},{icon:Xi,label:"Settings",path:"/settings"}],admin:[{icon:Xi,label:"Admin Panel",path:"/admin"}]},ma=()=>{const{connected:t,publicKey:e}=U(),s=Xn(),[r,i]=p.useState(!1),a=p.useRef(null),o=e?.toString()==="8jN1XtgiuWeyNjzysYVqGZ1mPAG37sjmuCTnENz66wrs",l=[...zr.public,...t?zr.protected:[],...o?zr.admin:[]];p.useEffect(()=>{d()},[s.pathname]),p.useEffect(()=>{const u=h=>{a.current&&!a.current.contains(h.target)&&d()};return r&&(document.addEventListener("mousedown",u),document.addEventListener("touchstart",u)),()=>{document.removeEventListener("mousedown",u),document.removeEventListener("touchstart",u)}},[r]);const c=()=>{i(!r),document.body.style.overflow=r?"unset":"hidden"},d=()=>{i(!1),document.body.style.overflow="unset"};return n.jsxs(n.Fragment,{children:[n.jsx("nav",{className:"hidden lg:block",children:n.jsx("ul",{className:"flex items-center justify-center gap-6",children:l.map(({icon:u,label:h,path:m})=>n.jsx("li",{children:n.jsxs(Ji,{to:m,className:({isActive:f})=>`flex items-center gap-2 px-3 py-2 rounded-lg text-base font-medium transition-colors duration-300
                   ${f?"text-primary-main dark:text-orange-500 bg-primary-main/10":"text-text-light-primary dark:text-white/90 hover:text-primary-main dark:hover:text-orange-500 hover:bg-primary-main/5"}`,children:[n.jsx(u,{className:"w-5 h-5"}),h]})},m))})}),n.jsxs("div",{className:"lg:hidden",children:[n.jsx("button",{onClick:c,className:"p-2 text-primary-main dark:text-orange-500 hover:bg-primary-main/10 rounded-lg transition-colors","aria-label":"Toggle menu",children:n.jsx(sh,{className:"w-5 h-5"})}),r&&n.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden flex flex-col justify-end",children:[n.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:d}),n.jsx("div",{ref:a,className:"relative bg-white dark:bg-background-900 shadow-xl rounded-t-xl",children:n.jsx("nav",{className:"p-4",children:n.jsx("ul",{className:"flex items-center justify-around gap-1 overflow-x-auto px-2",children:l.map(({icon:u,label:h,path:m})=>n.jsx("li",{children:n.jsxs(Ji,{to:m,onClick:d,className:({isActive:f})=>`flex flex-col items-center gap-0.5 p-2 rounded-lg transition-all duration-300 min-w-[56px]
                           ${f?"text-primary-main dark:text-orange-500 bg-primary-main/10 scale-110 shadow-lg":"text-text-light-primary dark:text-white/90 hover:text-primary-main dark:hover:text-orange-500 hover:bg-primary-main/5"}`,children:[n.jsx(u,{className:"w-4 h-4"}),n.jsx("span",{className:"text-[10px] font-medium whitespace-nowrap",children:h})]})},m))})})})]})]})]})},ef=()=>n.jsx(Ns,{to:"/",className:"flex-shrink-0",children:n.jsx("div",{className:"text-center",children:n.jsxs("div",{className:"text-2xl font-display font-bold text-primary-main tracking-wider glow-text",children:["Pan ",n.jsx("span",{className:"text-primary-500",children:"Da Pan"})]})})}),tf=()=>{const[t,e]=p.useState(!0),[s,r]=p.useState(!0),[i,a]=p.useState(0);return p.useEffect(()=>{const o=()=>{const l=window.scrollY;e(l<=0||l<i),r(l<=0),a(l)};return window.addEventListener("scroll",o,{passive:!0}),()=>window.removeEventListener("scroll",o)},[i]),n.jsx("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300
        ${t?"translate-y-0":"-translate-y-full"}
        ${s?"bg-transparent":"bg-white/80 dark:bg-black/80 backdrop-blur-lg shadow-lg"}`,children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"h-16 flex items-center justify-between",children:[n.jsx(ef,{}),n.jsx("div",{className:"flex items-center gap-2 sm:gap-4",children:n.jsx(Xl,{})})]}),n.jsx("div",{className:"hidden lg:block pb-4",children:n.jsx(ma,{})}),n.jsx("div",{className:"lg:hidden flex justify-center pb-2",children:n.jsx(ma,{})})]})})},Ze={twitter:"https://twitter.com/PanDaPan",discord:"https://discord.gg/pandapan",github:"https://github.com/pandapan"};function sf(t){if(typeof Proxy>"u")return t;const e=new Map,s=(...r)=>t(...r);return new Proxy(s,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function _r(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const vn=t=>Array.isArray(t);function Ql(t,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==t.length)return!1;for(let r=0;r<s;r++)if(e[r]!==t[r])return!1;return!0}function ys(t){return typeof t=="string"||Array.isArray(t)}function pa(t){const e=[{},{}];return t?.values.forEach((s,r)=>{e[0][r]=s.get(),e[1][r]=s.getVelocity()}),e}function oi(t,e,s,r){if(typeof e=="function"){const[i,a]=pa(r);e=e(s!==void 0?s:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=pa(r);e=e(s!==void 0?s:t.custom,i,a)}return e}function Pr(t,e,s){const r=t.getProps();return oi(r,e,s!==void 0?s:r.custom,t)}const li=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ci=["initial",...li],Ds=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xt=new Set(Ds),Ie=t=>t*1e3,De=t=>t/1e3,rf={type:"spring",stiffness:500,damping:25,restSpeed:10},nf=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),af={type:"keyframes",duration:.8},of={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},lf=(t,{keyframes:e})=>e.length>2?af:xt.has(t)?t.startsWith("scale")?nf(e[1]):rf:of;function di(t,e){return t?t[e]||t.default||t:void 0}const cf={useManualTiming:!1},df=t=>t!==null;function Cr(t,{repeat:e,repeatType:s="loop"},r){const i=t.filter(df),a=e&&s!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const ae=t=>t;function uf(t){let e=new Set,s=new Set,r=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){a.has(d)&&(c.schedule(d),t()),d(o)}const c={schedule:(d,u=!1,h=!1)=>{const f=h&&r?e:s;return u&&a.add(d),f.has(d)||f.add(d),d},cancel:d=>{s.delete(d),a.delete(d)},process:d=>{if(o=d,r){i=!0;return}r=!0,[e,s]=[s,e],s.clear(),e.forEach(l),r=!1,i&&(i=!1,c.process(d))}};return c}const qs=["read","resolveKeyframes","update","preRender","render","postRender"],hf=40;function Yl(t,e){let s=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>s=!0,o=qs.reduce((b,v)=>(b[v]=uf(a),b),{}),{read:l,resolveKeyframes:c,update:d,preRender:u,render:h,postRender:m}=o,f=()=>{const b=performance.now();s=!1,i.delta=r?1e3/60:Math.max(Math.min(b-i.timestamp,hf),1),i.timestamp=b,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),u.process(i),h.process(i),m.process(i),i.isProcessing=!1,s&&e&&(r=!1,t(f))},g=()=>{s=!0,r=!0,i.isProcessing||t(f)};return{schedule:qs.reduce((b,v)=>{const w=o[v];return b[v]=(N,k=!1,T=!1)=>(s||g(),w.schedule(N,k,T)),b},{}),cancel:b=>{for(let v=0;v<qs.length;v++)o[qs[v]].cancel(b)},state:i,steps:o}}const{schedule:B,cancel:He,state:se,steps:Wr}=Yl(typeof requestAnimationFrame<"u"?requestAnimationFrame:ae,!0),Zl=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,mf=1e-7,pf=12;function ff(t,e,s,r,i){let a,o,l=0;do o=e+(s-e)/2,a=Zl(o,r,i)-t,a>0?s=o:e=o;while(Math.abs(a)>mf&&++l<pf);return o}function Os(t,e,s,r){if(t===e&&s===r)return ae;const i=a=>ff(a,0,1,t,s);return a=>a===0||a===1?a:Zl(i(a),e,r)}const ec=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,tc=t=>e=>1-t(1-e),sc=Os(.33,1.53,.69,.99),ui=tc(sc),rc=ec(ui),nc=t=>(t*=2)<1?.5*ui(t):.5*(2-Math.pow(2,-10*(t-1))),hi=t=>1-Math.sin(Math.acos(t)),ic=tc(hi),ac=ec(hi),oc=t=>/^0[^.\s]+$/u.test(t);function gf(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||oc(t):!0}let wn=ae;const lc=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),cc=t=>e=>typeof e=="string"&&e.startsWith(t),dc=cc("--"),xf=cc("var(--"),mi=t=>xf(t)?yf.test(t.split("/*")[0].trim()):!1,yf=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,bf=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function vf(t){const e=bf.exec(t);if(!e)return[,];const[,s,r,i]=e;return[`--${s??r}`,i]}function uc(t,e,s=1){const[r,i]=vf(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const o=a.trim();return lc(o)?parseFloat(o):o}return mi(i)?uc(i,e,s+1):i}const Ke=(t,e,s)=>s>e?e:s<t?t:s,zt={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},bs={...zt,transform:t=>Ke(0,1,t)},zs={...zt,default:1},Ls=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),qe=Ls("deg"),Ce=Ls("%"),E=Ls("px"),wf=Ls("vh"),jf=Ls("vw"),fa={...Ce,parse:t=>Ce.parse(t)/100,transform:t=>Ce.transform(t*100)},Nf=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ga=t=>t===zt||t===E,xa=(t,e)=>parseFloat(t.split(", ")[e]),ya=(t,e)=>(s,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return xa(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?xa(a[1],t):0}},kf=new Set(["x","y","z"]),Sf=Ds.filter(t=>!kf.has(t));function _f(t){const e=[];return Sf.forEach(s=>{const r=t.getValue(s);r!==void 0&&(e.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),e}const Bt={width:({x:t},{paddingLeft:e="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),height:({y:t},{paddingTop:e="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:ya(4,13),y:ya(5,14)};Bt.translateX=Bt.x;Bt.translateY=Bt.y;const hc=t=>e=>e.test(t),Pf={test:t=>t==="auto",parse:t=>t},mc=[zt,E,Ce,qe,jf,wf,Pf],ba=t=>mc.find(hc(t)),dt=new Set;let jn=!1,Nn=!1;function pc(){if(Nn){const t=Array.from(dt).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),s=new Map;e.forEach(r=>{const i=_f(r);i.length&&(s.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=s.get(r);i&&i.forEach(([a,o])=>{var l;(l=r.getValue(a))===null||l===void 0||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Nn=!1,jn=!1,dt.forEach(t=>t.complete()),dt.clear()}function fc(){dt.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Nn=!0)})}function Cf(){fc(),pc()}class pi{constructor(e,s,r,i,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(dt.add(this),jn||(jn=!0,B.read(fc),B.resolveKeyframes(pc))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const o=i?.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&s){const c=r.readValue(s,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),i&&o===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),dt.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,dt.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ds=t=>Math.round(t*1e5)/1e5,fi=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Tf(t){return t==null}const Af=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,gi=(t,e)=>s=>!!(typeof s=="string"&&Af.test(s)&&s.startsWith(t)||e&&!Tf(s)&&Object.prototype.hasOwnProperty.call(s,e)),gc=(t,e,s)=>r=>{if(typeof r!="string")return r;const[i,a,o,l]=r.match(fi);return{[t]:parseFloat(i),[e]:parseFloat(a),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Ef=t=>Ke(0,255,t),Hr={...zt,transform:t=>Math.round(Ef(t))},ot={test:gi("rgb","red"),parse:gc("red","green","blue"),transform:({red:t,green:e,blue:s,alpha:r=1})=>"rgba("+Hr.transform(t)+", "+Hr.transform(e)+", "+Hr.transform(s)+", "+ds(bs.transform(r))+")"};function Rf(t){let e="",s="",r="",i="";return t.length>5?(e=t.substring(1,3),s=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),s=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,s+=s,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const kn={test:gi("#"),parse:Rf,transform:ot.transform},kt={test:gi("hsl","hue"),parse:gc("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:s,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ce.transform(ds(e))+", "+Ce.transform(ds(s))+", "+ds(bs.transform(r))+")"},ne={test:t=>ot.test(t)||kn.test(t)||kt.test(t),parse:t=>ot.test(t)?ot.parse(t):kt.test(t)?kt.parse(t):kn.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ot.transform(t):kt.transform(t)},If=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Df(t){var e,s;return isNaN(t)&&typeof t=="string"&&(((e=t.match(fi))===null||e===void 0?void 0:e.length)||0)+(((s=t.match(If))===null||s===void 0?void 0:s.length)||0)>0}const xc="number",yc="color",Of="var",Lf="var(",va="${}",Mf=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vs(t){const e=t.toString(),s=[],r={color:[],number:[],var:[]},i=[];let a=0;const l=e.replace(Mf,c=>(ne.test(c)?(r.color.push(a),i.push(yc),s.push(ne.parse(c))):c.startsWith(Lf)?(r.var.push(a),i.push(Of),s.push(c)):(r.number.push(a),i.push(xc),s.push(parseFloat(c))),++a,va)).split(va);return{values:s,split:l,indexes:r,types:i}}function bc(t){return vs(t).values}function vc(t){const{split:e,types:s}=vs(t),r=e.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=e[o],i[o]!==void 0){const l=s[o];l===xc?a+=ds(i[o]):l===yc?a+=ne.transform(i[o]):a+=i[o]}return a}}const Ff=t=>typeof t=="number"?0:t;function $f(t){const e=bc(t);return vc(t)(e.map(Ff))}const Je={test:Df,parse:bc,createTransformer:vc,getAnimatableNone:$f},Bf=new Set(["brightness","contrast","saturate","opacity"]);function Vf(t){const[e,s]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=s.match(fi)||[];if(!r)return t;const i=s.replace(r,"");let a=Bf.has(e)?1:0;return r!==s&&(a*=100),e+"("+a+i+")"}const Uf=/\b([a-z-]*)\(.*?\)/gu,Sn={...Je,getAnimatableNone:t=>{const e=t.match(Uf);return e?e.map(Vf).join(" "):t}},Gf={borderWidth:E,borderTopWidth:E,borderRightWidth:E,borderBottomWidth:E,borderLeftWidth:E,borderRadius:E,radius:E,borderTopLeftRadius:E,borderTopRightRadius:E,borderBottomRightRadius:E,borderBottomLeftRadius:E,width:E,maxWidth:E,height:E,maxHeight:E,top:E,right:E,bottom:E,left:E,padding:E,paddingTop:E,paddingRight:E,paddingBottom:E,paddingLeft:E,margin:E,marginTop:E,marginRight:E,marginBottom:E,marginLeft:E,backgroundPositionX:E,backgroundPositionY:E},qf={rotate:qe,rotateX:qe,rotateY:qe,rotateZ:qe,scale:zs,scaleX:zs,scaleY:zs,scaleZ:zs,skew:qe,skewX:qe,skewY:qe,distance:E,translateX:E,translateY:E,translateZ:E,x:E,y:E,z:E,perspective:E,transformPerspective:E,opacity:bs,originX:fa,originY:fa,originZ:E},wa={...zt,transform:Math.round},xi={...Gf,...qf,zIndex:wa,size:E,fillOpacity:bs,strokeOpacity:bs,numOctaves:wa},zf={...xi,color:ne,backgroundColor:ne,outlineColor:ne,fill:ne,stroke:ne,borderColor:ne,borderTopColor:ne,borderRightColor:ne,borderBottomColor:ne,borderLeftColor:ne,filter:Sn,WebkitFilter:Sn},yi=t=>zf[t];function wc(t,e){let s=yi(t);return s!==Sn&&(s=Je),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const Wf=new Set(["auto","none","0"]);function Hf(t,e,s){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!Wf.has(a)&&vs(a).values.length&&(i=t[r]),r++}if(i&&s)for(const a of e)t[a]=wc(s,i)}class jc extends pi{constructor(e,s,r,i,a){super(e,s,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),mi(d))){const u=uc(d,s.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Nf.has(r)||e.length!==2)return;const[i,a]=e,o=ba(i),l=ba(a);if(o!==l)if(ga(o)&&ga(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,r=[];for(let i=0;i<e.length;i++)gf(e[i])&&r.push(i);r.length&&Hf(e,r,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bt[r](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:s,name:r,unresolvedKeyframes:i}=this;if(!s||!s.current)return;const a=s.getValue(r);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=Bt[r](s.measureViewportBox(),window.getComputedStyle(s.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,d])=>{s.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function bi(t){return typeof t=="function"}let Qs;function Kf(){Qs=void 0}const Te={now:()=>(Qs===void 0&&Te.set(se.isProcessing||cf.useManualTiming?se.timestamp:performance.now()),Qs),set:t=>{Qs=t,queueMicrotask(Kf)}},ja=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Je.test(t)||t==="0")&&!t.startsWith("url("));function Jf(t){const e=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==e)return!0}function Xf(t,e,s,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=ja(i,e),l=ja(a,e);return!o||!l?!1:Jf(t)||(s==="spring"||bi(s))&&r}const Qf=40;class Nc{constructor({autoplay:e=!0,delay:s=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Te.now(),this.options={autoplay:e,delay:s,type:r,repeat:i,repeatDelay:a,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Qf?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Cf(),this._resolved}onKeyframesResolved(e,s){this.resolvedAt=Te.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:o,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!Xf(e,r,i,a))if(o)this.options.duration=0;else{c?.(Cr(e,this.options,s)),l?.(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,s);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:s,...u},this.onPostResolved())}onPostResolved(){}then(e,s){return this.currentFinishedPromise.then(e,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function kc(t,e){return e?t*(1e3/e):0}const Yf=5;function Sc(t,e,s){const r=Math.max(e-Yf,0);return kc(s-t(r),e-r)}const Kr=.001,Zf=.01,eg=10,tg=.05,sg=1;function rg({duration:t=800,bounce:e=.25,velocity:s=0,mass:r=1}){let i,a,o=1-e;o=Ke(tg,sg,o),t=Ke(Zf,eg,De(t)),o<1?(i=d=>{const u=d*o,h=u*t,m=u-s,f=_n(d,o),g=Math.exp(-h);return Kr-m/f*g},a=d=>{const h=d*o*t,m=h*s+s,f=Math.pow(o,2)*Math.pow(d,2)*t,g=Math.exp(-h),y=_n(Math.pow(d,2),o);return(-i(d)+Kr>0?-1:1)*((m-f)*g)/y}):(i=d=>{const u=Math.exp(-d*t),h=(d-s)*t+1;return-Kr+u*h},a=d=>{const u=Math.exp(-d*t),h=(s-d)*(t*t);return u*h});const l=5/t,c=ig(i,a,l);if(t=Ie(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const ng=12;function ig(t,e,s){let r=s;for(let i=1;i<ng;i++)r=r-t(r)/e(r);return r}function _n(t,e){return t*Math.sqrt(1-e*e)}const ag=["duration","bounce"],og=["stiffness","damping","mass"];function Na(t,e){return e.some(s=>t[s]!==void 0)}function lg(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Na(t,og)&&Na(t,ag)){const s=rg(t);e={...e,...s,mass:1},e.isResolvedFromDuration=!0}return e}function _c({keyframes:t,restDelta:e,restSpeed:s,...r}){const i=t[0],a=t[t.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:m}=lg({...r,velocity:-De(r.velocity||0)}),f=h||0,g=c/(2*Math.sqrt(l*d)),y=a-i,x=De(Math.sqrt(l/d)),b=Math.abs(y)<5;s||(s=b?.01:2),e||(e=b?.005:.5);let v;if(g<1){const w=_n(x,g);v=N=>{const k=Math.exp(-g*x*N);return a-k*((f+g*x*y)/w*Math.sin(w*N)+y*Math.cos(w*N))}}else if(g===1)v=w=>a-Math.exp(-x*w)*(y+(f+x*y)*w);else{const w=x*Math.sqrt(g*g-1);v=N=>{const k=Math.exp(-g*x*N),T=Math.min(w*N,300);return a-k*((f+g*x*y)*Math.sinh(T)+w*y*Math.cosh(T))/w}}return{calculatedDuration:m&&u||null,next:w=>{const N=v(w);if(m)o.done=w>=u;else{let k=0;g<1&&(k=w===0?Ie(f):Sc(v,w,N));const T=Math.abs(k)<=s,I=Math.abs(a-N)<=e;o.done=T&&I}return o.value=o.done?a:N,o}}}function ka({keyframes:t,velocity:e=0,power:s=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=t[0],m={done:!1,value:h},f=C=>l!==void 0&&C<l||c!==void 0&&C>c,g=C=>l===void 0?c:c===void 0||Math.abs(l-C)<Math.abs(c-C)?l:c;let y=s*e;const x=h+y,b=o===void 0?x:o(x);b!==x&&(y=b-h);const v=C=>-y*Math.exp(-C/r),w=C=>b+v(C),N=C=>{const F=v(C),A=w(C);m.done=Math.abs(F)<=d,m.value=m.done?b:A};let k,T;const I=C=>{f(m.value)&&(k=C,T=_c({keyframes:[m.value,g(m.value)],velocity:Sc(w,C,m.value),damping:i,stiffness:a,restDelta:d,restSpeed:u}))};return I(0),{calculatedDuration:null,next:C=>{let F=!1;return!T&&k===void 0&&(F=!0,N(C),I(C)),k!==void 0&&C>=k?T.next(C-k):(!F&&N(C),m)}}}const cg=Os(.42,0,1,1),dg=Os(0,0,.58,1),Pc=Os(.42,0,.58,1),ug=t=>Array.isArray(t)&&typeof t[0]!="number",vi=t=>Array.isArray(t)&&typeof t[0]=="number",Sa={linear:ae,easeIn:cg,easeInOut:Pc,easeOut:dg,circIn:hi,circInOut:ac,circOut:ic,backIn:ui,backInOut:rc,backOut:sc,anticipate:nc},_a=t=>{if(vi(t)){wn(t.length===4);const[e,s,r,i]=t;return Os(e,s,r,i)}else if(typeof t=="string")return wn(Sa[t]!==void 0),Sa[t];return t},hg=(t,e)=>s=>e(t(s)),Oe=(...t)=>t.reduce(hg),Vt=(t,e,s)=>{const r=e-t;return r===0?1:(s-t)/r},z=(t,e,s)=>t+(e-t)*s;function Jr(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function mg({hue:t,saturation:e,lightness:s,alpha:r}){t/=360,e/=100,s/=100;let i=0,a=0,o=0;if(!e)i=a=o=s;else{const l=s<.5?s*(1+e):s+e-s*e,c=2*s-l;i=Jr(c,l,t+1/3),a=Jr(c,l,t),o=Jr(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function rr(t,e){return s=>s>0?e:t}const Xr=(t,e,s)=>{const r=t*t,i=s*(e*e-r)+r;return i<0?0:Math.sqrt(i)},pg=[kn,ot,kt],fg=t=>pg.find(e=>e.test(t));function Pa(t){const e=fg(t);if(!e)return!1;let s=e.parse(t);return e===kt&&(s=mg(s)),s}const Ca=(t,e)=>{const s=Pa(t),r=Pa(e);if(!s||!r)return rr(t,e);const i={...s};return a=>(i.red=Xr(s.red,r.red,a),i.green=Xr(s.green,r.green,a),i.blue=Xr(s.blue,r.blue,a),i.alpha=z(s.alpha,r.alpha,a),ot.transform(i))},Pn=new Set(["none","hidden"]);function gg(t,e){return Pn.has(t)?s=>s<=0?t:e:s=>s>=1?e:t}function xg(t,e){return s=>z(t,e,s)}function wi(t){return typeof t=="number"?xg:typeof t=="string"?mi(t)?rr:ne.test(t)?Ca:vg:Array.isArray(t)?Cc:typeof t=="object"?ne.test(t)?Ca:yg:rr}function Cc(t,e){const s=[...t],r=s.length,i=t.map((a,o)=>wi(a)(a,e[o]));return a=>{for(let o=0;o<r;o++)s[o]=i[o](a);return s}}function yg(t,e){const s={...t,...e},r={};for(const i in s)t[i]!==void 0&&e[i]!==void 0&&(r[i]=wi(t[i])(t[i],e[i]));return i=>{for(const a in r)s[a]=r[a](i);return s}}function bg(t,e){var s;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],l=t.indexes[o][i[o]],c=(s=t.values[l])!==null&&s!==void 0?s:0;r[a]=c,i[o]++}return r}const vg=(t,e)=>{const s=Je.createTransformer(e),r=vs(t),i=vs(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Pn.has(t)&&!i.values.length||Pn.has(e)&&!r.values.length?gg(t,e):Oe(Cc(bg(r,i),i.values),s):rr(t,e)};function Tc(t,e,s){return typeof t=="number"&&typeof e=="number"&&typeof s=="number"?z(t,e,s):wi(t)(t,e)}function wg(t,e,s){const r=[],i=s||Tc,a=t.length-1;for(let o=0;o<a;o++){let l=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||ae:e;l=Oe(c,l)}r.push(l)}return r}function jg(t,e,{clamp:s=!0,ease:r,mixer:i}={}){const a=t.length;if(wn(a===e.length),a===1)return()=>e[0];if(a===2&&t[0]===t[1])return()=>e[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=wg(e,r,i),l=o.length,c=d=>{let u=0;if(l>1)for(;u<t.length-2&&!(d<t[u+1]);u++);const h=Vt(t[u],t[u+1],d);return o[u](h)};return s?d=>c(Ke(t[0],t[a-1],d)):c}function Ng(t,e){const s=t[t.length-1];for(let r=1;r<=e;r++){const i=Vt(0,e,r);t.push(z(s,1,i))}}function kg(t){const e=[0];return Ng(e,t.length-1),e}function Sg(t,e){return t.map(s=>s*e)}function _g(t,e){return t.map(()=>e||Pc).splice(0,t.length-1)}function nr({duration:t=300,keyframes:e,times:s,ease:r="easeInOut"}){const i=ug(r)?r.map(_a):_a(r),a={done:!1,value:e[0]},o=Sg(s&&s.length===e.length?s:kg(e),t),l=jg(o,e,{ease:Array.isArray(i)?i:_g(e,i)});return{calculatedDuration:t,next:c=>(a.value=l(c),a.done=c>=t,a)}}const Ta=2e4;function Pg(t){let e=0;const s=50;let r=t.next(e);for(;!r.done&&e<Ta;)e+=s,r=t.next(e);return e>=Ta?1/0:e}const Cg=t=>{const e=({timestamp:s})=>t(s);return{start:()=>B.update(e,!0),stop:()=>He(e),now:()=>se.isProcessing?se.timestamp:Te.now()}},Tg={decay:ka,inertia:ka,tween:nr,keyframes:nr,spring:_c},Ag=t=>t/100;class ji extends Nc{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:s,motionValue:r,element:i,keyframes:a}=this.options,o=i?.KeyframeResolver||pi,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new o(a,l,s,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=this.options,l=bi(s)?s:Tg[s]||nr;let c,d;l!==nr&&typeof e[0]!="number"&&(c=Oe(Ag,Tc(e[0],e[1])),e=[0,100]);const u=l({...this.options,keyframes:e});a==="mirror"&&(d=l({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Pg(u));const{calculatedDuration:h}=u,m=h+i,f=m*(r+1)-i;return{generator:u,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:m,totalDuration:f}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,s=!1){const{resolved:r}=this;if(!r){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:u,resolvedDuration:h}=r;if(this.startTime===null)return a.next(0);const{delay:m,repeat:f,repeatType:g,repeatDelay:y,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),s?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const b=this.currentTime-m*(this.speed>=0?1:-1),v=this.speed>=0?b<0:b>u;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let w=this.currentTime,N=a;if(f){const C=Math.min(this.currentTime,u)/h;let F=Math.floor(C),A=C%1;!A&&C>=1&&(A=1),A===1&&F--,F=Math.min(F,f+1),!!(F%2)&&(g==="reverse"?(A=1-A,y&&(A-=y/h)):g==="mirror"&&(N=o)),w=Ke(0,1,A)*h}const k=v?{done:!1,value:c[0]}:N.next(w);l&&(k.value=l(k.value));let{done:T}=k;!v&&d!==null&&(T=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return I&&i!==void 0&&(k.value=Cr(c,this.options,i)),x&&x(k.value),I&&this.finish(),k}get duration(){const{resolved:e}=this;return e?De(e.calculatedDuration):0}get time(){return De(this.currentTime)}set time(e){e=Ie(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=De(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Cg,onPlay:s,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),s&&s();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Eg=new Set(["opacity","clipPath","filter","transform"]),Rg=10,Ig=(t,e)=>{let s="";const r=Math.max(Math.round(e/Rg),2);for(let i=0;i<r;i++)s+=t(Vt(0,r-1,i))+", ";return`linear(${s.substring(0,s.length-2)})`};function Ni(t){let e;return()=>(e===void 0&&(e=t()),e)}const Dg={linearEasing:void 0};function Og(t,e){const s=Ni(t);return()=>{var r;return(r=Dg[e])!==null&&r!==void 0?r:s()}}const ir=Og(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function Ac(t){return!!(typeof t=="function"&&ir()||!t||typeof t=="string"&&(t in Cn||ir())||vi(t)||Array.isArray(t)&&t.every(Ac))}const as=([t,e,s,r])=>`cubic-bezier(${t}, ${e}, ${s}, ${r})`,Cn={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:as([0,.65,.55,1]),circOut:as([.55,0,1,.45]),backIn:as([.31,.01,.66,-.59]),backOut:as([.33,1.53,.69,.99])};function Ec(t,e){if(t)return typeof t=="function"&&ir()?Ig(t,e):vi(t)?as(t):Array.isArray(t)?t.map(s=>Ec(s,e)||Cn.easeOut):Cn[t]}function Lg(t,e,s,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const d={[e]:s};c&&(d.offset=c);const u=Ec(l,i);return Array.isArray(u)&&(d.easing=u),t.animate(d,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function Aa(t,e){t.timeline=e,t.onfinish=null}const Mg=Ni(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ar=10,Fg=2e4;function $g(t){return bi(t.type)||t.type==="spring"||!Ac(t.ease)}function Bg(t,e){const s=new ji({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let a=0;for(;!r.done&&a<Fg;)r=s.sample(a),i.push(r.value),a+=ar;return{times:void 0,keyframes:i,duration:a-ar,ease:"linear"}}const Rc={anticipate:nc,backInOut:rc,circInOut:ac};function Vg(t){return t in Rc}class Ea extends Nc{constructor(e){super(e);const{name:s,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new jc(a,(o,l)=>this.onKeyframesResolved(o,l),s,r,i),this.resolver.scheduleResolve()}initPlayback(e,s){var r;let{duration:i=300,times:a,ease:o,type:l,motionValue:c,name:d,startTime:u}=this.options;if(!(!((r=c.owner)===null||r===void 0)&&r.current))return!1;if(typeof o=="string"&&ir()&&Vg(o)&&(o=Rc[o]),$g(this.options)){const{onComplete:m,onUpdate:f,motionValue:g,element:y,...x}=this.options,b=Bg(e,x);e=b.keyframes,e.length===1&&(e[1]=e[0]),i=b.duration,a=b.times,o=b.ease,l="keyframes"}const h=Lg(c.owner.current,d,e,{...this.options,duration:i,times:a,ease:o});return h.startTime=u??this.calcStartTime(),this.pendingTimeline?(Aa(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:m}=this.options;c.set(Cr(e,this.options,s)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:i,times:a,type:l,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:s}=e;return De(s)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:s}=e;return De(s.currentTime||0)}set time(e){const{resolved:s}=this;if(!s)return;const{animation:r}=s;r.currentTime=Ie(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:s}=e;return s.playbackRate}set speed(e){const{resolved:s}=this;if(!s)return;const{animation:r}=s;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:s}=e;return s.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:s}=e;return s.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:s}=this;if(!s)return ae;const{animation:r}=s;Aa(r,e)}return ae}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:s}=e;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:s}=e;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:s,keyframes:r,duration:i,type:a,ease:o,times:l}=e;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:u,onComplete:h,element:m,...f}=this.options,g=new ji({...f,keyframes:r,duration:i,type:a,ease:o,times:l,isGenerator:!0}),y=Ie(this.time);d.setWithVelocity(g.sample(y-ar).value,g.sample(y).value,ar)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:s,name:r,repeatDelay:i,repeatType:a,damping:o,type:l}=e;return Mg()&&r&&Eg.has(r)&&s&&s.owner&&s.owner.current instanceof HTMLElement&&!s.owner.getProps().onUpdate&&!i&&a!=="mirror"&&o!==0&&l!=="inertia"}}const Ug=Ni(()=>window.ScrollTimeline!==void 0);class Gg{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,s){return Promise.all(this.animations).then(e).catch(s)}getAll(e){return this.animations[0][e]}setAll(e,s){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=s}attachTimeline(e,s){const r=this.animations.map(i=>Ug()&&i.attachTimeline?i.attachTimeline(e):s(i));return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let s=0;s<this.animations.length;s++)e=Math.max(e,this.animations[s].duration);return e}runAll(e){this.animations.forEach(s=>s[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function qg({when:t,delay:e,delayChildren:s,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const ki=(t,e,s,r={},i,a)=>o=>{const l=di(r,t)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Ie(c);let u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:m=>{e.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:a?void 0:i};qg(l)||(u={...u,...lf(t,u)}),u.duration&&(u.duration=Ie(u.duration)),u.repeatDelay&&(u.repeatDelay=Ie(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!a&&e.get()!==void 0){const m=Cr(u.keyframes,l);if(m!==void 0)return B.update(()=>{u.onUpdate(m),u.onComplete()}),new Gg([])}return!a&&Ea.supports(u)?new Ea(u):new ji(u)},zg=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Wg=t=>vn(t)?t[t.length-1]||0:t;function Si(t,e){t.indexOf(e)===-1&&t.push(e)}function _i(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}class Pi{constructor(){this.subscriptions=[]}add(e){return Si(this.subscriptions,e),()=>_i(this.subscriptions,e)}notify(e,s,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,s,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ra=30,Hg=t=>!isNaN(parseFloat(t));class Kg{constructor(e,s={}){this.version="11.11.17",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=Te.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=Te.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Hg(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new Pi);const r=this.events[e].add(s);return e==="change"?()=>{r(),B.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e,s=!0){!s||!this.passiveEffect?this.updateAndNotify(e,s):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Te.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Ra)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Ra);return kc(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ws(t,e){return new Kg(t,e)}function Jg(t,e,s){t.hasValue(e)?t.getValue(e).set(s):t.addValue(e,ws(s))}function Xg(t,e){const s=Pr(t,e);let{transitionEnd:r={},transition:i={},...a}=s||{};a={...a,...r};for(const o in a){const l=Wg(a[o]);Jg(t,o,l)}}const Ci=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Qg="framerAppearId",Ic="data-"+Ci(Qg);function Dc(t){return t.props[Ic]}const ie=t=>!!(t&&t.getVelocity);function Yg(t){return!!(ie(t)&&t.add)}function Tn(t,e){const s=t.getValue("willChange");if(Yg(s))return s.add(e)}function Zg({protectedKeys:t,needsAnimating:e},s){const r=t.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,r}function Oc(t,e,{delay:s=0,transitionOverride:r,type:i}={}){var a;let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(o=r);const d=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const h in c){const m=t.getValue(h,(a=t.latestValues[h])!==null&&a!==void 0?a:null),f=c[h];if(f===void 0||u&&Zg(u,h))continue;const g={delay:s,...di(o||{},h)};let y=!1;if(window.MotionHandoffAnimation){const b=Dc(t);if(b){const v=window.MotionHandoffAnimation(b,h,B);v!==null&&(g.startTime=v,y=!0)}}Tn(t,h),m.start(ki(h,m,f,t.shouldReduceMotion&&xt.has(h)?{type:!1}:g,t,y));const x=m.animation;x&&d.push(x)}return l&&Promise.all(d).then(()=>{B.update(()=>{l&&Xg(t,l)})}),d}function An(t,e,s={}){var r;const i=Pr(t,e,s.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(a=s.transitionOverride);const o=i?()=>Promise.all(Oc(t,i,s)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:m}=a;return ex(t,e,u+d,h,m,s)}:()=>Promise.resolve(),{when:c}=a;if(c){const[d,u]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>u())}else return Promise.all([o(),l(s.delay)])}function ex(t,e,s=0,r=0,i=1,a){const o=[],l=(t.variantChildren.size-1)*r,c=i===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(t.variantChildren).sort(tx).forEach((d,u)=>{d.notify("AnimationStart",e),o.push(An(d,e,{...a,delay:s+c(u)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function tx(t,e){return t.sortNodePosition(e)}function sx(t,e,s={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>An(t,a,s));r=Promise.all(i)}else if(typeof e=="string")r=An(t,e,s);else{const i=typeof e=="function"?Pr(t,e,s.custom):e;r=Promise.all(Oc(t,i,s))}return r.then(()=>{t.notify("AnimationComplete",e)})}const rx=ci.length;function Lc(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?Lc(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const e={};for(let s=0;s<rx;s++){const r=ci[s],i=t.props[r];(ys(i)||i===!1)&&(e[r]=i)}return e}const nx=[...li].reverse(),ix=li.length;function ax(t){return e=>Promise.all(e.map(({animation:s,options:r})=>sx(t,s,r)))}function ox(t){let e=ax(t),s=Ia(),r=!0;const i=c=>(d,u)=>{var h;const m=Pr(t,u,c==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(m){const{transition:f,transitionEnd:g,...y}=m;d={...d,...y,...g}}return d};function a(c){e=c(t)}function o(c){const{props:d}=t,u=Lc(t.parent)||{},h=[],m=new Set;let f={},g=1/0;for(let x=0;x<ix;x++){const b=nx[x],v=s[b],w=d[b]!==void 0?d[b]:u[b],N=ys(w),k=b===c?v.isActive:null;k===!1&&(g=x);let T=w===u[b]&&w!==d[b]&&N;if(T&&r&&t.manuallyAnimateOnMount&&(T=!1),v.protectedKeys={...f},!v.isActive&&k===null||!w&&!v.prevProp||_r(w)||typeof w=="boolean")continue;const I=lx(v.prevProp,w);let C=I||b===c&&v.isActive&&!T&&N||x>g&&N,F=!1;const A=Array.isArray(w)?w:[w];let D=A.reduce(i(b),{});k===!1&&(D={});const{prevResolvedValues:S={}}=v,P={...S,...D},R=J=>{C=!0,m.has(J)&&(F=!0,m.delete(J)),v.needsAnimating[J]=!0;const oe=t.getValue(J);oe&&(oe.liveStyle=!1)};for(const J in P){const oe=D[J],me=S[J];if(f.hasOwnProperty(J))continue;let Fe=!1;vn(oe)&&vn(me)?Fe=!Ql(oe,me):Fe=oe!==me,Fe?oe!=null?R(J):m.add(J):oe!==void 0&&m.has(J)?R(J):v.protectedKeys[J]=!0}v.prevProp=w,v.prevResolvedValues=D,v.isActive&&(f={...f,...D}),r&&t.blockInitialAnimation&&(C=!1),C&&(!(T&&I)||F)&&h.push(...A.map(J=>({animation:J,options:{type:b}})))}if(m.size){const x={};m.forEach(b=>{const v=t.getBaseTarget(b),w=t.getValue(b);w&&(w.liveStyle=!0),x[b]=v??null}),h.push({animation:x})}let y=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(h):Promise.resolve()}function l(c,d){var u;if(s[c].isActive===d)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(m=>{var f;return(f=m.animationState)===null||f===void 0?void 0:f.setActive(c,d)}),s[c].isActive=d;const h=o(c);for(const m in s)s[m].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>s,reset:()=>{s=Ia(),r=!0}}}function lx(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Ql(e,t):!1}function et(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ia(){return{animate:et(!0),whileInView:et(),whileHover:et(),whileTap:et(),whileDrag:et(),whileFocus:et(),exit:et()}}class Xe{constructor(e){this.isMounted=!1,this.node=e}update(){}}class cx extends Xe{constructor(e){super(e),e.animationState||(e.animationState=ox(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();_r(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let dx=0;class ux extends Xe{constructor(){super(...arguments),this.id=dx++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);s&&!e&&i.then(()=>s(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const hx={animation:{Feature:cx},exit:{Feature:ux}},Mc=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Tr(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const mx=t=>e=>Mc(e)&&t(e,Tr(e));function Re(t,e,s,r={passive:!0}){return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s)}function Le(t,e,s,r){return Re(t,e,mx(s),r)}const Da=(t,e)=>Math.abs(t-e);function px(t,e){const s=Da(t.x,e.x),r=Da(t.y,e.y);return Math.sqrt(s**2+r**2)}class Fc{constructor(e,s,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Yr(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,f=px(h.offset,{x:0,y:0})>=3;if(!m&&!f)return;const{point:g}=h,{timestamp:y}=se;this.history.push({...g,timestamp:y});const{onStart:x,onMove:b}=this.handlers;m||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Qr(m,this.transformPagePoint),B.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:f,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Yr(h.type==="pointercancel"?this.lastMoveEventInfo:Qr(m,this.transformPagePoint),this.history);this.startEvent&&f&&f(h,x),g&&g(h,x)},!Mc(e))return;this.dragSnapToOrigin=a,this.handlers=s,this.transformPagePoint=r,this.contextWindow=i||window;const o=Tr(e),l=Qr(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=se;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=s;u&&u(e,Yr(l,this.history)),this.removeListeners=Oe(Le(this.contextWindow,"pointermove",this.handlePointerMove),Le(this.contextWindow,"pointerup",this.handlePointerUp),Le(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),He(this.updatePoint)}}function Qr(t,e){return e?{point:e(t.point)}:t}function Oa(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Yr({point:t},e){return{point:t,delta:Oa(t,$c(e)),offset:Oa(t,fx(e)),velocity:gx(e,.1)}}function fx(t){return t[0]}function $c(t){return t[t.length-1]}function gx(t,e){if(t.length<2)return{x:0,y:0};let s=t.length-1,r=null;const i=$c(t);for(;s>=0&&(r=t[s],!(i.timestamp-r.timestamp>Ie(e)));)s--;if(!r)return{x:0,y:0};const a=De(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Bc(t){let e=null;return()=>{const s=()=>{e=null};return e===null?(e=t,s):!1}}const La=Bc("dragHorizontal"),Ma=Bc("dragVertical");function Vc(t){let e=!1;if(t==="y")e=Ma();else if(t==="x")e=La();else{const s=La(),r=Ma();s&&r?e=()=>{s(),r()}:(s&&s(),r&&r())}return e}function Uc(){const t=Vc(!0);return t?(t(),!1):!0}function St(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const Gc=1e-4,xx=1-Gc,yx=1+Gc,qc=.01,bx=0-qc,vx=0+qc;function ge(t){return t.max-t.min}function wx(t,e,s){return Math.abs(t-e)<=s}function Fa(t,e,s,r=.5){t.origin=r,t.originPoint=z(e.min,e.max,t.origin),t.scale=ge(s)/ge(e),t.translate=z(s.min,s.max,t.origin)-t.originPoint,(t.scale>=xx&&t.scale<=yx||isNaN(t.scale))&&(t.scale=1),(t.translate>=bx&&t.translate<=vx||isNaN(t.translate))&&(t.translate=0)}function us(t,e,s,r){Fa(t.x,e.x,s.x,r?r.originX:void 0),Fa(t.y,e.y,s.y,r?r.originY:void 0)}function $a(t,e,s){t.min=s.min+e.min,t.max=t.min+ge(e)}function jx(t,e,s){$a(t.x,e.x,s.x),$a(t.y,e.y,s.y)}function Ba(t,e,s){t.min=e.min-s.min,t.max=t.min+ge(e)}function hs(t,e,s){Ba(t.x,e.x,s.x),Ba(t.y,e.y,s.y)}function Nx(t,{min:e,max:s},r){return e!==void 0&&t<e?t=r?z(e,t,r.min):Math.max(t,e):s!==void 0&&t>s&&(t=r?z(s,t,r.max):Math.min(t,s)),t}function Va(t,e,s){return{min:e!==void 0?t.min+e:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function kx(t,{top:e,left:s,bottom:r,right:i}){return{x:Va(t.x,s,i),y:Va(t.y,e,r)}}function Ua(t,e){let s=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([s,r]=[r,s]),{min:s,max:r}}function Sx(t,e){return{x:Ua(t.x,e.x),y:Ua(t.y,e.y)}}function _x(t,e){let s=.5;const r=ge(t),i=ge(e);return i>r?s=Vt(e.min,e.max-r,t.min):r>i&&(s=Vt(t.min,t.max-i,e.min)),Ke(0,1,s)}function Px(t,e){const s={};return e.min!==void 0&&(s.min=e.min-t.min),e.max!==void 0&&(s.max=e.max-t.min),s}const En=.35;function Cx(t=En){return t===!1?t=0:t===!0&&(t=En),{x:Ga(t,"left","right"),y:Ga(t,"top","bottom")}}function Ga(t,e,s){return{min:qa(t,e),max:qa(t,s)}}function qa(t,e){return typeof t=="number"?t:t[e]||0}const za=()=>({translate:0,scale:1,origin:0,originPoint:0}),_t=()=>({x:za(),y:za()}),Wa=()=>({min:0,max:0}),X=()=>({x:Wa(),y:Wa()});function be(t){return[t("x"),t("y")]}function zc({top:t,left:e,right:s,bottom:r}){return{x:{min:e,max:s},y:{min:t,max:r}}}function Tx({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Ax(t,e){if(!e)return t;const s=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function Zr(t){return t===void 0||t===1}function Rn({scale:t,scaleX:e,scaleY:s}){return!Zr(t)||!Zr(e)||!Zr(s)}function rt(t){return Rn(t)||Wc(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Wc(t){return Ha(t.x)||Ha(t.y)}function Ha(t){return t&&t!=="0%"}function or(t,e,s){const r=t-s,i=e*r;return s+i}function Ka(t,e,s,r,i){return i!==void 0&&(t=or(t,i,r)),or(t,s,r)+e}function In(t,e=0,s=1,r,i){t.min=Ka(t.min,e,s,r,i),t.max=Ka(t.max,e,s,r,i)}function Hc(t,{x:e,y:s}){In(t.x,e.translate,e.scale,e.originPoint),In(t.y,s.translate,s.scale,s.originPoint)}const Ja=.999999999999,Xa=1.0000000000001;function Ex(t,e,s,r=!1){const i=s.length;if(!i)return;e.x=e.y=1;let a,o;for(let l=0;l<i;l++){a=s[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ct(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Hc(t,o)),r&&rt(a.latestValues)&&Ct(t,a.latestValues))}e.x<Xa&&e.x>Ja&&(e.x=1),e.y<Xa&&e.y>Ja&&(e.y=1)}function Pt(t,e){t.min=t.min+e,t.max=t.max+e}function Qa(t,e,s,r,i=.5){const a=z(t.min,t.max,i);In(t,e,s,a,r)}function Ct(t,e){Qa(t.x,e.x,e.scaleX,e.scale,e.originX),Qa(t.y,e.y,e.scaleY,e.scale,e.originY)}function Kc(t,e){return zc(Ax(t.getBoundingClientRect(),e))}function Rx(t,e,s){const r=Kc(t,s),{scroll:i}=e;return i&&(Pt(r.x,i.offset.x),Pt(r.y,i.offset.y)),r}const Jc=({current:t})=>t?t.ownerDocument.defaultView:null,Ix=new WeakMap;class Dx{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=X(),this.visualElement=e}start(e,{snapToCursor:s=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Tr(u,"page").point)},a=(u,h)=>{const{drag:m,dragPropagation:f,onDragStart:g}=this.getProps();if(m&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Vc(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),be(x=>{let b=this.getAxisMotionValue(x).get()||0;if(Ce.test(b)){const{projection:v}=this.visualElement;if(v&&v.layout){const w=v.layout.layoutBox[x];w&&(b=ge(w)*(parseFloat(b)/100))}}this.originPoint[x]=b}),g&&B.postRender(()=>g(u,h)),Tn(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:m,dragDirectionLock:f,onDirectionLock:g,onDrag:y}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:x}=h;if(f&&this.currentDirection===null){this.currentDirection=Ox(x),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),y&&y(u,h)},l=(u,h)=>this.stop(u,h),c=()=>be(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Fc(e,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:Jc(this.visualElement)})}stop(e,s){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=s;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&B.postRender(()=>a(e,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,r){const{drag:i}=this.getProps();if(!r||!Ws(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Nx(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var e;const{dragConstraints:s,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;s&&St(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&i?this.constraints=kx(i.layoutBox,s):this.constraints=!1,this.elastic=Cx(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&be(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Px(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!St(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Rx(r,i.root,this.visualElement.getTransformPagePoint());let o=Sx(i.layout.layoutBox,a);if(s){const l=s(Tx(o));this.hasMutatedConstraints=!!l,l&&(o=zc(l))}return o}startAnimation(e){const{drag:s,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=be(u=>{if(!Ws(u,s,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const m=i?200:1e6,f=i?40:1e7,g={type:"inertia",velocity:r?e[u]:0,bounceStiffness:m,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(u,g)});return Promise.all(d).then(l)}startAxisValueAnimation(e,s){const r=this.getAxisMotionValue(e);return Tn(this.visualElement,e),r.start(ki(e,r,0,s,this.visualElement,!1))}stopAnimation(){be(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){be(e=>{var s;return(s=this.getAxisMotionValue(e).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(e){var s;return(s=this.getAxisMotionValue(e).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[s];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){be(s=>{const{drag:r}=this.getProps();if(!Ws(s,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(s);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[s];a.set(e[s]-z(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!St(s)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};be(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=_x({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),be(o=>{if(!Ws(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(z(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;Ix.set(this.visualElement,this);const e=this.visualElement.current,s=Le(e,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();St(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),B.read(r);const o=Re(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(be(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),s(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=En,dragMomentum:l=!0}=e;return{...e,drag:s,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Ws(t,e,s){return(e===!0||e===t)&&(s===null||s===t)}function Ox(t,e=10){let s=null;return Math.abs(t.y)>e?s="y":Math.abs(t.x)>e&&(s="x"),s}class Lx extends Xe{constructor(e){super(e),this.removeGroupControls=ae,this.removeListeners=ae,this.controls=new Dx(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ae}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ya=t=>(e,s)=>{t&&B.postRender(()=>t(e,s))};class Mx extends Xe{constructor(){super(...arguments),this.removePointerDownListener=ae}onPointerDown(e){this.session=new Fc(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Jc(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Ya(e),onStart:Ya(s),onMove:r,onEnd:(a,o)=>{delete this.session,i&&B.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Le(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ar=p.createContext(null);function Fx(){const t=p.useContext(Ar);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:s,register:r}=t,i=p.useId();p.useEffect(()=>r(i),[]);const a=p.useCallback(()=>s&&s(i),[i,s]);return!e&&s?[!1,a]:[!0]}const Ti=p.createContext({}),Xc=p.createContext({}),Ys={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Za(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Zt={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(E.test(t))t=parseFloat(t);else return t;const s=Za(t,e.target.x),r=Za(t,e.target.y);return`${s}% ${r}%`}},$x={correct:(t,{treeScale:e,projectionDelta:s})=>{const r=t,i=Je.parse(t);if(i.length>5)return r;const a=Je.createTransformer(t),o=typeof i[0]!="number"?1:0,l=s.x.scale*e.x,c=s.y.scale*e.y;i[0+o]/=l,i[1+o]/=c;const d=z(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),a(i)}},lr={};function Bx(t){Object.assign(lr,t)}const{schedule:Ai}=Yl(queueMicrotask,!1);class Vx extends p.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;Bx(Ux),a&&(s.group&&s.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ys.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:r,drag:i,isPresent:a}=this.props,o=r.projection;return o&&(o.isPresent=a,i||e.layoutDependency!==s||s===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||B.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ai.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Qc(t){const[e,s]=Fx(),r=p.useContext(Ti);return n.jsx(Vx,{...t,layoutGroup:r,switchLayoutGroup:p.useContext(Xc),isPresent:e,safeToRemove:s})}const Ux={borderRadius:{...Zt,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zt,borderTopRightRadius:Zt,borderBottomLeftRadius:Zt,borderBottomRightRadius:Zt,boxShadow:$x},Yc=["TopLeft","TopRight","BottomLeft","BottomRight"],Gx=Yc.length,eo=t=>typeof t=="string"?parseFloat(t):t,to=t=>typeof t=="number"||E.test(t);function qx(t,e,s,r,i,a){i?(t.opacity=z(0,s.opacity!==void 0?s.opacity:1,zx(r)),t.opacityExit=z(e.opacity!==void 0?e.opacity:1,0,Wx(r))):a&&(t.opacity=z(e.opacity!==void 0?e.opacity:1,s.opacity!==void 0?s.opacity:1,r));for(let o=0;o<Gx;o++){const l=`border${Yc[o]}Radius`;let c=so(e,l),d=so(s,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||to(c)===to(d)?(t[l]=Math.max(z(eo(c),eo(d),r),0),(Ce.test(d)||Ce.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||s.rotate)&&(t.rotate=z(e.rotate||0,s.rotate||0,r))}function so(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const zx=Zc(0,.5,ic),Wx=Zc(.5,.95,ae);function Zc(t,e,s){return r=>r<t?0:r>e?1:s(Vt(t,e,r))}function ro(t,e){t.min=e.min,t.max=e.max}function ye(t,e){ro(t.x,e.x),ro(t.y,e.y)}function no(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function io(t,e,s,r,i){return t-=e,t=or(t,1/s,r),i!==void 0&&(t=or(t,1/i,r)),t}function Hx(t,e=0,s=1,r=.5,i,a=t,o=t){if(Ce.test(e)&&(e=parseFloat(e),e=z(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=z(a.min,a.max,r);t===a&&(l-=e),t.min=io(t.min,e,s,l,i),t.max=io(t.max,e,s,l,i)}function ao(t,e,[s,r,i],a,o){Hx(t,e[s],e[r],e[i],e.scale,a,o)}const Kx=["x","scaleX","originX"],Jx=["y","scaleY","originY"];function oo(t,e,s,r){ao(t.x,e,Kx,s?s.x:void 0,r?r.x:void 0),ao(t.y,e,Jx,s?s.y:void 0,r?r.y:void 0)}function lo(t){return t.translate===0&&t.scale===1}function ed(t){return lo(t.x)&&lo(t.y)}function co(t,e){return t.min===e.min&&t.max===e.max}function Xx(t,e){return co(t.x,e.x)&&co(t.y,e.y)}function uo(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function td(t,e){return uo(t.x,e.x)&&uo(t.y,e.y)}function ho(t){return ge(t.x)/ge(t.y)}function mo(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Qx{constructor(){this.members=[]}add(e){Si(this.members,e),e.scheduleRender()}remove(e){if(_i(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(i=>e===i);if(s===0)return!1;let r;for(let i=s;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,s){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,s&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:r}=e;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Yx(t,e,s){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,o=s?.z||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:m,skewX:f,skewY:g}=s;d&&(r=`perspective(${d}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),m&&(r+=`rotateY(${m}deg) `),f&&(r+=`skewX(${f}deg) `),g&&(r+=`skewY(${g}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Zx=(t,e)=>t.depth-e.depth;class e0{constructor(){this.children=[],this.isDirty=!1}add(e){Si(this.children,e),this.isDirty=!0}remove(e){_i(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Zx),this.isDirty=!1,this.children.forEach(e)}}function Zs(t){const e=ie(t)?t.get():t;return zg(e)?e.toValue():e}function t0(t,e){const s=Te.now(),r=({timestamp:i})=>{const a=i-s;a>=e&&(He(r),t(a-e))};return B.read(r,!0),()=>He(r)}function s0(t){return t instanceof SVGElement&&t.tagName!=="svg"}function r0(t,e,s){const r=ie(t)?t:ws(t);return r.start(ki("",r,e,s)),r.animation}const nt={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},os=typeof window<"u"&&window.MotionDebug!==void 0,en=["","X","Y","Z"],n0={visibility:"hidden"},po=1e3;let i0=0;function tn(t,e,s,r){const{latestValues:i}=e;i[t]&&(s[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function sd(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const s=Dc(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",B,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&sd(r)}function rd({attachResizeListener:t,defaultParent:e,measureScroll:s,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=e?.()){this.id=i0++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,os&&(nt.totalNodes=nt.resolvedTargetDeltas=nt.recalculatedProjection=0),this.nodes.forEach(l0),this.nodes.forEach(m0),this.nodes.forEach(p0),this.nodes.forEach(c0),os&&window.MotionDebug.record(nt)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new e0)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Pi),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=s0(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),t){let h;const m=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=t0(m,250),Ys.hasAnimatedSinceResize&&(Ys.hasAnimatedSinceResize=!1,this.nodes.forEach(go))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:f,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||b0,{onLayoutAnimationStart:x,onLayoutAnimationComplete:b}=u.getProps(),v=!this.targetLayout||!td(this.targetLayout,g)||f,w=!m&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||m&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,w);const N={...di(y,"layout"),onPlay:x,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else m||go(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,He(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(f0),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sd(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fo);return}this.isUpdating||this.nodes.forEach(u0),this.isUpdating=!1,this.nodes.forEach(h0),this.nodes.forEach(a0),this.nodes.forEach(o0),this.clearAllSnapshots();const l=Te.now();se.delta=Ke(0,1e3/60,l-se.timestamp),se.timestamp=l,se.isProcessing=!0,Wr.update.process(se),Wr.preRender.process(se),Wr.render.process(se),se.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ai.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(d0),this.sharedNodes.forEach(g0)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,B.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){B.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=X(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!ed(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||rt(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),v0(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return X();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(w0))){const{scroll:u}=this.root;u&&(Pt(c.x,u.offset.x),Pt(c.y,u.offset.y))}return c}removeElementScroll(o){var l;const c=X();if(ye(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:m}=u;u!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&ye(c,o),Pt(c.x,h.offset.x),Pt(c.y,h.offset.y))}return c}applyTransform(o,l=!1){const c=X();ye(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ct(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),rt(u.latestValues)&&Ct(c,u.latestValues)}return rt(this.latestValues)&&Ct(c,this.latestValues),c}removeTransform(o){const l=X();ye(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!rt(d.latestValues))continue;Rn(d.latestValues)&&d.updateSnapshot();const u=X(),h=d.measurePageBox();ye(u,h),oo(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return rt(this.latestValues)&&oo(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==se.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=se.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=X(),this.relativeTargetOrigin=X(),hs(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),ye(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=X(),this.targetWithTransforms=X()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),jx(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ye(this.target,this.layout.layoutBox),Hc(this.target,this.targetDelta)):ye(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=X(),this.relativeTargetOrigin=X(),hs(this.relativeTargetOrigin,this.target,f.target),ye(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}os&&nt.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Rn(this.parent.latestValues)||Wc(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===se.timestamp&&(d=!1),d)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;ye(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,f=this.treeScale.y;Ex(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=X());const{target:g}=l;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(no(this.prevProjectionDelta.x,this.projectionDelta.x),no(this.prevProjectionDelta.y,this.projectionDelta.y)),us(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==f||!mo(this.projectionDelta.x,this.prevProjectionDelta.x)||!mo(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),os&&nt.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_t(),this.projectionDelta=_t(),this.projectionDeltaWithTransform=_t()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=_t();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=X(),f=c?c.source:void 0,g=this.layout?this.layout.source:void 0,y=f!==g,x=this.getStack(),b=!x||x.members.length<=1,v=!!(y&&!b&&this.options.crossfade===!0&&!this.path.some(y0));this.animationProgress=0;let w;this.mixTargetDelta=N=>{const k=N/1e3;xo(h.x,o.x,k),xo(h.y,o.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hs(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),x0(this.relativeTarget,this.relativeTargetOrigin,m,k),w&&Xx(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=X()),ye(w,this.relativeTarget)),y&&(this.animationValues=u,qx(u,d,this.latestValues,k,v,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(He(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=B.update(()=>{Ys.hasAnimatedSinceResize=!0,this.currentAnimation=r0(0,po,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(po),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&nd(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||X();const h=ge(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const m=ge(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}ye(l,c),Ct(l,u),us(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Qx),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&tn("z",o,d,this.animationValues);for(let u=0;u<en.length;u++)tn(`rotate${en[u]}`,o,d,this.animationValues),tn(`skew${en[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return n0;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Zs(o?.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Zs(o?.pointerEvents)||""),this.hasProjected&&!rt(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=Yx(this.projectionDeltaWithTransform,this.treeScale,m),u&&(d.transform=u(m,d.transform));const{x:f,y:g}=this.projectionDelta;d.transformOrigin=`${f.origin*100}% ${g.origin*100}% 0`,h.animationValues?d.opacity=h===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:d.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const y in lr){if(m[y]===void 0)continue;const{correct:x,applyTo:b}=lr[y],v=d.transform==="none"?m[y]:x(m[y],h);if(b){const w=b.length;for(let N=0;N<w;N++)d[b[N]]=v}else d[y]=v}return this.options.layoutId&&(d.pointerEvents=h===this?Zs(o?.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(fo),this.root.sharedNodes.clear()}}}function a0(t){t.updateLayout()}function o0(t){var e;const s=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,o=s.source!==t.layout.source;a==="size"?be(h=>{const m=o?s.measuredBox[h]:s.layoutBox[h],f=ge(m);m.min=r[h].min,m.max=m.min+f}):nd(a,s.layoutBox,r)&&be(h=>{const m=o?s.measuredBox[h]:s.layoutBox[h],f=ge(r[h]);m.max=m.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+f)});const l=_t();us(l,r,s.layoutBox);const c=_t();o?us(c,t.applyTransform(i,!0),s.measuredBox):us(c,r,s.layoutBox);const d=!ed(l);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:f}=h;if(m&&f){const g=X();hs(g,s.layoutBox,m.layoutBox);const y=X();hs(y,r,f.layoutBox),td(g,y)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=g,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:s,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function l0(t){os&&nt.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function c0(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function d0(t){t.clearSnapshot()}function fo(t){t.clearMeasurements()}function u0(t){t.isLayoutDirty=!1}function h0(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function go(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function m0(t){t.resolveTargetDelta()}function p0(t){t.calcProjection()}function f0(t){t.resetSkewAndRotation()}function g0(t){t.removeLeadSnapshot()}function xo(t,e,s){t.translate=z(e.translate,0,s),t.scale=z(e.scale,1,s),t.origin=e.origin,t.originPoint=e.originPoint}function yo(t,e,s,r){t.min=z(e.min,s.min,r),t.max=z(e.max,s.max,r)}function x0(t,e,s,r){yo(t.x,e.x,s.x,r),yo(t.y,e.y,s.y,r)}function y0(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const b0={duration:.45,ease:[.4,0,.1,1]},bo=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),vo=bo("applewebkit/")&&!bo("chrome/")?Math.round:ae;function wo(t){t.min=vo(t.min),t.max=vo(t.max)}function v0(t){wo(t.x),wo(t.y)}function nd(t,e,s){return t==="position"||t==="preserve-aspect"&&!wx(ho(e),ho(s),.2)}function w0(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const j0=rd({attachResizeListener:(t,e)=>Re(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sn={current:void 0},id=rd({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!sn.current){const t=new j0({});t.mount(window),t.setOptions({layoutScroll:!0}),sn.current=t}return sn.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),N0={pan:{Feature:Mx},drag:{Feature:Lx,ProjectionNode:id,MeasureLayout:Qc}};function jo(t,e){const s=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(a,o)=>{if(a.pointerType==="touch"||Uc())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e);const c=l[r];c&&B.postRender(()=>c(a,o))};return Le(t.current,s,i,{passive:!t.getProps()[r]})}class k0 extends Xe{mount(){this.unmount=Oe(jo(this.node,!0),jo(this.node,!1))}unmount(){}}class S0 extends Xe{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Oe(Re(this.node.current,"focus",()=>this.onFocus()),Re(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const ad=(t,e)=>e?t===e?!0:ad(t,e.parentElement):!1;function rn(t,e){if(!e)return;const s=new PointerEvent("pointer"+t);e(s,Tr(s))}class _0 extends Xe{constructor(){super(...arguments),this.removeStartListeners=ae,this.removeEndListeners=ae,this.removeAccessibleListeners=ae,this.startPointerPress=(e,s)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=Le(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:u,globalTapTarget:h}=this.node.getProps(),m=!h&&!ad(this.node.current,l.target)?u:d;m&&B.update(()=>m(l,c))},{passive:!(r.onTap||r.onPointerUp)}),o=Le(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Oe(a,o),this.startPress(e,s)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||rn("up",(c,d)=>{const{onTap:u}=this.node.getProps();u&&B.postRender(()=>u(c,d))})};this.removeEndListeners(),this.removeEndListeners=Re(this.node.current,"keyup",o),rn("down",(l,c)=>{this.startPress(l,c)})},s=Re(this.node.current,"keydown",e),r=()=>{this.isPressing&&rn("cancel",(a,o)=>this.cancelPress(a,o))},i=Re(this.node.current,"blur",r);this.removeAccessibleListeners=Oe(s,i)}}startPress(e,s){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&B.postRender(()=>r(e,s))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Uc()}cancelPress(e,s){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&B.postRender(()=>r(e,s))}mount(){const e=this.node.getProps(),s=Le(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Re(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Oe(s,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Dn=new WeakMap,nn=new WeakMap,P0=t=>{const e=Dn.get(t.target);e&&e(t)},C0=t=>{t.forEach(P0)};function T0({root:t,...e}){const s=t||document;nn.has(s)||nn.set(s,{});const r=nn.get(s),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(C0,{root:t,...e})),r[i]}function A0(t,e,s){const r=T0(e);return Dn.set(t,s),r.observe(t),()=>{Dn.delete(t),r.unobserve(t)}}const E0={some:0,all:1};class R0 extends Xe{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:r,amount:i="some",once:a}=e,o={root:s?s.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:E0[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),m=d?u:h;m&&m(c)};return A0(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(I0(e,s))&&this.startObserver()}unmount(){}}function I0({viewport:t={}},{viewport:e={}}={}){return s=>t[s]!==e[s]}const D0={inView:{Feature:R0},tap:{Feature:_0},focus:{Feature:S0},hover:{Feature:k0}},O0={layout:{ProjectionNode:id,MeasureLayout:Qc}},Ei=p.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Er=p.createContext({}),Ri=typeof window<"u",od=Ri?p.useLayoutEffect:p.useEffect,ld=p.createContext({strict:!1});function L0(t,e,s,r,i){var a,o;const{visualElement:l}=p.useContext(Er),c=p.useContext(ld),d=p.useContext(Ar),u=p.useContext(Ei).reducedMotion,h=p.useRef();r=r||c.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:l,props:s,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const m=h.current,f=p.useContext(Xc);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&M0(h.current,s,i,f);const g=p.useRef(!1);p.useInsertionEffect(()=>{m&&g.current&&m.update(s,d)});const y=s[Ic],x=p.useRef(!!y&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,y))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,y)));return od(()=>{m&&(g.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),Ai.render(m.render),x.current&&m.animationState&&m.animationState.animateChanges())}),p.useEffect(()=>{m&&(!x.current&&m.animationState&&m.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,y)}),x.current=!1))}),m}function M0(t,e,s,r){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d}=e;t.projection=new s(t.latestValues,e["data-framer-portal-id"]?void 0:cd(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&St(l),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:d})}function cd(t){if(t)return t.options.allowProjection!==!1?t.projection:cd(t.parent)}function F0(t,e,s){return p.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),s&&(typeof s=="function"?s(r):St(s)&&(s.current=r))},[e])}function Rr(t){return _r(t.animate)||ci.some(e=>ys(t[e]))}function dd(t){return!!(Rr(t)||t.variants)}function $0(t,e){if(Rr(t)){const{initial:s,animate:r}=t;return{initial:s===!1||ys(s)?s:void 0,animate:ys(r)?r:void 0}}return t.inherit!==!1?e:{}}function B0(t){const{initial:e,animate:s}=$0(t,p.useContext(Er));return p.useMemo(()=>({initial:e,animate:s}),[No(e),No(s)])}function No(t){return Array.isArray(t)?t.join(" "):t}const ko={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ut={};for(const t in ko)Ut[t]={isEnabled:e=>ko[t].some(s=>!!e[s])};function V0(t){for(const e in t)Ut[e]={...Ut[e],...t[e]}}const U0=Symbol.for("motionComponentSymbol");function G0({preloadedFeatures:t,createVisualElement:e,useRender:s,useVisualState:r,Component:i}){t&&V0(t);function a(l,c){let d;const u={...p.useContext(Ei),...l,layoutId:q0(l)},{isStatic:h}=u,m=B0(l),f=r(l,h);if(!h&&Ri){z0();const g=W0(u);d=g.MeasureLayout,m.visualElement=L0(i,f,u,e,g.ProjectionNode)}return n.jsxs(Er.Provider,{value:m,children:[d&&m.visualElement?n.jsx(d,{visualElement:m.visualElement,...u}):null,s(i,l,F0(f,m.visualElement,c),f,h,m.visualElement)]})}const o=p.forwardRef(a);return o[U0]=i,o}function q0({layoutId:t}){const e=p.useContext(Ti).id;return e&&t!==void 0?e+"-"+t:t}function z0(t,e){p.useContext(ld).strict}function W0(t){const{drag:e,layout:s}=Ut;if(!e&&!s)return{};const r={...e,...s};return{MeasureLayout:e?.isEnabled(t)||s?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const H0=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ii(t){return typeof t!="string"||t.includes("-")?!1:!!(H0.indexOf(t)>-1||/[A-Z]/u.test(t))}function ud(t,{style:e,vars:s},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in s)t.style.setProperty(a,s[a])}const hd=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function md(t,e,s,r){ud(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(hd.has(i)?i:Ci(i),e.attrs[i])}function pd(t,{layout:e,layoutId:s}){return xt.has(t)||t.startsWith("origin")||(e||s!==void 0)&&(!!lr[t]||t==="opacity")}function Di(t,e,s){var r;const{style:i}=t,a={};for(const o in i)(ie(i[o])||e.style&&ie(e.style[o])||pd(o,t)||((r=s?.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[o]=i[o]);return a}function fd(t,e,s){const r=Di(t,e,s);for(const i in t)if(ie(t[i])||ie(e[i])){const a=Ds.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}function Oi(t){const e=p.useRef(null);return e.current===null&&(e.current=t()),e.current}function K0({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:s},r,i,a){const o={latestValues:J0(r,i,a,t),renderState:e()};return s&&(o.mount=l=>s(r,l,o)),o}const gd=t=>(e,s)=>{const r=p.useContext(Er),i=p.useContext(Ar),a=()=>K0(t,e,r,i);return s?a():Oi(a)};function J0(t,e,s,r){const i={},a=r(t,{});for(const m in a)i[m]=Zs(a[m]);let{initial:o,animate:l}=t;const c=Rr(t),d=dd(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let u=s?s.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!_r(h)){const m=Array.isArray(h)?h:[h];for(let f=0;f<m.length;f++){const g=oi(t,m[f]);if(g){const{transitionEnd:y,transition:x,...b}=g;for(const v in b){let w=b[v];if(Array.isArray(w)){const N=u?w.length-1:0;w=w[N]}w!==null&&(i[v]=w)}for(const v in y)i[v]=y[v]}}}return i}const Li=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),xd=()=>({...Li(),attrs:{}}),yd=(t,e)=>e&&typeof t=="number"?e.transform(t):t,X0={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Q0=Ds.length;function Y0(t,e,s){let r="",i=!0;for(let a=0;a<Q0;a++){const o=Ds[a],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||s){const d=yd(l,xi[o]);if(!c){i=!1;const u=X0[o]||o;r+=`${u}(${d}) `}s&&(e[o]=d)}}return r=r.trim(),s?r=s(e,i?"":r):i&&(r="none"),r}function Mi(t,e,s){const{style:r,vars:i,transformOrigin:a}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(xt.has(c)){o=!0;continue}else if(dc(c)){i[c]=d;continue}else{const u=yd(d,xi[c]);c.startsWith("origin")?(l=!0,a[c]=u):r[c]=u}}if(e.transform||(o||s?r.transform=Y0(e,t.transform,s):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=a;r.transformOrigin=`${c} ${d} ${u}`}}function So(t,e,s){return typeof t=="string"?t:E.transform(e+s*t)}function Z0(t,e,s){const r=So(e,t.x,t.width),i=So(s,t.y,t.height);return`${r} ${i}`}const ey={offset:"stroke-dashoffset",array:"stroke-dasharray"},ty={offset:"strokeDashoffset",array:"strokeDasharray"};function sy(t,e,s=1,r=0,i=!0){t.pathLength=1;const a=i?ey:ty;t[a.offset]=E.transform(-r);const o=E.transform(e),l=E.transform(s);t[a.array]=`${o} ${l}`}function Fi(t,{attrX:e,attrY:s,attrScale:r,originX:i,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,h){if(Mi(t,d,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:f,dimensions:g}=t;m.transform&&(g&&(f.transform=m.transform),delete m.transform),g&&(i!==void 0||a!==void 0||f.transform)&&(f.transformOrigin=Z0(g,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(m.x=e),s!==void 0&&(m.y=s),r!==void 0&&(m.scale=r),o!==void 0&&sy(m,o,l,c,!1)}const $i=t=>typeof t=="string"&&t.toLowerCase()==="svg",ry={useVisualState:gd({scrapeMotionValuesFromProps:fd,createRenderState:xd,onMount:(t,e,{renderState:s,latestValues:r})=>{B.read(()=>{try{s.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}),B.render(()=>{Fi(s,r,$i(e.tagName),t.transformTemplate),md(e,s)})}})},ny={useVisualState:gd({scrapeMotionValuesFromProps:Di,createRenderState:Li})};function bd(t,e,s){for(const r in e)!ie(e[r])&&!pd(r,s)&&(t[r]=e[r])}function iy({transformTemplate:t},e){return p.useMemo(()=>{const s=Li();return Mi(s,e,t),Object.assign({},s.vars,s.style)},[e])}function ay(t,e){const s=t.style||{},r={};return bd(r,s,t),Object.assign(r,iy(t,e)),r}function oy(t,e){const s={},r=ay(t,e);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=r,s}const ly=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cr(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||ly.has(t)}let vd=t=>!cr(t);function cy(t){t&&(vd=e=>e.startsWith("on")?!cr(e):t(e))}try{cy(require("@emotion/is-prop-valid").default)}catch{}function dy(t,e,s){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(vd(i)||s===!0&&cr(i)||!e&&!cr(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function uy(t,e,s,r){const i=p.useMemo(()=>{const a=xd();return Fi(a,e,$i(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};bd(a,t.style,t),i.style={...a,...i.style}}return i}function hy(t=!1){return(s,r,i,{latestValues:a},o)=>{const c=(Ii(s)?uy:oy)(r,a,o,s),d=dy(r,typeof s=="string",t),u=s!==p.Fragment?{...d,...c,ref:i}:{},{children:h}=r,m=p.useMemo(()=>ie(h)?h.get():h,[h]);return p.createElement(s,{...u,children:m})}}function my(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...Ii(r)?ry:ny,preloadedFeatures:t,useRender:hy(i),createVisualElement:e,Component:r};return G0(o)}}const On={current:null},wd={current:!1};function py(){if(wd.current=!0,!!Ri)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>On.current=t.matches;t.addListener(e),e()}else On.current=!1}function fy(t,e,s){for(const r in e){const i=e[r],a=s[r];if(ie(i))t.addValue(r,i);else if(ie(a))t.addValue(r,ws(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,ws(o!==void 0?o:i,{owner:t}))}}for(const r in s)e[r]===void 0&&t.removeValue(r);return e}const _o=new WeakMap,gy=[...mc,ne,Je],xy=t=>gy.find(hc(t)),Po=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class yy{scrapeMotionValuesFromProps(e,s,r){return{}}constructor({parent:e,props:s,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=pi,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Te.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,B.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=s,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=Rr(s),this.isVariantNode=dd(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(s,{},this);for(const m in h){const f=h[m];c[m]!==void 0&&ie(f)&&f.set(c[m],!1)}}mount(e){this.current=e,_o.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),wd.current||py(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:On.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){_o.delete(this.current),this.projection&&this.projection.unmount(),He(this.notifyUpdate),He(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=xt.has(e),i=s.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&B.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=s.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{i(),a(),o&&o(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ut){const s=Ut[e];if(!s)continue;const{isEnabled:r,Feature:i}=s;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):X()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<Po.length;r++){const i=Po[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=e[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=fy(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const r=this.values.get(e);s!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&s!==void 0&&(r=ws(s===null?void 0:s,{owner:this}),this.addValue(e,r)),r}readValue(e,s){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(lc(i)||oc(i))?i=parseFloat(i):!xy(i)&&Je.test(s)&&(i=wc(e,s)),this.setBaseTarget(e,ie(i)?i.get():i)),ie(i)?i.get():i}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){var s;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=oi(this.props,r,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!ie(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new Pi),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}}class jd extends yy{constructor(){super(...arguments),this.KeyframeResolver=jc}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:r}){delete s[e],delete r[e]}}function by(t){return window.getComputedStyle(t)}class vy extends jd{constructor(){super(...arguments),this.type="html",this.renderInstance=ud}readValueFromInstance(e,s){if(xt.has(s)){const r=yi(s);return r&&r.default||0}else{const r=by(e),i=(dc(s)?r.getPropertyValue(s):r[s])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:s}){return Kc(e,s)}build(e,s,r){Mi(e,s,r.transformTemplate)}scrapeMotionValuesFromProps(e,s,r){return Di(e,s,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ie(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}class wy extends jd{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=X}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(xt.has(s)){const r=yi(s);return r&&r.default||0}return s=hd.has(s)?s:Ci(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,r){return fd(e,s,r)}build(e,s,r){Fi(e,s,this.isSVGTag,r.transformTemplate)}renderInstance(e,s,r,i){md(e,s,r,i)}mount(e){this.isSVGTag=$i(e.tagName),super.mount(e)}}const jy=(t,e)=>Ii(t)?new wy(e):new vy(e,{allowProjection:t!==p.Fragment}),Ny=my({...hx,...D0,...N0,...O0},jy),_=sf(Ny);class ky extends p.Component{getSnapshotBeforeUpdate(e){const s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=s.offsetHeight||0,r.width=s.offsetWidth||0,r.top=s.offsetTop,r.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Sy({children:t,isPresent:e}){const s=p.useId(),r=p.useRef(null),i=p.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=p.useContext(Ei);return p.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:d}=i.current;if(e||!r.current||!o||!l)return;r.current.dataset.motionPopId=s;const u=document.createElement("style");return a&&(u.nonce=a),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),n.jsx(ky,{isPresent:e,childRef:r,sizeRef:i,children:p.cloneElement(t,{ref:r})})}const _y=({children:t,initial:e,isPresent:s,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o})=>{const l=Oi(Py),c=p.useId(),d=p.useCallback(h=>{l.set(h,!0);for(const m of l.values())if(!m)return;r&&r()},[l,r]),u=p.useMemo(()=>({id:c,initial:e,isPresent:s,custom:i,onExitComplete:d,register:h=>(l.set(h,!1),()=>l.delete(h))}),a?[Math.random(),d]:[s,d]);return p.useMemo(()=>{l.forEach((h,m)=>l.set(m,!1))},[s]),p.useEffect(()=>{!s&&!l.size&&r&&r()},[s]),o==="popLayout"&&(t=n.jsx(Sy,{isPresent:s,children:t})),n.jsx(Ar.Provider,{value:u,children:t})};function Py(){return new Map}const Hs=t=>t.key||"";function Co(t){const e=[];return p.Children.forEach(t,s=>{p.isValidElement(s)&&e.push(s)}),e}const dr=({children:t,exitBeforeEnter:e,custom:s,initial:r=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:o="sync"})=>{const l=p.useMemo(()=>Co(t),[t]),c=l.map(Hs),d=p.useRef(!0),u=p.useRef(l),h=Oi(()=>new Map),[m,f]=p.useState(l),[g,y]=p.useState(l);od(()=>{d.current=!1,u.current=l;for(let v=0;v<g.length;v++){const w=Hs(g[v]);c.includes(w)?h.delete(w):h.get(w)!==!0&&h.set(w,!1)}},[g,c.length,c.join("-")]);const x=[];if(l!==m){let v=[...l];for(let w=0;w<g.length;w++){const N=g[w],k=Hs(N);c.includes(k)||(v.splice(w,0,N),x.push(N))}o==="wait"&&x.length&&(v=x),y(Co(v)),f(l);return}const{forceRender:b}=p.useContext(Ti);return n.jsx(n.Fragment,{children:g.map(v=>{const w=Hs(v),N=l===g||c.includes(w),k=()=>{if(h.has(w))h.set(w,!0);else return;let T=!0;h.forEach(I=>{I||(T=!1)}),T&&(b?.(),y(u.current),i&&i())};return n.jsx(_y,{isPresent:N,initial:!d.current||r?void 0:!1,custom:N?void 0:s,presenceAffectsLayout:a,mode:o,onExitComplete:N?void 0:k,children:v},w)})})},Cy=()=>{const{theme:t}=jl(),{connected:e,publicKey:s}=U(),r=Xn(),i=new Date().getFullYear();s?.toString();const a=[{label:"Home",path:"/"},{label:"NFT Builder",path:"/nft-builder"},{label:"Leaderboards",path:"/leaderboards"},{label:"Info",path:"/info"}],o=[{label:"Raid",path:"/raid"},{label:"Guild",path:"/guild"},{label:"Profile",path:"/profile"},{label:"Marketplace",path:"/marketplace"}],l=[{label:"Documentation",href:Ze.docs},{label:"GitHub",href:Ze.github},{label:"Discord",href:Ze.discord},{label:"Twitter",href:Ze.twitter}],c=u=>u==="/"&&r.pathname==="/"?!0:u!=="/"&&r.pathname.startsWith(u),d=({title:u,links:h})=>n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsx("h3",{className:"font-semibold text-sand-800 dark:text-sand-200",children:u}),n.jsx("ul",{className:"flex flex-col gap-2",children:h.map(m=>n.jsx("li",{children:m.path?n.jsx(Ns,{to:m.path,className:`flex items-center gap-2 text-sm transition-colors duration-200
                  ${c(m.path)?"text-primary-500 font-medium":"text-sand-600 hover:text-primary-500 dark:text-sand-400 dark:hover:text-primary-400"}`,children:m.label}):n.jsxs("a",{href:m.href,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-sand-600 hover:text-primary-500 dark:text-sand-400 dark:hover:text-primary-400 transition-colors duration-200",children:[m.label,n.jsx(Yn,{className:"w-3 h-3"})]})},m.label))})]});return n.jsxs("footer",{className:"relative mt-auto border-t border-sand-200/50 dark:border-white/5",children:[n.jsx("div",{className:"absolute inset-0 bg-sand-100/80 dark:bg-background-900/80 backdrop-blur-sm"}),n.jsxs("div",{className:"relative container mx-auto px-4 py-12",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12",children:[n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col gap-4",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("div",{className:"text-2xl font-bold tracking-wider text-sand-900 dark:text-sand-100",children:["Pan ",n.jsx("span",{className:"text-primary-500",children:"Da Pan"})]})}),n.jsx("p",{className:"text-sm text-sand-600 dark:text-sand-400",children:"Join the next generation of NFT gaming. Raid, collect, and earn together."})]}),n.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:n.jsx(d,{title:"Quick Links",links:a})}),n.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:n.jsx(d,{title:"Community",links:o})}),n.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:n.jsx(d,{title:"Resources",links:l})})]}),n.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"flex flex-col md:flex-row justify-between items-center gap-4 mt-12 pt-8 border-t border-sand-200/50 dark:border-white/5",children:[n.jsxs("div",{className:"text-sm text-sand-600 dark:text-sand-400",children:[i," Pan Da Pan. All rights reserved."]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("a",{href:Ze.twitter,target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-xl hover:bg-primary-500/10 text-sand-600 hover:text-primary-500 dark:text-sand-400 dark:hover:text-primary-400 transition-all duration-300","aria-label":"Twitter",children:n.jsx(xr,{className:"w-5 h-5"})}),n.jsx("a",{href:Ze.discord,target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-xl hover:bg-primary-500/10 text-sand-600 hover:text-primary-500 dark:text-sand-400 dark:hover:text-primary-400 transition-all duration-300","aria-label":"Discord",children:n.jsx(Zn,{className:"w-5 h-5"})}),n.jsx("a",{href:Ze.github,target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-xl hover:bg-primary-500/10 text-sand-600 hover:text-primary-500 dark:text-sand-400 dark:hover:text-primary-400 transition-all duration-300","aria-label":"GitHub",children:n.jsx(rl,{className:"w-5 h-5"})})]})]})]})]})},Ty=({onScrollToTop:t})=>{const{isPlaying:e,togglePlay:s,volume:r,setVolume:i}=vl(),{theme:a,toggleTheme:o}=jl(),[l,c]=p.useState(!1),[d,u]=p.useState(!0),[h,m]=p.useState(0),f=()=>{const x=window.innerHeight,b=window.scrollY,v=Math.ceil((b+10)/x)*x;window.scrollTo({top:v,behavior:"smooth"})};p.useEffect(()=>{const x=b=>{l&&c(!1)};return document.addEventListener("click",x),()=>document.removeEventListener("click",x)},[l]),p.useEffect(()=>{let x=!1,b;const v=()=>{x||(window.requestAnimationFrame(()=>{const w=window.scrollY;u(w<=0||w<h),m(w),x=!1}),x=!0),clearTimeout(b),b=setTimeout(()=>{u(!0)},1e3)};return window.addEventListener("scroll",v,{passive:!0}),()=>{window.removeEventListener("scroll",v),clearTimeout(b)}},[h]);const g="w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center rounded-lg sm:rounded-xl bg-gradient-to-br from-primary-500/90 to-primary-600/90 hover:from-primary-500 hover:to-primary-600 shadow-lg shadow-primary-500/30 hover:shadow-primary-500/40 text-white transition-all duration-300 backdrop-blur-sm dark:from-primary-900/90 dark:to-primary-800/90 dark:hover:from-primary-800 dark:hover:to-primary-700",y="w-5 h-5 sm:w-6 sm:h-6";return n.jsxs(n.Fragment,{children:[n.jsx(dr,{children:d&&n.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.2},className:"fixed bottom-4 inset-x-0 mx-auto z-40 flex justify-center",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(_.button,{onClick:o,className:g,whileHover:{scale:1.05},whileTap:{scale:.95},children:a==="dark"?n.jsx(rh,{className:y}):n.jsx(nh,{className:y})}),n.jsx(_.button,{onClick:f,className:g,whileHover:{scale:1.05},whileTap:{scale:.95},children:n.jsx(fs,{className:y})}),n.jsx(_.button,{onClick:x=>{x.stopPropagation(),e||c(!0),s()},className:g,whileHover:{scale:1.05},whileTap:{scale:.95},children:e?n.jsx(ih,{className:y}):n.jsx(ah,{className:y})})]})})}),n.jsx(dr,{children:l&&n.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.2},className:`fixed bottom-20 inset-x-0 mx-auto z-50 w-[90%] max-w-[300px] bg-white/90 dark:bg-black/90
              rounded-xl p-4 shadow-xl border border-sand-200/20 backdrop-blur-md`,onClick:x=>x.stopPropagation(),children:n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-sand-900 dark:text-sand-100",children:"Volume"}),n.jsxs("span",{className:"text-xs text-sand-600 dark:text-sand-400",children:[Math.round(r*100),"%"]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:r,onChange:x=>i(parseFloat(x.target.value)),className:`w-full h-2 bg-sand-200 dark:bg-sand-800 rounded-full appearance-none cursor-pointer
                    focus:outline-none focus:ring-2 focus:ring-primary-500/50
                    [&::-webkit-slider-thumb]:appearance-none
                    [&::-webkit-slider-thumb]:w-4
                    [&::-webkit-slider-thumb]:h-4
                    [&::-webkit-slider-thumb]:rounded-full
                    [&::-webkit-slider-thumb]:bg-primary-500
                    [&::-webkit-slider-thumb]:shadow-lg
                    [&::-webkit-slider-thumb]:shadow-primary-500/30
                    [&::-webkit-slider-thumb]:border-2
                    [&::-webkit-slider-thumb]:border-white
                    dark:[&::-webkit-slider-thumb]:border-black
                    [&::-webkit-slider-thumb]:transition-all
                    [&::-webkit-slider-thumb]:hover:scale-110
                    [&::-moz-range-thumb]:w-4
                    [&::-moz-range-thumb]:h-4
                    [&::-moz-range-thumb]:rounded-full
                    [&::-moz-range-thumb]:bg-primary-500
                    [&::-moz-range-thumb]:border-2
                    [&::-moz-range-thumb]:border-white
                    dark:[&::-moz-range-thumb]:border-black
                    [&::-moz-range-thumb]:transition-all
                    [&::-moz-range-thumb]:hover:scale-110`}),n.jsx("div",{className:"absolute left-0 top-1/2 h-2 bg-primary-500 rounded-l-full pointer-events-none",style:{width:`${r*100}%`,transform:"translateY(-50%)"}})]})]})})})]})};function Ay(){const[t,e]=p.useState(0);return p.useEffect(()=>{const r=()=>{e(window.scrollY)};return r(),window.addEventListener("scroll",r,{passive:!0}),()=>window.removeEventListener("scroll",r)},[]),{scrollY:t,getParallaxStyle:(r=.02)=>({transform:`translate3d(0, ${t*r}px, 0)`})}}const Ey=()=>{const t={SUPABASE_URL:"https://prwzpyrplldwpsydmxkb.supabase.co".trim(),SUPABASE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InByd3pweXJwbGxkd3BzeWRteGtiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzIxNDAzNTgsImV4cCI6MjA0NzcxNjM1OH0.RK-0gSUcBBqJ-ep7Ti_wttEUnQImbFt7AJJSNfwpMao".trim(),SOLANA_RPC:"https://api.mainnet-beta.solana.com".trim(),SOLANA_NETWORK:"mainnet-beta".trim(),HELIUS_API_KEY:"294dd1b6-c58f-4fd1-bebf-2b17a910915a".trim()};if(!t.SUPABASE_URL||!t.SUPABASE_URL.startsWith("https://"))throw console.error("Invalid SUPABASE_URL:",t.SUPABASE_URL),new Error("Invalid SUPABASE_URL format");if(!t.SUPABASE_KEY||!t.SUPABASE_KEY.includes("eyJ"))throw console.error("Invalid SUPABASE_KEY format"),new Error("Invalid SUPABASE_KEY format");if(!t.SOLANA_RPC||!t.SOLANA_RPC.startsWith("https://"))throw console.error("Invalid SOLANA_RPC:",t.SOLANA_RPC),new Error("Invalid SOLANA_RPC format");if(!t.SOLANA_NETWORK||!["mainnet-beta","testnet","devnet"].includes(t.SOLANA_NETWORK))throw console.error("Invalid SOLANA_NETWORK:",t.SOLANA_NETWORK),new Error("Invalid SOLANA_NETWORK format");return t},Ry=()=>{const{connected:t}=U(),{isPlaying:e}=vl(),[s,r]=p.useState(!1);return pt(),n.jsxs("div",{className:"relative min-h-[80vh] sm:min-h-[70vh] flex items-center justify-center overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 mx-2 sm:mx-6 lg:mx-8",children:n.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-background-900/30 via-background-900/50 to-background-900/80 z-10"}),n.jsxs("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover",style:{opacity:e?1:.5,transition:"opacity 0.5s ease-in-out"},poster:"/assets/images/hero-poster.webp",children:[n.jsx("source",{src:"/videos/hero-background.webm",type:"video/webm"}),n.jsx("source",{src:"/videos/hero-background.mp4",type:"video/mp4"})]})]})}),n.jsx("div",{className:"relative z-10 container mx-auto px-3 sm:px-4 py-6 sm:py-8 lg:py-12 flex flex-col items-center text-center",children:n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-4xl mx-auto",children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-medium mb-2 text-sand-200",children:"Welcome to"}),n.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold mb-6 sm:mb-8 bg-clip-text text-transparent bg-gradient-to-r from-primary-500 to-primary-400",children:"Pan Da Pan"}),n.jsx("p",{className:"text-base sm:text-lg lg:text-xl text-sand-300 mb-8 sm:mb-10 max-w-2xl mx-auto",children:"Join forces with fellow raiders, battle epic bosses, and earn valuable NFT rewards in this next-generation Web3 gaming experience."}),n.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center max-w-md mx-auto sm:max-w-none",children:n.jsx(el,{className:"!bg-primary-500 hover:!bg-primary-600 !transition-all !duration-300 !px-6 !py-3 !h-auto !rounded-xl"})})]})}),n.jsx("div",{className:"absolute inset-0 pointer-events-none mx-2 sm:mx-6 lg:mx-8",children:n.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 inset-x-0 h-32 bg-gradient-to-b from-background-900 to-transparent"}),n.jsx("div",{className:"absolute bottom-0 inset-x-0 h-32 bg-gradient-to-t from-background-900 to-transparent"}),n.jsx("div",{className:"absolute inset-y-0 left-0 w-32 bg-gradient-to-r from-background-900 to-transparent"}),n.jsx("div",{className:"absolute inset-y-0 right-0 w-32 bg-gradient-to-l from-background-900 to-transparent"})]})})]})},Iy=()=>n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx(_.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary-500 to-primary-400",children:"Create Your Custom Panda PFP"}),n.jsx(_.p,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.2},className:"mt-4 text-lg text-sand-700 dark:text-sand-300 max-w-3xl mx-auto",children:"Dive into the world of creativity with our easy-to-use NFT Builder! This tool lets anyone design a personalized panda profile picture (PFP) inspired by the traits and layers of our RaidRally collection. Mix and match traits like expressions, accessories, and backgrounds to craft a digital panda that's uniquely yours. While these designs are separate from our official NFT collection, you can download your custom creation to use as a PFP or share it with friends!"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[n.jsxs(_.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:.1},className:"bg-white/40 dark:bg-black/20 backdrop-blur-sm rounded-xl p-6 border border-sand-300/20 dark:border-sand-200/10 hover:border-primary-500/30 transition-all duration-300",children:[n.jsx("h3",{className:"text-xl font-semibold text-sand-900 dark:text-white mb-2",children:"Start Designing"}),n.jsx("p",{className:"text-sand-700 dark:text-sand-300",children:"Choose from a variety of traits and layers to bring your panda vision to life."})]}),n.jsxs(_.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:.2},className:"bg-white/40 dark:bg-black/20 backdrop-blur-sm rounded-xl p-6 border border-sand-300/20 dark:border-sand-200/10 hover:border-primary-500/30 transition-all duration-300",children:[n.jsx("h3",{className:"text-xl font-semibold text-sand-900 dark:text-white mb-2",children:"Real-Time Preview"}),n.jsx("p",{className:"text-sand-700 dark:text-sand-300",children:"Watch your panda take shape as you add and adjust traits."})]}),n.jsxs(_.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:.3},className:"bg-white/40 dark:bg-black/20 backdrop-blur-sm rounded-xl p-6 border border-sand-300/20 dark:border-sand-200/10 hover:border-primary-500/30 transition-all duration-300",children:[n.jsx("h3",{className:"text-xl font-semibold text-sand-900 dark:text-white mb-2",children:"Download Your Creation"}),n.jsx("p",{className:"text-sand-700 dark:text-sand-300",children:"Save your personalized PFP directly to your devicecompletely free!"})]}),n.jsxs(_.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:.4},className:"bg-white/40 dark:bg-black/20 backdrop-blur-sm rounded-xl p-6 border border-sand-300/20 dark:border-sand-200/10 hover:border-primary-500/30 transition-all duration-300",children:[n.jsx("h3",{className:"text-xl font-semibold text-sand-900 dark:text-white mb-2",children:"Join the Community"}),n.jsx("p",{className:"text-sand-700 dark:text-sand-300",children:"Show off your design and connect with others who love the pandas as much as you do."})]}),n.jsx(_.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.5},className:"sm:col-span-2 mt-4",children:n.jsxs(Ns,{to:"/nft-builder",className:"inline-flex items-center px-6 py-3 rounded-xl font-semibold text-white bg-gradient-to-r from-primary-500 to-primary-400 hover:from-primary-600 hover:to-primary-500 transition-all duration-200 shadow-lg shadow-primary-500/20 hover:shadow-primary-500/30",children:["Start Creating",n.jsx(nl,{className:"ml-2 w-5 h-5"})]})})]}),n.jsxs(_.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:.3},className:"relative flex items-center",children:[n.jsx("div",{className:"aspect-square w-full rounded-2xl overflow-hidden border-2 border-sand-300/20 dark:border-sand-200/10 shadow-2xl shadow-primary-500/20",children:n.jsx("img",{src:"assets/defaultpfp.jpg",alt:"Sample Panda NFT",className:"w-full h-full object-cover"})}),n.jsx("div",{className:"absolute -bottom-6 -right-6 w-24 h-24 bg-gradient-to-br from-primary-500 to-primary-400 rounded-full opacity-50 blur-2xl"}),n.jsx("div",{className:"absolute -top-6 -left-6 w-32 h-32 bg-gradient-to-br from-sand-400 to-sand-300 rounded-full opacity-30 blur-2xl dark:opacity-20"})]})]})]}),Dy=[{name:"Frank (DeGods)",difficulty:"Extreme",rewards:"5000-10000 $RAID",image:"/assets/raid/frank.jpg",description:'Founder of DeGods & y00ts. Pioneer of the "DUST" ecosystem. Most influential builder in Solana NFTs.',twitter:"@frankdegods"},{name:"Toly",difficulty:"Extreme",rewards:"5000-10000 $RAID",image:"/assets/raid/toly.jpg",description:"Co-founder of Solana. Visionary behind the fastest blockchain in crypto.",twitter:"@aeyakovenko"},{name:"PattyIce",difficulty:"Hard",rewards:"2500-5000 $RAID",image:"/assets/raid/pattyice.jpg",description:"Elite NFT trader and market maker. Known for legendary calls and massive trades.",twitter:"@PattyIce_NFT"},{name:"Cozy",difficulty:"Hard",rewards:"2500-5000 $RAID",image:"/assets/raid/cozypront.jpg",description:"The Caller. Top alpha provider in the Solana ecosystem. Known for precise market insights.",twitter:"@cozypront"},{name:"IcedKnife",difficulty:"Hard",rewards:"2500-5000 $RAID",image:"/assets/raid/icedknife.jpg",description:"Prolific NFT trader and community leader. Sharp market analysis and consistent wins.",twitter:"@IcedKnife"},{name:"EasyEats",difficulty:"Hard",rewards:"2500-5000 $RAID",image:"/assets/raid/easyeats.jpg",description:"Bodega mastermind. High-volume trader with deep market expertise.",twitter:"@EasyEatsBodega"},{name:"BAYC",difficulty:"Extreme",rewards:"5000-10000 $RAID",image:"/assets/raid/bored.jpg",description:"The most prestigious NFT collection. Leading the way in Web3 culture and innovation.",twitter:"@BoredApeYC"},{name:"Bonk!",difficulty:"Hard",rewards:"2500-5000 $RAID",image:"/assets/raid/bonk.jpg",description:"The Solana meme coin that took the world by storm. Community-driven, fun-focused.",twitter:"@bonk_inu"}],To={Easy:"bg-green-500",Medium:"bg-yellow-500",Hard:"bg-orange-500",Extreme:"bg-red-500"},Oy=()=>n.jsx("div",{className:"py-8 sm:py-12 lg:py-16",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[n.jsx(_.h2,{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-4 sm:mb-6 bg-clip-text text-transparent bg-gradient-to-r from-orange-500 to-orange-600",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:"Epic Raid Bosses"}),n.jsx(_.p,{className:"text-base sm:text-lg text-gray-600 dark:text-sand-300 max-w-2xl mx-auto mb-8",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},children:"Battle against the most influential figures in Web3"})]}),n.jsx(_.div,{className:"mb-8",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:n.jsxs("div",{className:`bg-white/50 dark:bg-black/10 backdrop-blur-sm rounded-2xl p-6 
                       border border-sand-200/20 dark:border-white/10`,children:[n.jsx("div",{className:"mt-12",children:n.jsx("h3",{className:"text-2xl font-bold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-orange-500 to-orange-600",children:"How Raids Work"})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[n.jsxs("div",{className:"flex flex-col items-center text-center p-4 bg-white/30 dark:bg-black/30 rounded-xl cursor-pointer hover:bg-white/40 dark:hover:bg-black/40 transition-all duration-300",onClick:()=>{window.confirm("Would you like to view the Raid Boss's Twitter page?")&&window.open("https://twitter.com/target_account","_blank")},children:[n.jsx(ei,{className:"w-10 h-10 text-primary-500 mb-3"}),n.jsx("h4",{className:"font-semibold mb-2 text-gray-900 dark:text-sand-100",children:"Select Target"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-sand-400",children:"Choose from influential figures and top NFT projects"})]}),n.jsxs("div",{className:"flex flex-col items-center text-center p-4 bg-white/30 dark:bg-black/30 rounded-xl cursor-pointer hover:bg-white/40 dark:hover:bg-black/40 transition-all duration-300",onClick:()=>{window.confirm("Would you like to view the Raid Boss's Twitter page?")&&window.open("https://twitter.com/raid_party","_blank")},children:[n.jsx(W,{className:"w-10 h-10 text-primary-500 mb-3"}),n.jsx("h4",{className:"font-semibold mb-2 text-gray-900 dark:text-sand-100",children:"Form Raid Party"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-sand-400",children:"Team up with other raiders to increase your power"})]}),n.jsxs("div",{className:"flex flex-col items-center text-center p-4 bg-white/30 dark:bg-black/30 rounded-xl cursor-pointer hover:bg-white/40 dark:hover:bg-black/40 transition-all duration-300",onClick:()=>{window.confirm("Would you like to view the Raid Boss's Twitter page?")&&window.open("https://twitter.com/raid_attack","_blank")},children:[n.jsx(xr,{className:"w-10 h-10 text-primary-500 mb-3"}),n.jsx("h4",{className:"font-semibold mb-2 text-gray-900 dark:text-sand-100",children:"Launch Attack"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-sand-400",children:"Engage with social content to deal damage"})]}),n.jsxs("div",{className:"flex flex-col items-center text-center p-4 bg-white/30 dark:bg-black/30 rounded-xl cursor-pointer hover:bg-white/40 dark:hover:bg-black/40 transition-all duration-300",onClick:()=>{window.confirm("Would you like to view the Raid Boss's Twitter page?")&&window.open("https://twitter.com/raid_rewards","_blank")},children:[n.jsx(he,{className:"w-10 h-10 text-primary-500 mb-3"}),n.jsx("h4",{className:"font-semibold mb-2 text-gray-900 dark:text-sand-100",children:"Earn Rewards"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-sand-400",children:"Claim $RAID tokens and special NFT rewards"})]})]}),n.jsxs("div",{className:"space-y-4 text-gray-600 dark:text-sand-400",children:[n.jsx("p",{className:"text-center mb-6",children:"Raid bosses are Twitter influencers and NFT projects that players must team up to defeat. Complete social quests to deal damage and earn rewards!"}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[n.jsx(ks,{className:"w-5 h-5 text-primary-500"}),n.jsx("span",{className:"text-sm text-gray-900 dark:text-sand-100",children:"Like Posts"})]}),n.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[n.jsx(oh,{className:"w-5 h-5 text-primary-500"}),n.jsx("span",{className:"text-sm text-gray-900 dark:text-sand-100",children:"Retweet"})]}),n.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[n.jsx(Zn,{className:"w-5 h-5 text-primary-500"}),n.jsx("span",{className:"text-sm text-gray-900 dark:text-sand-100",children:"Comment"})]}),n.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[n.jsx(W,{className:"w-5 h-5 text-primary-500"}),n.jsx("span",{className:"text-sm text-gray-900 dark:text-sand-100",children:"Follow"})]})]})]})]})}),n.jsx(_.div,{className:"text-center mb-6",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:n.jsx("div",{className:"mt-12",children:n.jsx("h3",{className:"text-2xl font-bold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-orange-500 to-orange-600",children:"Types of Raid Bosses"})})}),n.jsx(_.div,{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:Dy.map((t,e)=>n.jsx(_.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:e*.1},className:"group h-full cursor-pointer",onClick:()=>{window.confirm("Would you like to view the Raid Boss's Twitter page?")&&window.open(`https://twitter.com/${t.twitter.substring(1)}`,"_blank")},children:n.jsxs("div",{className:"relative bg-sand-50/80 dark:bg-black/40 rounded-2xl overflow-hidden border border-sand-200/50 dark:border-white/5 hover:border-primary-500/30 dark:hover:border-primary-500/30 transition-all duration-300 h-full flex flex-col",children:[n.jsxs("div",{className:"aspect-[1/1] relative",children:[n.jsx("img",{src:t.image,alt:t.name,className:"absolute inset-0 w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-700"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background-900/80 to-transparent"})]}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-1.5",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-sand-100 mb-0.5",children:t.name}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-sand-400",children:t.twitter})]}),n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium shrink-0
                      ${To[t.difficulty]}/10 text-${To[t.difficulty]}`,children:t.difficulty})]}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-sand-400 mb-3 flex-grow line-clamp-2",children:t.description}),n.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[n.jsx("span",{className:"text-xs font-medium text-gray-900 dark:text-sand-100",children:t.rewards}),n.jsx("button",{className:`px-3 py-1.5 rounded-lg bg-primary-500/10 hover:bg-primary-500/20 
                                   text-primary-500 text-xs font-medium transition-colors`,children:"Challenge"})]})]})]})},t.name))})]})}),Ly=[{title:"Twitter Warrior",description:"Like and Retweet 5 RaidRally community posts",reward:"50 $RAID",difficulty:"Easy",type:"Daily",icon:ei},{title:"Discord Champion",description:"Participate in 3 community discussions",reward:"100 $RAID",difficulty:"Medium",type:"Daily",icon:W},{title:"Raid Leader",description:"Successfully complete 5 raids with your guild",reward:"500 $RAID",difficulty:"Hard",type:"Weekly",icon:Ss},{title:"Tournament Victor",description:"Win a RaidRally community tournament",reward:"1000 $RAID",difficulty:"Legendary",type:"Special",icon:he}],Ao={Easy:"bg-green-500/10 text-green-500",Medium:"bg-yellow-500/10 text-yellow-500",Hard:"bg-orange-500/10 text-orange-500",Legendary:"bg-purple-500/10 text-purple-500"},Eo={Daily:"bg-blue-500/10 text-blue-500",Weekly:"bg-indigo-500/10 text-indigo-500",Special:"bg-rose-500/10 text-rose-500"},My=()=>{const t=pt();return n.jsx("div",{className:"py-8 sm:py-12 lg:py-16",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs(_.div,{className:"text-center mb-8 sm:mb-12",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[n.jsx(_.h2,{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-primary-500 to-primary-600",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:"Available Quests"}),n.jsx(_.p,{className:"text-base sm:text-lg text-gray-600 dark:text-sand-300 max-w-2xl mx-auto",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},children:"Complete quests to earn $RAID tokens and climb the ranks"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[n.jsx(_.div,{className:"lg:col-span-3 grid grid-cols-1 sm:grid-cols-2 gap-4",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},children:Ly.map((e,s)=>n.jsx(_.div,{className:`group relative bg-white/5 backdrop-blur-sm rounded-2xl overflow-hidden 
                         border border-sand-200/20 dark:border-white/10 
                         hover:border-primary-500/50 transition-all duration-300`,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.1*s},children:n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:`inline-flex items-center justify-center w-12 h-12 rounded-xl 
                              bg-primary-500/10 group-hover:bg-primary-500/20 transition-colors mb-4`,children:n.jsx(e.icon,{className:"w-6 h-6 text-primary-500"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-sand-100 mb-2",children:e.title}),n.jsx("p",{className:"text-gray-600 dark:text-sand-400 mb-4",children:e.description}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-auto",children:[n.jsx("span",{className:`px-2.5 py-1 rounded-lg text-xs font-medium ${Ao[e.difficulty]}`,children:e.difficulty}),n.jsx("span",{className:`px-2.5 py-1 rounded-lg text-xs font-medium ${Eo[e.type]}`,children:e.type}),n.jsx("span",{className:"px-2.5 py-1 rounded-lg text-xs font-medium bg-primary-500/10 text-primary-500",children:e.reward})]})]})},e.title))}),n.jsxs(_.div,{className:"lg:col-span-2 space-y-6",initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.4},children:[n.jsxs("div",{className:"bg-white/5 backdrop-blur-sm rounded-2xl p-6 border border-sand-200/20 dark:border-white/10",children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-sand-100 mb-4",children:"Quest Breakdown"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-sand-100 mb-2",children:"Difficulty Levels"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(Ao).map(([e,s])=>n.jsx("div",{className:`px-3 py-2 rounded-lg ${s} text-sm`,children:e},e))})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-sand-100 mb-2",children:"Quest Types"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(Eo).map(([e,s])=>n.jsx("div",{className:`px-3 py-2 rounded-lg ${s} text-sm`,children:e},e))})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-sand-100 mb-2",children:"Rewards"}),n.jsx("p",{className:"text-gray-600 dark:text-sand-400",children:"Complete quests to earn $RAID tokens. Higher difficulty quests offer greater rewards, ranging from 50 to 1000 $RAID tokens."})]})]})]}),n.jsx("div",{className:"bg-white/5 backdrop-blur-sm rounded-2xl p-6 border border-sand-200/20 dark:border-white/10",children:n.jsxs("button",{onClick:()=>t("/raid"),className:"w-full py-3 px-6 bg-primary-500 hover:bg-primary-600 text-white rounded-xl font-semibold transition-colors flex items-center justify-center space-x-2",children:[n.jsx(Ss,{className:"w-5 h-5"}),n.jsx("span",{children:"View All Raids"}),n.jsx(nl,{className:"w-5 h-5"})]})})]})]})]})})},Fy=[{name:"Phoenix Raiders",description:"Elite raiders specializing in high-stakes missions",members:150,raidScore:9500,specialization:"High-Risk Raids",icon:il,banner:"bg-gradient-to-br from-orange-500 to-red-600"},{name:"Diamond Vanguard",description:"Strategic team focused on consistent raid victories",members:120,raidScore:8800,specialization:"Strategic Planning",icon:je,banner:"bg-gradient-to-br from-blue-500 to-purple-600"},{name:"Shadow Legion",description:"Stealth specialists with perfect raid execution",members:100,raidScore:8200,specialization:"Stealth Raids",icon:W,banner:"bg-gradient-to-br from-gray-700 to-gray-900"},{name:"Crown Warriors",description:"Tournament champions and community leaders",members:140,raidScore:9200,specialization:"Tournament Play",icon:he,banner:"bg-gradient-to-br from-yellow-400 to-yellow-600"}],$y=()=>{const t=pt();return n.jsx("div",{className:"py-8 sm:py-12 lg:py-16",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs(_.div,{className:"text-center mb-8 sm:mb-12",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[n.jsx(_.h2,{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-4 sm:mb-6 bg-clip-text text-transparent bg-gradient-to-r from-primary-500 to-primary-600",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:"Unite & Conquer Together"}),n.jsx(_.p,{className:"text-base sm:text-lg text-gray-600 dark:text-sand-300 max-w-2xl mx-auto mb-8",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},children:"Form guilds with other players to tackle challenging raids and earn greater rewards"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[n.jsxs(_.div,{className:"lg:col-span-2 space-y-6",initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.4},children:[n.jsxs("div",{className:"bg-white/5 backdrop-blur-sm rounded-2xl p-6 border border-sand-200/20 dark:border-white/10",children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-sand-100 mb-4",children:"Guild Features"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(W,{className:"w-5 h-5 mt-1 text-primary-500"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-sand-100",children:"Guild Chat & Team Coordination"}),n.jsx("p",{className:"text-gray-600 dark:text-sand-400",children:"Real-time communication and strategic planning with your guild members"})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(he,{className:"w-5 h-5 mt-1 text-primary-500"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-sand-100",children:"Guild Rankings & Raids"}),n.jsx("p",{className:"text-gray-600 dark:text-sand-400",children:"Compete in guild rankings and participate in epic raid missions"})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(je,{className:"w-5 h-5 mt-1 text-primary-500"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-sand-100",children:"Guild Treasury"}),n.jsx("p",{className:"text-gray-600 dark:text-sand-400",children:"Share resources and rewards with your guild members"})]})]})]})]}),n.jsx("div",{className:"bg-white/5 backdrop-blur-sm rounded-2xl p-6 border border-sand-200/20 dark:border-white/10",children:n.jsxs("button",{onClick:()=>t("/guild"),className:"w-full py-3 px-6 bg-primary-500 hover:bg-primary-600 text-white rounded-xl font-semibold transition-colors flex items-center justify-center space-x-2",children:[n.jsx(W,{className:"w-5 h-5"}),n.jsx("span",{children:"Explore All Guilds"})]})})]}),n.jsxs(_.div,{className:"lg:col-span-3",initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.4},children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-sand-100 mb-4",children:"Example Guilds"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Fy.map((e,s)=>n.jsxs(_.div,{className:"bg-white/5 backdrop-blur-sm rounded-xl border border-sand-200/20 dark:border-white/10 overflow-hidden hover:border-primary-500/50 transition-colors cursor-pointer",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.4,delay:.1*s},children:[n.jsx("div",{className:`h-20 ${e.banner} p-4 flex items-center justify-center`,children:n.jsx(e.icon,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{className:"p-4 space-y-2",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-sand-100",children:e.name}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-sand-400",children:e.description}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-sand-400",children:[n.jsxs("span",{children:[e.members," Members"]}),n.jsx("span",{children:e.specialization})]})]})]},e.name))})]})]})]})})},By=[{icon:W,label:"Active Raiders",value:"50",suffix:"K+",description:"Join our growing community of dedicated players"},{icon:he,label:"Raids Completed",value:"1",suffix:"M+",description:"Successfully completed raids and counting"},{icon:_s,label:"$RAID Distributed",value:"100",suffix:"M+",description:"Rewards earned by our community members"}],Vy=()=>{const t={hidden:{},visible:{transition:{staggerChildren:.1}}},e={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return n.jsx("div",{className:"py-8 sm:py-12 lg:py-16",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-8 sm:mb-12 lg:mb-16",children:[n.jsx(_.h2,{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-4 sm:mb-6 bg-clip-text text-transparent bg-gradient-to-r from-primary-500 to-primary-600",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:"Join Our Community"}),n.jsx(_.p,{className:"text-base sm:text-lg text-gray-600 dark:text-sand-300 max-w-2xl mx-auto mb-8",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},children:"Connect with fellow raiders and stay updated on the latest news and events"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 sm:gap-12 lg:gap-16 items-center",children:[n.jsx(_.div,{className:"relative h-[400px] sm:h-[500px] lg:h-full mx-auto w-full max-w-sm lg:max-w-none",initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:n.jsxs("div",{className:"relative rounded-3xl overflow-hidden shadow-xl shadow-primary-500/10 h-full",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background-900/80 via-background-900/20 to-transparent z-10"}),n.jsx("img",{src:"/assets/social.png",alt:"Join our community",className:"absolute inset-0 w-full h-full object-cover object-center transform hover:scale-110 transition-transform duration-700"}),n.jsx("div",{className:"absolute inset-0 bg-primary-500/10 mix-blend-overlay"}),n.jsx("div",{className:"absolute inset-0 rounded-3xl ring-1 ring-white/20"})]})}),n.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[n.jsxs(_.div,{className:"space-y-4",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},children:[n.jsx("p",{className:"text-base sm:text-lg text-gray-600 dark:text-sand-300",children:"RaidRally brings together gamers, NFT enthusiasts, and crypto lovers in an exciting Web3 gaming experience."}),n.jsx("p",{className:"text-base sm:text-lg text-gray-600 dark:text-sand-300",children:"Collaborate with fellow raiders, strategize for epic boss battles, and earn valuable rewards. Our community-driven platform ensures every player's contribution is valued and rewarded."})]}),n.jsx("div",{className:"space-y-6 lg:space-y-8",children:n.jsxs(_.div,{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-6",variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!0},children:[By.map((s,r)=>n.jsx(_.div,{variants:e,className:`group relative bg-white/10 dark:bg-black/10 backdrop-blur-sm rounded-2xl overflow-hidden 
                             border border-sand-200/20 dark:border-white/10 
                             hover:border-primary-500/50 transition-all duration-300
                             ${r===2?"col-span-2 sm:col-span-1":""}`,children:n.jsxs("div",{className:"p-3 sm:p-4 text-center",children:[n.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 sm:w-12 sm:h-12 mb-2 sm:mb-3 rounded-xl 
                                  bg-primary-500/10 group-hover:bg-primary-500/20 transition-colors`,children:n.jsx(s.icon,{className:"w-4 h-4 sm:w-6 sm:h-6 text-primary-500"})}),n.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-sand-100",children:[s.value,n.jsx("span",{className:"text-primary-500",children:s.suffix})]}),n.jsx("div",{className:"text-sm sm:text-base text-gray-600 dark:text-sand-400 font-medium mb-1 sm:mb-2",children:s.label}),n.jsx("div",{className:"text-xs sm:text-sm text-gray-600 dark:text-sand-400",children:s.description})]})},s.label)),n.jsxs(_.div,{variants:e,className:"col-span-2 sm:col-span-1 flex flex-col sm:flex-row lg:justify-center gap-4 items-stretch min-h-[48px]",children:[n.jsx("button",{className:`flex-1 lg:flex-initial lg:w-40 inline-flex items-center justify-center px-6 py-3 rounded-xl 
                             bg-primary-500 hover:bg-primary-600 active:bg-primary-700
                             text-white font-semibold text-base
                             transition-all duration-200 ease-in-out
                             shadow-lg shadow-primary-500/20 hover:shadow-xl hover:shadow-primary-500/30
                             transform hover:-translate-y-0.5`,children:"Join Discord"}),n.jsx("button",{className:`flex-1 lg:flex-initial lg:w-40 inline-flex items-center justify-center px-6 py-3 rounded-xl
                             bg-white/5 hover:bg-white/10 active:bg-white/15
                             text-gray-900 dark:text-sand-100 font-semibold text-base
                             transition-all duration-200 ease-in-out
                             border-2 border-sand-200/20 dark:border-white/10
                             hover:border-sand-200/30 dark:hover:border-white/20
                             shadow-lg shadow-black/5 hover:shadow-xl hover:shadow-black/10
                             transform hover:-translate-y-0.5`,children:"Learn More"})]})]})})]})]})]})})},Pe=({children:t,className:e="",onClick:s})=>n.jsx("div",{onClick:s,className:`mb-6 md:mb-8 bg-gradient-to-br from-primary-500/30 via-sand-200/30 to-transparent
            border border-primary-500/40 dark:border-primary-500/30
            shadow-2xl shadow-primary-500/30
            hover:shadow-primary-500/50 hover:border-primary-500/50
            dark:from-primary-950 dark:via-background-900 dark:to-background-950
            backdrop-blur-md rounded-xl p-4 md:p-6 transition-all duration-300
        ${e}
      `,children:t}),Uy=[{question:"What is RaidRally?",answer:"RaidRally is a Web3 gaming platform where players create, battle, and earn with unique NFT raid bosses. Join epic battles, build your collection, and earn rewards in our thriving community."},{question:"How do I start playing?",answer:"Getting started is easy! Connect your wallet, mint or purchase your first raid boss NFT, and join ongoing raids. You can also create your own raid boss using our NFT Builder."},{question:"What are $RAID tokens?",answer:"$RAID is our in-game currency earned through participating in raids, winning battles, and contributing to the community. Use them for minting NFTs, upgrading raid bosses, or trade on exchanges."},{question:"How do raids work?",answer:"Raids are collaborative battles where players team up to defeat powerful raid bosses. Success depends on strategy, timing, and coordination. Rewards are distributed based on contribution and performance."},{question:"Can I create my own raid boss?",answer:"Yes! Use our NFT Builder to design unique raid bosses with custom attributes, abilities, and visual effects. Your creations can be used in battles or traded in our marketplace."},{question:"What makes RaidRally unique?",answer:"RaidRally combines NFT creation, strategic gameplay, and community-driven rewards in a seamless Web3 experience. Every raid boss is unique, and every player contribution is valued and rewarded."}],Gy=()=>{const[t,e]=p.useState(null),s={hidden:{},visible:{transition:{staggerChildren:.1}}},r={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return n.jsx("div",{className:"py-8 sm:py-12 lg:py-16",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-8 sm:mb-12 lg:mb-16",children:[n.jsx(_.h2,{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-4 sm:mb-6 bg-clip-text text-transparent bg-gradient-to-r from-primary-500 to-primary-600",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:"Frequently Asked Questions"}),n.jsx(_.p,{className:"text-base sm:text-lg text-gray-600 dark:text-sand-300 max-w-2xl mx-auto mb-8",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},children:"Find answers to common questions about RaidRally"})]}),n.jsx(_.div,{variants:s,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 max-w-4xl mx-auto",children:Uy.map((i,a)=>n.jsx(_.div,{variants:r,children:n.jsx(Pe,{className:"h-full group hover:border-primary-500/50 transition-all duration-300",onClick:()=>e(t===a?null:a),children:n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"flex-shrink-0 mt-1",children:n.jsx(lh,{className:"w-5 h-5 text-primary-500"})}),n.jsx("span",{className:"text-base sm:text-lg font-medium text-gray-900 dark:text-sand-100",children:i.question})]}),n.jsx(fs,{className:`w-5 h-5 text-sand-500 transform transition-transform duration-200 flex-shrink-0 mt-1
                              ${t===a?"rotate-180":""}`})]}),n.jsx(dr,{children:t===a&&n.jsx(_.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"mt-4 pl-9",children:n.jsx("div",{className:"text-sm sm:text-base text-gray-600 dark:text-sand-400",children:i.answer})})})]})})},a))})]})})};function Nd(t){var e,s,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(s=Nd(t[e]))&&(r&&(r+=" "),r+=s)}else for(s in t)t[s]&&(r&&(r+=" "),r+=s);return r}function kd(){for(var t,e,s=0,r="",i=arguments.length;s<i;s++)(t=arguments[s])&&(e=Nd(t))&&(r&&(r+=" "),r+=e);return r}const Bi="-",qy=t=>{const e=Wy(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(Bi);return l[0]===""&&l.length!==1&&l.shift(),Sd(l,e)||zy(o)},getConflictingClassGroupIds:(o,l)=>{const c=s[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},Sd=(t,e)=>{if(t.length===0)return e.classGroupId;const s=t[0],r=e.nextPart.get(s),i=r?Sd(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(Bi);return e.validators.find(({validator:o})=>o(a))?.classGroupId},Ro=/^\[(.+)\]$/,zy=t=>{if(Ro.test(t)){const e=Ro.exec(t)[1],s=e?.substring(0,e.indexOf(":"));if(s)return"arbitrary.."+s}},Wy=t=>{const{theme:e,prefix:s}=t,r={nextPart:new Map,validators:[]};return Ky(Object.entries(t.classGroups),s).forEach(([a,o])=>{Ln(o,r,a,e)}),r},Ln=(t,e,s,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:Io(e,i);a.classGroupId=s;return}if(typeof i=="function"){if(Hy(i)){Ln(i(r),e,s,r);return}e.validators.push({validator:i,classGroupId:s});return}Object.entries(i).forEach(([a,o])=>{Ln(o,Io(e,a),s,r)})})},Io=(t,e)=>{let s=t;return e.split(Bi).forEach(r=>{s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s},Hy=t=>t.isThemeGetter,Ky=(t,e)=>e?t.map(([s,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[s,i]}):t,Jy=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,s=new Map,r=new Map;const i=(a,o)=>{s.set(a,o),e++,e>t&&(e=0,r=s,s=new Map)};return{get(a){let o=s.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){s.has(a)?s.set(a,o):i(a,o)}}},_d="!",Xy=t=>{const{separator:e,experimentalParseClassName:s}=t,r=e.length===1,i=e[0],a=e.length,o=l=>{const c=[];let d=0,u=0,h;for(let x=0;x<l.length;x++){let b=l[x];if(d===0){if(b===i&&(r||l.slice(x,x+a)===e)){c.push(l.slice(u,x)),u=x+a;continue}if(b==="/"){h=x;continue}}b==="["?d++:b==="]"&&d--}const m=c.length===0?l:l.substring(u),f=m.startsWith(_d),g=f?m.substring(1):m,y=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:y}};return s?l=>s({className:l,parseClassName:o}):o},Qy=t=>{if(t.length<=1)return t;const e=[];let s=[];return t.forEach(r=>{r[0]==="["?(e.push(...s.sort(),r),s=[]):s.push(r)}),e.push(...s.sort()),e},Yy=t=>({cache:Jy(t.cacheSize),parseClassName:Xy(t),...qy(t)}),Zy=/\s+/,eb=(t,e)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split(Zy);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:f}=s(d);let g=!!f,y=r(g?m.substring(0,f):m);if(!y){if(!g){l=d+(l.length>0?" "+l:l);continue}if(y=r(m),!y){l=d+(l.length>0?" "+l:l);continue}g=!1}const x=Qy(u).join(":"),b=h?x+_d:x,v=b+y;if(a.includes(v))continue;a.push(v);const w=i(y,g);for(let N=0;N<w.length;++N){const k=w[N];a.push(b+k)}l=d+(l.length>0?" "+l:l)}return l};function tb(){let t=0,e,s,r="";for(;t<arguments.length;)(e=arguments[t++])&&(s=Pd(e))&&(r&&(r+=" "),r+=s);return r}const Pd=t=>{if(typeof t=="string")return t;let e,s="";for(let r=0;r<t.length;r++)t[r]&&(e=Pd(t[r]))&&(s&&(s+=" "),s+=e);return s};function sb(t,...e){let s,r,i,a=o;function o(c){const d=e.reduce((u,h)=>h(u),t());return s=Yy(d),r=s.cache.get,i=s.cache.set,a=l,l(c)}function l(c){const d=r(c);if(d)return d;const u=eb(c,s);return i(c,u),u}return function(){return a(tb.apply(null,arguments))}}const q=t=>{const e=s=>s[t]||[];return e.isThemeGetter=!0,e},Cd=/^\[(?:([a-z-]+):)?(.+)\]$/i,rb=/^\d+\/\d+$/,nb=new Set(["px","full","screen"]),ib=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ab=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ob=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,lb=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,cb=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ee=t=>Lt(t)||nb.has(t)||rb.test(t),$e=t=>Wt(t,"length",xb),Lt=t=>!!t&&!Number.isNaN(Number(t)),an=t=>Wt(t,"number",Lt),es=t=>!!t&&Number.isInteger(Number(t)),db=t=>t.endsWith("%")&&Lt(t.slice(0,-1)),L=t=>Cd.test(t),Be=t=>ib.test(t),ub=new Set(["length","size","percentage"]),hb=t=>Wt(t,ub,Td),mb=t=>Wt(t,"position",Td),pb=new Set(["image","url"]),fb=t=>Wt(t,pb,bb),gb=t=>Wt(t,"",yb),ts=()=>!0,Wt=(t,e,s)=>{const r=Cd.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):s(r[2]):!1},xb=t=>ab.test(t)&&!ob.test(t),Td=()=>!1,yb=t=>lb.test(t),bb=t=>cb.test(t),vb=()=>{const t=q("colors"),e=q("spacing"),s=q("blur"),r=q("brightness"),i=q("borderColor"),a=q("borderRadius"),o=q("borderSpacing"),l=q("borderWidth"),c=q("contrast"),d=q("grayscale"),u=q("hueRotate"),h=q("invert"),m=q("gap"),f=q("gradientColorStops"),g=q("gradientColorStopPositions"),y=q("inset"),x=q("margin"),b=q("opacity"),v=q("padding"),w=q("saturate"),N=q("scale"),k=q("sepia"),T=q("skew"),I=q("space"),C=q("translate"),F=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",L,e],S=()=>[L,e],P=()=>["",Ee,$e],R=()=>["auto",Lt,L],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],oe=()=>["start","end","center","between","around","evenly","stretch"],me=()=>["","0",L],Fe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Ae=()=>[Lt,L];return{cacheSize:500,separator:":",theme:{colors:[ts],spacing:[Ee,$e],blur:["none","",Be,L],brightness:Ae(),borderColor:[t],borderRadius:["none","","full",Be,L],borderSpacing:S(),borderWidth:P(),contrast:Ae(),grayscale:me(),hueRotate:Ae(),invert:me(),gap:S(),gradientColorStops:[t],gradientColorStopPositions:[db,$e],inset:D(),margin:D(),opacity:Ae(),padding:S(),saturate:Ae(),scale:Ae(),sepia:me(),skew:Ae(),space:S(),translate:S()},classGroups:{aspect:[{aspect:["auto","square","video",L]}],container:["container"],columns:[{columns:[Be]}],"break-after":[{"break-after":Fe()}],"break-before":[{"break-before":Fe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),L]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",es,L]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",L]}],grow:[{grow:me()}],shrink:[{shrink:me()}],order:[{order:["first","last","none",es,L]}],"grid-cols":[{"grid-cols":[ts]}],"col-start-end":[{col:["auto",{span:["full",es,L]},L]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[ts]}],"row-start-end":[{row:["auto",{span:[es,L]},L]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",L]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",L]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...oe()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...oe(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...oe(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",L,e]}],"min-w":[{"min-w":[L,e,"min","max","fit"]}],"max-w":[{"max-w":[L,e,"none","full","min","max","fit","prose",{screen:[Be]},Be]}],h:[{h:[L,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[L,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[L,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[L,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Be,$e]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",an]}],"font-family":[{font:[ts]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",L]}],"line-clamp":[{"line-clamp":["none",Lt,an]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ee,L]}],"list-image":[{"list-image":["none",L]}],"list-style-type":[{list:["none","disc","decimal",L]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ee,$e]}],"underline-offset":[{"underline-offset":["auto",Ee,L]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",L]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",L]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),mb]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hb]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},fb]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:Q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[Ee,L]}],"outline-w":[{outline:[Ee,$e]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Ee,$e]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Be,gb]}],"shadow-color":[{shadow:[ts]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Be,L]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",L]}],duration:[{duration:Ae()}],ease:[{ease:["linear","in","out","in-out",L]}],delay:[{delay:Ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",L]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[es,L]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",L]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",L]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",L]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ee,$e,an]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ad=sb(vb);function wb(...t){return Ad(kd(...t))}const Do=({children:t,className:e,variant:s="primary",size:r="md",...i})=>{const a="relative inline-flex items-center justify-center font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",o={primary:"bg-primary-500 hover:bg-primary-600 text-white focus:ring-primary-500",secondary:"bg-sand-700 hover:bg-sand-800 text-white focus:ring-sand-500",outline:"border-2 border-primary-500 text-primary-500 hover:bg-primary-500 hover:text-white focus:ring-primary-500",ghost:"text-primary-500 hover:bg-primary-500/10 focus:ring-primary-500"},l={sm:"px-3 py-1.5 text-sm rounded-lg",md:"px-4 py-2 text-base rounded-lg",lg:"px-6 py-3 text-lg rounded-xl",xl:"px-8 py-4 text-xl rounded-xl"};return n.jsx("button",{className:wb(a,o[s],l[r],e),...i,children:t})},jb=()=>{const t=pt();return n.jsx("div",{className:"py-16",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"text-center space-y-8",children:[n.jsx(_.h2,{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-4 sm:mb-6 bg-clip-text text-transparent bg-gradient-to-r from-primary-500 to-primary-600",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:"Ready to Start Your NFT Adventure?"}),n.jsx(_.p,{className:"text-base sm:text-lg text-gray-600 dark:text-sand-300 max-w-2xl mx-auto mb-8",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},children:"Join RaidRally today and become part of the next generation of Web3 gaming"}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[n.jsx(Do,{variant:"primary",size:"lg",className:"bg-primary-500 hover:bg-primary-600 text-white font-semibold px-8 py-3 rounded-xl",onClick:()=>t("/profile"),children:"Get Started Now"}),n.jsx(Do,{variant:"secondary",size:"lg",className:`bg-white/50 dark:bg-black/10 hover:bg-white/60 dark:hover:bg-black/20 
                       text-sand-900 dark:text-sand-100 font-semibold px-8 py-3 rounded-xl
                       border border-sand-200/20 dark:border-white/10`,onClick:()=>{document.getElementById("learn-more")?.scrollIntoView({behavior:"smooth"})},children:"Learn More"})]})]})})})},tt=({children:t,className:e="",variant:s="default",fullWidth:r=!1})=>{const i="backdrop-blur-md rounded-3xl transition-all duration-300 overflow-hidden",a={default:`bg-sand-100/95 dark:bg-black/40 
      border border-sand-300/50 dark:border-white/5 
      shadow-lg shadow-sand-400/20 dark:shadow-primary-500/20 
      hover:border-primary-500/20 dark:hover:border-primary-500/20
      hover:shadow-primary-500/10 dark:hover:shadow-primary-500/30`,gradient:`bg-gradient-to-br from-primary-500/20 via-sand-200/20 to-transparent 
      border border-primary-500/30 dark:border-primary-500/20
      shadow-xl shadow-primary-500/30 
      hover:shadow-primary-500/40 hover:border-primary-500/40`,dark:`bg-background-900/95 dark:bg-black/60
      border border-background-800/50 dark:border-white/10
      shadow-2xl shadow-black/40
      hover:border-primary-500/30 hover:shadow-primary-500/30`,highlight:`bg-gradient-to-br from-primary-500/30 via-sand-200/30 to-transparent
      border border-primary-500/40 dark:border-primary-500/30
      shadow-2xl shadow-primary-500/30
      hover:shadow-primary-500/50 hover:border-primary-500/50
      dark:from-primary-950 dark:via-background-900 dark:to-background-950`},o=r?"w-full":"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8";return n.jsx("div",{className:`${i} ${a[s]} ${e}`,children:n.jsx("div",{className:`relative p-4 sm:p-8 lg:p-10 ${o}`,children:t})})},Nb=()=>n.jsxs("div",{className:"relative space-y-12 sm:space-y-16 lg:space-y-24 pb-12 sm:pb-16 lg:pb-24",children:[n.jsx("section",{className:"relative",children:n.jsx(Ry,{})}),n.jsx("section",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx(tt,{variant:"highlight",children:n.jsx(Iy,{})})}),n.jsx("section",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx(tt,{variant:"highlight",children:n.jsx(Oy,{})})}),n.jsx("section",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx(tt,{variant:"highlight",children:n.jsx(My,{})})}),n.jsx("section",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx(tt,{variant:"highlight",children:n.jsx($y,{})})}),n.jsx("section",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx(tt,{variant:"highlight",children:n.jsx(Vy,{})})}),n.jsx("section",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx(tt,{variant:"highlight",children:n.jsx(Gy,{})})}),n.jsx("section",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx(tt,{variant:"highlight",children:n.jsx(jb,{})})})]}),kb=({nft:t})=>{const{publicKey:e}=U(),[s,r]=p.useState(!1),i=()=>{if(!e)return;H.setProfilePicture(e.toString(),t.image)&&r(!0)};return n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:i,className:"absolute bottom-2 left-2 z-10 px-3 py-1.5 rounded-lg backdrop-blur-sm transition-colors bg-black/60 text-primary-pink hover:bg-primary-pink/20 text-sm font-medium",children:"Use as PDA PFP"}),s&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-neutral-charcoal/90 backdrop-blur-md",onClick:()=>r(!1)}),n.jsxs("div",{className:"relative bg-[#1A1B23] rounded-xl border border-primary-pink/20 p-6 text-center",children:[n.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Profile Picture Updated"}),n.jsx("button",{onClick:()=>r(!1),className:"px-6 py-2 bg-primary-pink text-white rounded-lg hover:bg-primary-pink/90 transition-colors",children:"Okay, Thanks!"})]})]})]})},Sb=({nft:t,isFavorite:e,onFavoriteToggle:s,showProfileButton:r=!1})=>{const{connected:i}=U();return n.jsxs("div",{className:"bg-white/30 dark:bg-black/30 backdrop-blur-sm rounded-xl overflow-hidden border border-white/10 transform hover:scale-105 transition-all duration-300",children:[n.jsxs("div",{className:"absolute top-2 right-2 z-10 flex gap-2",children:[n.jsx("button",{onClick:a=>{a.preventDefault(),a.stopPropagation(),s()},className:`p-2 rounded-lg backdrop-blur-sm transition-colors ${e?"bg-primary-main text-white":"bg-black/40 text-primary-main hover:bg-primary-main/20"}`,title:e?"Remove from favorites":"Add to favorites",children:n.jsx(ks,{className:"w-4 h-4",fill:e?"currentColor":"none"})}),n.jsx("a",{href:`https://solscan.io/token/${t.mint}?cluster=mainnet`,target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-lg bg-black/40 text-primary-main hover:bg-primary-main/20 backdrop-blur-sm transition-colors",onClick:a=>a.stopPropagation(),title:"View on Solscan",children:n.jsx(Yn,{className:"w-4 h-4"})})]}),r&&i&&n.jsx(kb,{nft:t}),n.jsx("div",{className:"relative aspect-square",children:t.image&&n.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-text-light-primary dark:text-orange-500 mb-1",children:t.name||"Unnamed NFT"}),t.attributes&&t.attributes.length>0&&n.jsx("div",{className:"grid grid-cols-2 gap-4 mb-4",children:t.attributes.slice(0,4).map((a,o)=>n.jsxs("div",{className:"bg-primary-main/10 rounded-lg p-2 group-hover:bg-primary-main/20 transition-colors",title:`${a.trait_type}: ${a.value}`,children:[n.jsx("p",{className:"text-xs text-primary-main line-clamp-1",children:a.trait_type}),n.jsx("p",{className:"text-sm font-medium text-white line-clamp-1",children:a.value})]},o))})]})]})};function Ed(t,e){return function(){return t.apply(e,arguments)}}const{toString:_b}=Object.prototype,{getPrototypeOf:Vi}=Object,Ir=(t=>e=>{const s=_b.call(e);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),_e=t=>(t=t.toLowerCase(),e=>Ir(e)===t),Dr=t=>e=>typeof e===t,{isArray:Ht}=Array,js=Dr("undefined");function Pb(t){return t!==null&&!js(t)&&t.constructor!==null&&!js(t.constructor)&&fe(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Rd=_e("ArrayBuffer");function Cb(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Rd(t.buffer),e}const Tb=Dr("string"),fe=Dr("function"),Id=Dr("number"),Or=t=>t!==null&&typeof t=="object",Ab=t=>t===!0||t===!1,er=t=>{if(Ir(t)!=="object")return!1;const e=Vi(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Eb=_e("Date"),Rb=_e("File"),Ib=_e("Blob"),Db=_e("FileList"),Ob=t=>Or(t)&&fe(t.pipe),Lb=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||fe(t.append)&&((e=Ir(t))==="formdata"||e==="object"&&fe(t.toString)&&t.toString()==="[object FormData]"))},Mb=_e("URLSearchParams"),[Fb,$b,Bb,Vb]=["ReadableStream","Request","Response","Headers"].map(_e),Ub=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ms(t,e,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Ht(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const a=s?Object.getOwnPropertyNames(t):Object.keys(t),o=a.length;let l;for(r=0;r<o;r++)l=a[r],e.call(null,t[l],l,t)}}function Dd(t,e){e=e.toLowerCase();const s=Object.keys(t);let r=s.length,i;for(;r-- >0;)if(i=s[r],e===i.toLowerCase())return i;return null}const lt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Od=t=>!js(t)&&t!==lt;function Mn(){const{caseless:t}=Od(this)&&this||{},e={},s=(r,i)=>{const a=t&&Dd(e,i)||i;er(e[a])&&er(r)?e[a]=Mn(e[a],r):er(r)?e[a]=Mn({},r):Ht(r)?e[a]=r.slice():e[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Ms(arguments[r],s);return e}const Gb=(t,e,s,{allOwnKeys:r}={})=>(Ms(e,(i,a)=>{s&&fe(i)?t[a]=Ed(i,s):t[a]=i},{allOwnKeys:r}),t),qb=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),zb=(t,e,s,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),s&&Object.assign(t.prototype,s)},Wb=(t,e,s,r)=>{let i,a,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)o=i[a],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=s!==!1&&Vi(t)}while(t&&(!s||s(t,e))&&t!==Object.prototype);return e},Hb=(t,e,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=e.length;const r=t.indexOf(e,s);return r!==-1&&r===s},Kb=t=>{if(!t)return null;if(Ht(t))return t;let e=t.length;if(!Id(e))return null;const s=new Array(e);for(;e-- >0;)s[e]=t[e];return s},Jb=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Vi(Uint8Array)),Xb=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},Qb=(t,e)=>{let s;const r=[];for(;(s=t.exec(e))!==null;)r.push(s);return r},Yb=_e("HTMLFormElement"),Zb=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,i){return r.toUpperCase()+i}),Oo=(({hasOwnProperty:t})=>(e,s)=>t.call(e,s))(Object.prototype),ev=_e("RegExp"),Ld=(t,e)=>{const s=Object.getOwnPropertyDescriptors(t),r={};Ms(s,(i,a)=>{let o;(o=e(i,a,t))!==!1&&(r[a]=o||i)}),Object.defineProperties(t,r)},tv=t=>{Ld(t,(e,s)=>{if(fe(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=t[s];if(fe(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},sv=(t,e)=>{const s={},r=i=>{i.forEach(a=>{s[a]=!0})};return Ht(t)?r(t):r(String(t).split(e)),s},rv=()=>{},nv=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,on="abcdefghijklmnopqrstuvwxyz",Lo="0123456789",Md={DIGIT:Lo,ALPHA:on,ALPHA_DIGIT:on+on.toUpperCase()+Lo},iv=(t=16,e=Md.ALPHA_DIGIT)=>{let s="";const{length:r}=e;for(;t--;)s+=e[Math.random()*r|0];return s};function av(t){return!!(t&&fe(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const ov=t=>{const e=new Array(10),s=(r,i)=>{if(Or(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const a=Ht(r)?[]:{};return Ms(r,(o,l)=>{const c=s(o,i+1);!js(c)&&(a[l]=c)}),e[i]=void 0,a}}return r};return s(t,0)},lv=_e("AsyncFunction"),cv=t=>t&&(Or(t)||fe(t))&&fe(t.then)&&fe(t.catch),Fd=((t,e)=>t?setImmediate:e?((s,r)=>(lt.addEventListener("message",({source:i,data:a})=>{i===lt&&a===s&&r.length&&r.shift()()},!1),i=>{r.push(i),lt.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",fe(lt.postMessage)),dv=typeof queueMicrotask<"u"?queueMicrotask.bind(lt):typeof process<"u"&&process.nextTick||Fd,j={isArray:Ht,isArrayBuffer:Rd,isBuffer:Pb,isFormData:Lb,isArrayBufferView:Cb,isString:Tb,isNumber:Id,isBoolean:Ab,isObject:Or,isPlainObject:er,isReadableStream:Fb,isRequest:$b,isResponse:Bb,isHeaders:Vb,isUndefined:js,isDate:Eb,isFile:Rb,isBlob:Ib,isRegExp:ev,isFunction:fe,isStream:Ob,isURLSearchParams:Mb,isTypedArray:Jb,isFileList:Db,forEach:Ms,merge:Mn,extend:Gb,trim:Ub,stripBOM:qb,inherits:zb,toFlatObject:Wb,kindOf:Ir,kindOfTest:_e,endsWith:Hb,toArray:Kb,forEachEntry:Xb,matchAll:Qb,isHTMLForm:Yb,hasOwnProperty:Oo,hasOwnProp:Oo,reduceDescriptors:Ld,freezeMethods:tv,toObjectSet:sv,toCamelCase:Zb,noop:rv,toFiniteNumber:nv,findKey:Dd,global:lt,isContextDefined:Od,ALPHABET:Md,generateString:iv,isSpecCompliantForm:av,toJSONObject:ov,isAsyncFn:lv,isThenable:cv,setImmediate:Fd,asap:dv};function O(t,e,s,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),s&&(this.config=s),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}j.inherits(O,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:j.toJSONObject(this.config),code:this.code,status:this.status}}});const $d=O.prototype,Bd={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Bd[t]={value:t}});Object.defineProperties(O,Bd);Object.defineProperty($d,"isAxiosError",{value:!0});O.from=(t,e,s,r,i,a)=>{const o=Object.create($d);return j.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),O.call(o,t.message,e,s,r,i),o.cause=t,o.name=t.name,a&&Object.assign(o,a),o};const uv=null;function Fn(t){return j.isPlainObject(t)||j.isArray(t)}function Vd(t){return j.endsWith(t,"[]")?t.slice(0,-2):t}function Mo(t,e,s){return t?t.concat(e).map(function(i,a){return i=Vd(i),!s&&a?"["+i+"]":i}).join(s?".":""):e}function hv(t){return j.isArray(t)&&!t.some(Fn)}const mv=j.toFlatObject(j,{},null,function(e){return/^is[A-Z]/.test(e)});function Lr(t,e,s){if(!j.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,s=j.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,x){return!j.isUndefined(x[y])});const r=s.metaTokens,i=s.visitor||u,a=s.dots,o=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&j.isSpecCompliantForm(e);if(!j.isFunction(i))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(j.isDate(g))return g.toISOString();if(!c&&j.isBlob(g))throw new O("Blob is not supported. Use a Buffer instead.");return j.isArrayBuffer(g)||j.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,y,x){let b=g;if(g&&!x&&typeof g=="object"){if(j.endsWith(y,"{}"))y=r?y:y.slice(0,-2),g=JSON.stringify(g);else if(j.isArray(g)&&hv(g)||(j.isFileList(g)||j.endsWith(y,"[]"))&&(b=j.toArray(g)))return y=Vd(y),b.forEach(function(w,N){!(j.isUndefined(w)||w===null)&&e.append(o===!0?Mo([y],N,a):o===null?y:y+"[]",d(w))}),!1}return Fn(g)?!0:(e.append(Mo(x,y,a),d(g)),!1)}const h=[],m=Object.assign(mv,{defaultVisitor:u,convertValue:d,isVisitable:Fn});function f(g,y){if(!j.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(g),j.forEach(g,function(b,v){(!(j.isUndefined(b)||b===null)&&i.call(e,b,j.isString(v)?v.trim():v,y,m))===!0&&f(b,y?y.concat(v):[v])}),h.pop()}}if(!j.isObject(t))throw new TypeError("data must be an object");return f(t),e}function Fo(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Ui(t,e){this._pairs=[],t&&Lr(t,this,e)}const Ud=Ui.prototype;Ud.append=function(e,s){this._pairs.push([e,s])};Ud.toString=function(e){const s=e?function(r){return e.call(this,r,Fo)}:Fo;return this._pairs.map(function(i){return s(i[0])+"="+s(i[1])},"").join("&")};function pv(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Gd(t,e,s){if(!e)return t;const r=s&&s.encode||pv,i=s&&s.serialize;let a;if(i?a=i(e,s):a=j.isURLSearchParams(e)?e.toString():new Ui(e,s).toString(r),a){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class $o{constructor(){this.handlers=[]}use(e,s,r){return this.handlers.push({fulfilled:e,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){j.forEach(this.handlers,function(r){r!==null&&e(r)})}}const qd={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fv=typeof URLSearchParams<"u"?URLSearchParams:Ui,gv=typeof FormData<"u"?FormData:null,xv=typeof Blob<"u"?Blob:null,yv={isBrowser:!0,classes:{URLSearchParams:fv,FormData:gv,Blob:xv},protocols:["http","https","file","blob","url","data"]},Gi=typeof window<"u"&&typeof document<"u",$n=typeof navigator=="object"&&navigator||void 0,bv=Gi&&(!$n||["ReactNative","NativeScript","NS"].indexOf($n.product)<0),vv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wv=Gi&&window.location.href||"http://localhost",jv=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Gi,hasStandardBrowserEnv:bv,hasStandardBrowserWebWorkerEnv:vv,navigator:$n,origin:wv},Symbol.toStringTag,{value:"Module"})),de={...jv,...yv};function Nv(t,e){return Lr(t,new de.classes.URLSearchParams,Object.assign({visitor:function(s,r,i,a){return de.isNode&&j.isBuffer(s)?(this.append(r,s.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function kv(t){return j.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Sv(t){const e={},s=Object.keys(t);let r;const i=s.length;let a;for(r=0;r<i;r++)a=s[r],e[a]=t[a];return e}function zd(t){function e(s,r,i,a){let o=s[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=s.length;return o=!o&&j.isArray(i)?i.length:o,c?(j.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!j.isObject(i[o]))&&(i[o]=[]),e(s,r,i[o],a)&&j.isArray(i[o])&&(i[o]=Sv(i[o])),!l)}if(j.isFormData(t)&&j.isFunction(t.entries)){const s={};return j.forEachEntry(t,(r,i)=>{e(kv(r),i,s,0)}),s}return null}function _v(t,e,s){if(j.isString(t))try{return(e||JSON.parse)(t),j.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(t)}const Fs={transitional:qd,adapter:["xhr","http","fetch"],transformRequest:[function(e,s){const r=s.getContentType()||"",i=r.indexOf("application/json")>-1,a=j.isObject(e);if(a&&j.isHTMLForm(e)&&(e=new FormData(e)),j.isFormData(e))return i?JSON.stringify(zd(e)):e;if(j.isArrayBuffer(e)||j.isBuffer(e)||j.isStream(e)||j.isFile(e)||j.isBlob(e)||j.isReadableStream(e))return e;if(j.isArrayBufferView(e))return e.buffer;if(j.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Nv(e,this.formSerializer).toString();if((l=j.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Lr(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||i?(s.setContentType("application/json",!1),_v(e)):e}],transformResponse:[function(e){const s=this.transitional||Fs.transitional,r=s&&s.forcedJSONParsing,i=this.responseType==="json";if(j.isResponse(e)||j.isReadableStream(e))return e;if(e&&j.isString(e)&&(r&&!this.responseType||i)){const o=!(s&&s.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?O.from(l,O.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:de.classes.FormData,Blob:de.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};j.forEach(["delete","get","head","post","put","patch"],t=>{Fs.headers[t]={}});const Pv=j.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Cv=t=>{const e={};let s,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),s=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!s||e[s]&&Pv[s])&&(s==="set-cookie"?e[s]?e[s].push(r):e[s]=[r]:e[s]=e[s]?e[s]+", "+r:r)}),e},Bo=Symbol("internals");function ss(t){return t&&String(t).trim().toLowerCase()}function tr(t){return t===!1||t==null?t:j.isArray(t)?t.map(tr):String(t)}function Tv(t){const e=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(t);)e[r[1]]=r[2];return e}const Av=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ln(t,e,s,r,i){if(j.isFunction(r))return r.call(this,e,s);if(i&&(e=s),!!j.isString(e)){if(j.isString(r))return e.indexOf(r)!==-1;if(j.isRegExp(r))return r.test(e)}}function Ev(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,r)=>s.toUpperCase()+r)}function Rv(t,e){const s=j.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+s,{value:function(i,a,o){return this[r].call(this,e,i,a,o)},configurable:!0})})}let ue=class{constructor(e){e&&this.set(e)}set(e,s,r){const i=this;function a(l,c,d){const u=ss(c);if(!u)throw new Error("header name must be a non-empty string");const h=j.findKey(i,u);(!h||i[h]===void 0||d===!0||d===void 0&&i[h]!==!1)&&(i[h||c]=tr(l))}const o=(l,c)=>j.forEach(l,(d,u)=>a(d,u,c));if(j.isPlainObject(e)||e instanceof this.constructor)o(e,s);else if(j.isString(e)&&(e=e.trim())&&!Av(e))o(Cv(e),s);else if(j.isHeaders(e))for(const[l,c]of e.entries())a(c,l,r);else e!=null&&a(s,e,r);return this}get(e,s){if(e=ss(e),e){const r=j.findKey(this,e);if(r){const i=this[r];if(!s)return i;if(s===!0)return Tv(i);if(j.isFunction(s))return s.call(this,i,r);if(j.isRegExp(s))return s.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=ss(e),e){const r=j.findKey(this,e);return!!(r&&this[r]!==void 0&&(!s||ln(this,this[r],r,s)))}return!1}delete(e,s){const r=this;let i=!1;function a(o){if(o=ss(o),o){const l=j.findKey(r,o);l&&(!s||ln(r,r[l],l,s))&&(delete r[l],i=!0)}}return j.isArray(e)?e.forEach(a):a(e),i}clear(e){const s=Object.keys(this);let r=s.length,i=!1;for(;r--;){const a=s[r];(!e||ln(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const s=this,r={};return j.forEach(this,(i,a)=>{const o=j.findKey(r,a);if(o){s[o]=tr(i),delete s[a];return}const l=e?Ev(a):String(a).trim();l!==a&&delete s[a],s[l]=tr(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return j.forEach(this,(r,i)=>{r!=null&&r!==!1&&(s[i]=e&&j.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const r=new this(e);return s.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Bo]=this[Bo]={accessors:{}}).accessors,i=this.prototype;function a(o){const l=ss(o);r[l]||(Rv(i,o),r[l]=!0)}return j.isArray(e)?e.forEach(a):a(e),this}};ue.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);j.reduceDescriptors(ue.prototype,({value:t},e)=>{let s=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[s]=r}}});j.freezeMethods(ue);function cn(t,e){const s=this||Fs,r=e||s,i=ue.from(r.headers);let a=r.data;return j.forEach(t,function(l){a=l.call(s,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function Wd(t){return!!(t&&t.__CANCEL__)}function Kt(t,e,s){O.call(this,t??"canceled",O.ERR_CANCELED,e,s),this.name="CanceledError"}j.inherits(Kt,O,{__CANCEL__:!0});function Hd(t,e,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?t(s):e(new O("Request failed with status code "+s.status,[O.ERR_BAD_REQUEST,O.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function Iv(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Dv(t,e){t=t||10;const s=new Array(t),r=new Array(t);let i=0,a=0,o;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),u=r[a];o||(o=d),s[i]=c,r[i]=d;let h=a,m=0;for(;h!==i;)m+=s[h++],h=h%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),d-o<e)return;const f=u&&d-u;return f?Math.round(m*1e3/f):void 0}}function Ov(t,e){let s=0,r=1e3/e,i,a;const o=(d,u=Date.now())=>{s=u,i=null,a&&(clearTimeout(a),a=null),t.apply(null,d)};return[(...d)=>{const u=Date.now(),h=u-s;h>=r?o(d,u):(i=d,a||(a=setTimeout(()=>{a=null,o(i)},r-h)))},()=>i&&o(i)]}const ur=(t,e,s=3)=>{let r=0;const i=Dv(50,250);return Ov(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-r,d=i(c),u=o<=l;r=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:a,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(h)},s)},Vo=(t,e)=>{const s=t!=null;return[r=>e[0]({lengthComputable:s,total:t,loaded:r}),e[1]]},Uo=t=>(...e)=>j.asap(()=>t(...e)),Lv=de.hasStandardBrowserEnv?function(){const e=de.navigator&&/(msie|trident)/i.test(de.navigator.userAgent),s=document.createElement("a");let r;function i(a){let o=a;return e&&(s.setAttribute("href",o),o=s.href),s.setAttribute("href",o),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return r=i(window.location.href),function(o){const l=j.isString(o)?i(o):o;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}(),Mv=de.hasStandardBrowserEnv?{write(t,e,s,r,i,a){const o=[t+"="+encodeURIComponent(e)];j.isNumber(s)&&o.push("expires="+new Date(s).toGMTString()),j.isString(r)&&o.push("path="+r),j.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Fv(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function $v(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Kd(t,e){return t&&!Fv(e)?$v(t,e):e}const Go=t=>t instanceof ue?{...t}:t;function ht(t,e){e=e||{};const s={};function r(d,u,h){return j.isPlainObject(d)&&j.isPlainObject(u)?j.merge.call({caseless:h},d,u):j.isPlainObject(u)?j.merge({},u):j.isArray(u)?u.slice():u}function i(d,u,h){if(j.isUndefined(u)){if(!j.isUndefined(d))return r(void 0,d,h)}else return r(d,u,h)}function a(d,u){if(!j.isUndefined(u))return r(void 0,u)}function o(d,u){if(j.isUndefined(u)){if(!j.isUndefined(d))return r(void 0,d)}else return r(void 0,u)}function l(d,u,h){if(h in e)return r(d,u);if(h in t)return r(void 0,d)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u)=>i(Go(d),Go(u),!0)};return j.forEach(Object.keys(Object.assign({},t,e)),function(u){const h=c[u]||i,m=h(t[u],e[u],u);j.isUndefined(m)&&h!==l||(s[u]=m)}),s}const Jd=t=>{const e=ht({},t);let{data:s,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:l}=e;e.headers=o=ue.from(o),e.url=Gd(Kd(e.baseURL,e.url),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(j.isFormData(s)){if(de.hasStandardBrowserEnv||de.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...u]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...u].join("; "))}}if(de.hasStandardBrowserEnv&&(r&&j.isFunction(r)&&(r=r(e)),r||r!==!1&&Lv(e.url))){const d=i&&a&&Mv.read(a);d&&o.set(i,d)}return e},Bv=typeof XMLHttpRequest<"u",Vv=Bv&&function(t){return new Promise(function(s,r){const i=Jd(t);let a=i.data;const o=ue.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=i,u,h,m,f,g;function y(){f&&f(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function b(){if(!x)return;const w=ue.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:w,config:t,request:x};Hd(function(I){s(I),y()},function(I){r(I),y()},k),x=null}"onloadend"in x?x.onloadend=b:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(b)},x.onabort=function(){x&&(r(new O("Request aborted",O.ECONNABORTED,t,x)),x=null)},x.onerror=function(){r(new O("Network Error",O.ERR_NETWORK,t,x)),x=null},x.ontimeout=function(){let N=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const k=i.transitional||qd;i.timeoutErrorMessage&&(N=i.timeoutErrorMessage),r(new O(N,k.clarifyTimeoutError?O.ETIMEDOUT:O.ECONNABORTED,t,x)),x=null},a===void 0&&o.setContentType(null),"setRequestHeader"in x&&j.forEach(o.toJSON(),function(N,k){x.setRequestHeader(k,N)}),j.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),l&&l!=="json"&&(x.responseType=i.responseType),d&&([m,g]=ur(d,!0),x.addEventListener("progress",m)),c&&x.upload&&([h,f]=ur(c),x.upload.addEventListener("progress",h),x.upload.addEventListener("loadend",f)),(i.cancelToken||i.signal)&&(u=w=>{x&&(r(!w||w.type?new Kt(null,t,x):w),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const v=Iv(i.url);if(v&&de.protocols.indexOf(v)===-1){r(new O("Unsupported protocol "+v+":",O.ERR_BAD_REQUEST,t));return}x.send(a||null)})},Uv=(t,e)=>{const{length:s}=t=t?t.filter(Boolean):[];if(e||s){let r=new AbortController,i;const a=function(d){if(!i){i=!0,l();const u=d instanceof Error?d:this.reason;r.abort(u instanceof O?u:new Kt(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,a(new O(`timeout ${e} of ms exceeded`,O.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),t=null)};t.forEach(d=>d.addEventListener("abort",a));const{signal:c}=r;return c.unsubscribe=()=>j.asap(l),c}},Gv=function*(t,e){let s=t.byteLength;if(s<e){yield t;return}let r=0,i;for(;r<s;)i=r+e,yield t.slice(r,i),r=i},qv=async function*(t,e){for await(const s of zv(t))yield*Gv(s,e)},zv=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:s,value:r}=await e.read();if(s)break;yield r}}finally{await e.cancel()}},qo=(t,e,s,r)=>{const i=qv(t,e);let a=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await i.next();if(d){l(),c.close();return}let h=u.byteLength;if(s){let m=a+=h;s(m)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},Mr=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Xd=Mr&&typeof ReadableStream=="function",Wv=Mr&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Qd=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Hv=Xd&&Qd(()=>{let t=!1;const e=new Request(de.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),zo=64*1024,Bn=Xd&&Qd(()=>j.isReadableStream(new Response("").body)),hr={stream:Bn&&(t=>t.body)};Mr&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!hr[e]&&(hr[e]=j.isFunction(t[e])?s=>s[e]():(s,r)=>{throw new O(`Response type '${e}' is not supported`,O.ERR_NOT_SUPPORT,r)})})})(new Response);const Kv=async t=>{if(t==null)return 0;if(j.isBlob(t))return t.size;if(j.isSpecCompliantForm(t))return(await new Request(de.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(j.isArrayBufferView(t)||j.isArrayBuffer(t))return t.byteLength;if(j.isURLSearchParams(t)&&(t=t+""),j.isString(t))return(await Wv(t)).byteLength},Jv=async(t,e)=>{const s=j.toFiniteNumber(t.getContentLength());return s??Kv(e)},Xv=Mr&&(async t=>{let{url:e,method:s,data:r,signal:i,cancelToken:a,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:u,withCredentials:h="same-origin",fetchOptions:m}=Jd(t);d=d?(d+"").toLowerCase():"text";let f=Uv([i,a&&a.toAbortSignal()],o),g;const y=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let x;try{if(c&&Hv&&s!=="get"&&s!=="head"&&(x=await Jv(u,r))!==0){let k=new Request(e,{method:"POST",body:r,duplex:"half"}),T;if(j.isFormData(r)&&(T=k.headers.get("content-type"))&&u.setContentType(T),k.body){const[I,C]=Vo(x,ur(Uo(c)));r=qo(k.body,zo,I,C)}}j.isString(h)||(h=h?"include":"omit");const b="credentials"in Request.prototype;g=new Request(e,{...m,signal:f,method:s.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:b?h:void 0});let v=await fetch(g);const w=Bn&&(d==="stream"||d==="response");if(Bn&&(l||w&&y)){const k={};["status","statusText","headers"].forEach(F=>{k[F]=v[F]});const T=j.toFiniteNumber(v.headers.get("content-length")),[I,C]=l&&Vo(T,ur(Uo(l),!0))||[];v=new Response(qo(v.body,zo,I,()=>{C&&C(),y&&y()}),k)}d=d||"text";let N=await hr[j.findKey(hr,d)||"text"](v,t);return!w&&y&&y(),await new Promise((k,T)=>{Hd(k,T,{data:N,headers:ue.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:g})})}catch(b){throw y&&y(),b&&b.name==="TypeError"&&/fetch/i.test(b.message)?Object.assign(new O("Network Error",O.ERR_NETWORK,t,g),{cause:b.cause||b}):O.from(b,b&&b.code,t,g)}}),Vn={http:uv,xhr:Vv,fetch:Xv};j.forEach(Vn,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Wo=t=>`- ${t}`,Qv=t=>j.isFunction(t)||t===null||t===!1,Yd={getAdapter:t=>{t=j.isArray(t)?t:[t];const{length:e}=t;let s,r;const i={};for(let a=0;a<e;a++){s=t[a];let o;if(r=s,!Qv(s)&&(r=Vn[(o=String(s)).toLowerCase()],r===void 0))throw new O(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+a]=r}if(!r){const a=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?a.length>1?`since :
`+a.map(Wo).join(`
`):" "+Wo(a[0]):"as no adapter specified";throw new O("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Vn};function dn(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Kt(null,t)}function Ho(t){return dn(t),t.headers=ue.from(t.headers),t.data=cn.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Yd.getAdapter(t.adapter||Fs.adapter)(t).then(function(r){return dn(t),r.data=cn.call(t,t.transformResponse,r),r.headers=ue.from(r.headers),r},function(r){return Wd(r)||(dn(t),r&&r.response&&(r.response.data=cn.call(t,t.transformResponse,r.response),r.response.headers=ue.from(r.response.headers))),Promise.reject(r)})}const Zd="1.7.7",qi={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{qi[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Ko={};qi.transitional=function(e,s,r){function i(a,o){return"[Axios v"+Zd+"] Transitional option '"+a+"'"+o+(r?". "+r:"")}return(a,o,l)=>{if(e===!1)throw new O(i(o," has been removed"+(s?" in "+s:"")),O.ERR_DEPRECATED);return s&&!Ko[o]&&(Ko[o]=!0,console.warn(i(o," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(a,o,l):!0}};function Yv(t,e,s){if(typeof t!="object")throw new O("options must be an object",O.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const a=r[i],o=e[a];if(o){const l=t[a],c=l===void 0||o(l,a,t);if(c!==!0)throw new O("option "+a+" must be "+c,O.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new O("Unknown option "+a,O.ERR_BAD_OPTION)}}const Un={assertOptions:Yv,validators:qi},Ve=Un.validators;let ut=class{constructor(e){this.defaults=e,this.interceptors={request:new $o,response:new $o}}async request(e,s){try{return await this._request(e,s)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=ht(this.defaults,s);const{transitional:r,paramsSerializer:i,headers:a}=s;r!==void 0&&Un.assertOptions(r,{silentJSONParsing:Ve.transitional(Ve.boolean),forcedJSONParsing:Ve.transitional(Ve.boolean),clarifyTimeoutError:Ve.transitional(Ve.boolean)},!1),i!=null&&(j.isFunction(i)?s.paramsSerializer={serialize:i}:Un.assertOptions(i,{encode:Ve.function,serialize:Ve.function},!0)),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=a&&j.merge(a.common,a[s.method]);a&&j.forEach(["delete","get","head","post","put","patch","common"],g=>{delete a[g]}),s.headers=ue.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(s)===!1||(c=c&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const d=[];this.interceptors.response.forEach(function(y){d.push(y.fulfilled,y.rejected)});let u,h=0,m;if(!c){const g=[Ho.bind(this),void 0];for(g.unshift.apply(g,l),g.push.apply(g,d),m=g.length,u=Promise.resolve(s);h<m;)u=u.then(g[h++],g[h++]);return u}m=l.length;let f=s;for(h=0;h<m;){const g=l[h++],y=l[h++];try{f=g(f)}catch(x){y.call(this,x);break}}try{u=Ho.call(this,f)}catch(g){return Promise.reject(g)}for(h=0,m=d.length;h<m;)u=u.then(d[h++],d[h++]);return u}getUri(e){e=ht(this.defaults,e);const s=Kd(e.baseURL,e.url);return Gd(s,e.params,e.paramsSerializer)}};j.forEach(["delete","get","head","options"],function(e){ut.prototype[e]=function(s,r){return this.request(ht(r||{},{method:e,url:s,data:(r||{}).data}))}});j.forEach(["post","put","patch"],function(e){function s(r){return function(a,o,l){return this.request(ht(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}ut.prototype[e]=s(),ut.prototype[e+"Form"]=s(!0)});let Zv=class eu{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(a){s=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(l=>{r.subscribe(l),a=l}).then(i);return o.cancel=function(){r.unsubscribe(a)},o},e(function(a,o,l){r.reason||(r.reason=new Kt(a,o,l),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const e=new AbortController,s=r=>{e.abort(r)};return this.subscribe(s),e.signal.unsubscribe=()=>this.unsubscribe(s),e.signal}static source(){let e;return{token:new eu(function(i){e=i}),cancel:e}}};function ew(t){return function(s){return t.apply(null,s)}}function tw(t){return j.isObject(t)&&t.isAxiosError===!0}const Gn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Gn).forEach(([t,e])=>{Gn[e]=t});function tu(t){const e=new ut(t),s=Ed(ut.prototype.request,e);return j.extend(s,ut.prototype,e,{allOwnKeys:!0}),j.extend(s,e,null,{allOwnKeys:!0}),s.create=function(i){return tu(ht(t,i))},s}const K=tu(Fs);K.Axios=ut;K.CanceledError=Kt;K.CancelToken=Zv;K.isCancel=Wd;K.VERSION=Zd;K.toFormData=Lr;K.AxiosError=O;K.Cancel=K.CanceledError;K.all=function(e){return Promise.all(e)};K.spread=ew;K.isAxiosError=tw;K.mergeConfig=ht;K.AxiosHeaders=ue;K.formToJSON=t=>zd(j.isHTMLForm(t)?new FormData(t):t);K.getAdapter=Yd.getAdapter;K.HttpStatusCode=Gn;K.default=K;const{Axios:vN,AxiosError:wN,CanceledError:jN,isCancel:NN,CancelToken:kN,VERSION:SN,all:_N,Cancel:PN,isAxiosError:CN,spread:TN,toFormData:AN,AxiosHeaders:EN,HttpStatusCode:RN,formToJSON:IN,getAdapter:DN,mergeConfig:ON}=K;class ct{constructor(){this.storage=new Map,this.maxSize=100*1024*1024,this.useCompression=!1}static getInstance(){return ct.instance||(ct.instance=new ct),ct.instance}setMaxSize(e){this.maxSize=e}enableCompression(e){this.useCompression=e}set(e,s,r){const i={value:s,timestamp:Date.now(),expiry:r};this.useCompression&&typeof s=="string"&&(i.value=this.compress(s)),this.storage.set(e,i),this.enforceMaxSize()}get(e){const s=this.storage.get(e);return s?Date.now()-s.timestamp>s.expiry?(this.storage.delete(e),null):this.useCompression&&typeof s.value=="string"?this.decompress(s.value):s.value:null}clear(){this.storage.clear()}enforceMaxSize(){if(this.getSize()>this.maxSize){const e=Array.from(this.storage.entries());for(e.sort((s,r)=>s[1].timestamp-r[1].timestamp);this.getSize()>this.maxSize&&e.length;){const[s]=e.shift();this.storage.delete(s)}}}getSize(){let e=0;for(const[s,r]of this.storage)e+=s.length*2,e+=this.getObjectSize(r);return e}getObjectSize(e){return JSON.stringify(e).length*2}compress(e){let s="",r=1,i=e[0];for(let a=1;a<=e.length;a++)e[a]===i?r++:(s+=r+i,i=e[a],r=1);return s}decompress(e){let s="",r="";for(let i=0;i<e.length;i++)isNaN(parseInt(e[i]))?(s+=e[i].repeat(parseInt(r)),r=""):r+=e[i];return s}}const sw=()=>{const t=localStorage.getItem("custom_rpc_url"),e=localStorage.getItem("custom_api_key");return t&&e?{url:t,apiKey:e}:{url:"https://mainnet.helius-rpc.com",apiKey:"294dd1b6-c58f-4fd1-bebf-2b17a910915a"}},su="Hcudg3n6ggbc5kMo2ZtVbXKJb7oXhNCQxJsY42ZMiPpp",ru=5*60*1e3,mr=ct.getInstance(),nu=()=>{const t=sw();return`${t.url}/?api-key=${t.apiKey}`};async function rw(){const t="collection_nfts",e=mr.get(t);if(e)return e;try{const s=await K.post(nu(),{jsonrpc:"2.0",id:"my-id",method:"getAssetsByGroup",params:{groupKey:"collection",groupValue:su,page:1,limit:50,sortBy:{sortBy:"created",sortDirection:"desc"}}});if(s.data.error)throw new Error(s.data.error.message);const r=iu(s.data.result.items);return mr.set(t,r,ru),r}catch(s){return console.error("Error fetching collection NFTs:",s),[]}}async function nw(t){const e=`wallet_nfts_${t}`,s=mr.get(e);if(s)return s;try{const r=await K.post(nu(),{jsonrpc:"2.0",id:"my-id",method:"getAssetsByOwner",params:{ownerAddress:t,page:1,limit:25,displayOptions:{showCollectionMetadata:!0}}});if(r.data.error)throw new Error(r.data.error.message);const i=r.data.result.items.filter(o=>o.grouping.find(l=>l.group_key==="collection"&&l.group_value===su)),a=iu(i);return mr.set(e,a,ru),a}catch(r){return console.error("Error fetching wallet NFTs:",r),[]}}function iu(t){return t.map(e=>({name:e.content.metadata.name||"Unnamed NFT",symbol:e.content.metadata.symbol||"",description:e.content.metadata.description||"",image:e.content.files[0]?.uri||"",mint:e.id,attributes:e.content.metadata.attributes||[],properties:{files:(e.content.files||[]).map(s=>({uri:s.uri||"",type:s.type||""}))}}))}const mt=({children:t,title:e,subtitle:s,className:r=""})=>n.jsxs("div",{className:`
      bg-white/30 dark:bg-black/30 
      backdrop-blur-sm 
      rounded-xl p-6 
      border border-white/10
      ${r}
    `,children:[e&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h2",{className:"text-2xl font-title text-primary-main dark:text-orange-500",children:e}),s&&n.jsx("p",{className:"mt-1 text-text-light-secondary dark:text-white/90",children:s})]}),t]}),au=({showWalletOnly:t,initialDisplayCount:e,showSearch:s,showProfileButtons:r=!1,traitFilters:i=[],onTraitTypesFound:a})=>{const{publicKey:o}=U(),[l,c]=p.useState([]),[d,u]=p.useState(!0),[h,m]=p.useState(null),[f,g]=p.useState(""),[y,x]=p.useState(e),[b,v]=p.useState(!1),[w,N]=p.useState(new Set),[k,T]=p.useState(0),I=6e4;p.useEffect(()=>{(async()=>{try{u(!0),m(null);const P=Date.now();if(P-k<I)return;const R=t&&o?await nw(o.toString()):await rw();a&&a(R),c(R),T(P)}catch(P){console.error("Error loading NFTs:",P),m("Failed to load NFTs. Please try again later.")}finally{u(!1)}})()},[o,t,a,k]);const C=p.useMemo(()=>{let S=[...l];return i.length>0&&(S=S.filter(P=>i.every(R=>P.attributes.some(V=>V.trait_type===R.type&&V.value===R.value)))),f&&(S=S.filter(P=>P.name.toLowerCase().includes(f.toLowerCase())||P.name.match(new RegExp(`#${f}$`)))),S.sort((P,R)=>w.has(P.name)&&!w.has(R.name)?-1:!w.has(P.name)&&w.has(R.name)?1:0),S},[l,i,f,w]),F=p.useMemo(()=>C.slice(0,y),[C,y]),A=p.useCallback(async()=>{v(!0),await new Promise(S=>setTimeout(S,500)),x(S=>S+e),v(!1)},[e]),D=p.useCallback(S=>{N(P=>{const R=new Set(P);return R.has(S)?R.delete(S):R.add(S),R})},[]);return d?n.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-main"})}):h?n.jsx(mt,{children:n.jsxs("div",{className:"text-center py-8",children:[n.jsx("p",{className:"text-red-400 mb-4",children:h}),n.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 text-red-300 rounded-lg transition-colors",children:"Try Again"})]})}):n.jsxs("div",{className:"space-y-6",children:[s&&n.jsx(Pe,{children:n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search by name or number...",value:f,onChange:S=>g(S.target.value),className:"w-full px-4 py-2 bg-black/20 border border-primary-main/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-primary-main/40"}),n.jsx(al,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"})]})}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:F.length===0?n.jsx("div",{className:"col-span-full",children:n.jsx(Pe,{children:n.jsx("p",{className:"text-center py-8 text-gray-400",children:f?"No NFTs found matching your search":t?"No NFTs found in your wallet from this collection":i.length>0?"No NFTs found matching the selected filters":"No NFTs found in the collection"})})}):F.map((S,P)=>n.jsx(Sb,{nft:S,isFavorite:w.has(S.name),onFavoriteToggle:()=>D(S.name),showProfileButton:r},`${S.name}-${P}`))}),F.length<C.length&&n.jsx("div",{className:"flex justify-center",children:n.jsx("button",{onClick:A,disabled:b,className:"flex items-center gap-2 px-6 py-3 bg-primary-main/20 hover:bg-primary-main/30 text-primary-main rounded-lg transition-all transform hover:scale-105 disabled:opacity-50 disabled:hover:scale-100",children:b?n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-primary-main"}):n.jsxs(n.Fragment,{children:["Show More",n.jsx(fs,{className:"w-4 h-4"})]})})})]})},Jt=()=>{const{signInAsGuest:t}=Is(),e=pt(),s=async()=>{await t()&&e("/")};return n.jsx("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center",children:n.jsxs(Pe,{className:"max-w-md mx-auto p-8",children:[n.jsx("div",{className:"w-16 h-16 bg-primary-main/10 rounded-full flex items-center justify-center mb-6 mx-auto",children:n.jsx(ti,{className:"w-8 h-8 text-primary-main"})}),n.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Connect to Play"}),n.jsx("p",{className:"text-text-light-secondary dark:text-text-dark-secondary mb-8",children:"Connect your wallet to access exclusive features and start your raiding adventure!"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(Xl,{}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-primary-main/20"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-2 bg-background-dark text-text-dark-secondary",children:"or"})})]}),n.jsx("button",{onClick:s,className:"w-full px-4 py-2 bg-primary-main/20 text-primary-main rounded-lg hover:bg-primary-main/30 transition-colors",children:"Continue as Guest"})]})]})})},ou=()=>{const{connected:t}=U();return t?n.jsx("div",{className:"page-container",children:n.jsx("div",{className:"page-content",children:n.jsxs(mt,{title:"NFT Gallery",children:[n.jsx("p",{className:"text-text-light-secondary dark:text-text-dark-secondary mb-6",children:"Browse the complete collection gallery"}),n.jsx(au,{showWalletOnly:!1,initialDisplayCount:8,showSearch:!0})]})})}):n.jsx(Jt,{})},iw=()=>n.jsxs("div",{className:"relative min-h-[60vh] flex items-center justify-center overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 mx-2 sm:mx-6 lg:mx-8",children:n.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-background-900/60 via-background-900/70 to-background-900/90 z-10"}),n.jsx("img",{src:"/assets/pandas/sittingpanda.PNG",alt:"Pan Da Pan Info",className:"absolute inset-0 w-full h-full object-cover transform hover:scale-105 transition-transform duration-700"}),n.jsx("div",{className:"absolute inset-0 bg-primary-500/20 mix-blend-overlay"}),n.jsx("div",{className:"absolute inset-0 rounded-3xl ring-1 ring-white/20"})]})}),n.jsx("div",{className:"relative z-10 container mx-auto px-3 sm:px-4 py-6 sm:py-8 lg:py-12 flex flex-col items-center text-center",children:n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-4xl mx-auto",children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-medium mb-2 text-sand-100",children:"Discover"}),n.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold mb-6 sm:mb-8 bg-clip-text text-transparent bg-gradient-to-r from-primary-500 to-primary-400",children:"Pan Da Pan"}),n.jsx("p",{className:"text-base sm:text-lg lg:text-xl text-sand-200 mb-8 sm:mb-10 max-w-2xl mx-auto leading-relaxed",children:"A revolutionary NFT gaming platform where your digital collectibles come to life in epic battles and quests. Experience the future of gaming on Solana."})]})})]}),aw=[{icon:ch,title:"Play to Earn",description:"Earn rewards by participating in raids and tournaments",iconColor:"text-purple-400"},{icon:he,title:"Competitive Leagues",description:"Climb the ranks and compete with the best raiders",iconColor:"text-yellow-400"},{icon:_s,title:"NFT Marketplace",description:"Trade unique in-game assets and collectibles",iconColor:"text-green-400"},{icon:W,title:"Guild System",description:"Form alliances and tackle challenges together",iconColor:"text-blue-400"},{icon:je,title:"Secure Platform",description:"Built on Solana for fast and secure transactions",iconColor:"text-red-400"},{icon:ol,title:"Regular Updates",description:"New content and features added regularly",iconColor:"text-indigo-400"}],ow=()=>{const t={hidden:{},visible:{transition:{staggerChildren:.1}}},e={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return n.jsxs("div",{className:"py-12 sm:py-16",children:[n.jsxs(_.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:[n.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary-500 to-primary-400",children:"Platform Features"}),n.jsx("p",{className:"mt-4 text-lg text-gray-700 dark:text-sand-300 max-w-2xl mx-auto",children:"Experience the future of gaming with our innovative features and rewards system"})]}),n.jsx(_.div,{variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:aw.map(s=>n.jsxs(_.div,{variants:e,className:"group relative bg-sand-100/5 dark:bg-black/20 backdrop-blur-sm rounded-2xl p-6 border border-sand-200/10 hover:border-primary-500/30 transition-colors duration-300",children:[n.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[n.jsx("div",{className:"flex-shrink-0 w-16 h-16 rounded-xl bg-primary-500/10 flex items-center justify-center",children:n.jsx(s.icon,{className:`w-8 h-8 ${s.iconColor}`})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-sand-100 group-hover:text-primary-400 transition-colors duration-300",children:s.title}),n.jsx("p",{className:"mt-2 text-gray-600 dark:text-sand-400 text-sm",children:s.description})]})]}),n.jsx("div",{className:"absolute inset-0 rounded-2xl ring-1 ring-white/10 group-hover:ring-primary-500/30 transition-colors duration-300"})]},s.title))})]})},lw=[{icon:_s,title:"The Aureus Coven",description:"Masters of financial wisdom and strategic wealth building.",iconColor:"text-yellow-400"},{icon:ll,title:"The Emberseekers",description:"Daring explorers guided by ancient flames.",iconColor:"text-green-400"},{icon:ks,title:"The Solacebound",description:"Guardians of peace and community welfare.",iconColor:"text-red-400"},{icon:cl,title:"The Revelkin",description:"Celebrants of joy and festive spirit.",iconColor:"text-purple-400"}],cw=()=>{const t={hidden:{},visible:{transition:{staggerChildren:.1}}},e={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return n.jsxs("div",{className:"py-12 sm:py-16",children:[n.jsxs(_.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:[n.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary-500 to-primary-400",children:"Join a Guild"}),n.jsx("p",{className:"mt-4 text-lg text-gray-700 dark:text-sand-300 max-w-2xl mx-auto",children:"Unite with fellow raiders, compete in tournaments, and earn exclusive rewards together"})]}),n.jsx(_.div,{variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8 mb-16",children:lw.map(s=>n.jsxs(_.div,{variants:e,className:"group relative bg-sand-100/5 dark:bg-black/20 backdrop-blur-sm rounded-2xl p-6 border border-sand-200/10 hover:border-primary-500/30 transition-colors duration-300",children:[n.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[n.jsx("div",{className:"flex-shrink-0 w-16 h-16 rounded-xl bg-primary-500/10 flex items-center justify-center",children:n.jsx(s.icon,{className:`w-8 h-8 ${s.iconColor}`})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-sand-100 group-hover:text-primary-400 transition-colors duration-300",children:s.title}),n.jsx("p",{className:"mt-2 text-gray-600 dark:text-sand-400 text-sm",children:s.description})]})]}),n.jsx("div",{className:"absolute inset-0 rounded-2xl ring-1 ring-white/10 group-hover:ring-primary-500/30 transition-colors duration-300"})]},s.title))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-center",children:[n.jsx(_.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:"lg:col-span-2",children:n.jsxs("div",{className:"relative rounded-2xl overflow-hidden",children:[n.jsx("img",{src:"/assets/pandas/sittingpanda.PNG",alt:"Guild Activities",className:"w-full h-[300px] object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background-900/80 via-background-900/40 to-transparent"})]})}),n.jsxs(_.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:"space-y-6",children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-sand-100",children:"Guild Benefits"}),n.jsxs("ul",{className:"space-y-4",children:[n.jsxs("li",{className:"flex items-center space-x-3",children:[n.jsx(W,{className:"w-5 h-5 text-primary-400"}),n.jsx("span",{className:"text-gray-700 dark:text-sand-300",children:"Form powerful alliances"})]}),n.jsxs("li",{className:"flex items-center space-x-3",children:[n.jsx(he,{className:"w-5 h-5 text-primary-400"}),n.jsx("span",{className:"text-gray-700 dark:text-sand-300",children:"Compete in guild tournaments"})]}),n.jsxs("li",{className:"flex items-center space-x-3",children:[n.jsx(te,{className:"w-5 h-5 text-primary-400"}),n.jsx("span",{className:"text-gray-700 dark:text-sand-300",children:"Earn exclusive rewards"})]})]})]})]})]})},dw=[{icon:xr,title:"Follow on Twitter",description:"Get the latest updates and announcements",href:"#",color:"text-blue-400"},{icon:Zn,title:"Join Discord",description:"Chat with players and share strategies",href:"#",color:"text-indigo-400"},{icon:rl,title:"Contribute on GitHub",description:"Help shape the future of the platform",href:"#",color:"text-gray-400"}],uw=[{icon:W,value:"10K+",label:"Active Players",color:"text-blue-400"},{icon:te,value:"50K+",label:"NFTs Minted",color:"text-yellow-400"},{icon:ks,value:"95%",label:"Player Satisfaction",color:"text-red-400"}],hw=()=>{const t={hidden:{},visible:{transition:{staggerChildren:.1}}},e={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return n.jsxs("div",{className:"py-12 sm:py-16",children:[n.jsxs(_.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:[n.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary-500 to-primary-400",children:"Join Our Community"}),n.jsx("p",{className:"mt-4 text-lg text-gray-700 dark:text-sand-300 max-w-2xl mx-auto",children:"Connect with fellow raiders, share strategies, and stay updated with the latest news"})]}),n.jsx(_.div,{variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8 mb-16",children:uw.map(s=>n.jsxs(_.div,{variants:e,className:"group relative bg-sand-100/5 dark:bg-black/20 backdrop-blur-sm rounded-2xl p-6 border border-sand-200/10 hover:border-primary-500/30 transition-colors duration-300",children:[n.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[n.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-xl bg-primary-500/10 flex items-center justify-center",children:n.jsx(s.icon,{className:`w-6 h-6 ${s.color}`})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-sand-100",children:s.value}),n.jsx("p",{className:"mt-1 text-gray-600 dark:text-sand-400 text-sm",children:s.label})]})]}),n.jsx("div",{className:"absolute inset-0 rounded-2xl ring-1 ring-white/10 group-hover:ring-primary-500/30 transition-colors duration-300"})]},s.label))}),n.jsx(_.div,{variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8",children:dw.map(s=>n.jsxs(_.a,{href:s.href,variants:e,className:"group relative bg-sand-100/5 dark:bg-black/20 backdrop-blur-sm rounded-2xl p-6 border border-sand-200/10 hover:border-primary-500/30 transition-colors duration-300",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-xl bg-primary-500/10 flex items-center justify-center",children:n.jsx(s.icon,{className:`w-6 h-6 ${s.color}`})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-sand-100 group-hover:text-primary-400 transition-colors duration-300",children:s.title}),n.jsx("p",{className:"mt-1 text-gray-600 dark:text-sand-400 text-sm",children:s.description})]})]}),n.jsx("div",{className:"absolute inset-0 rounded-2xl ring-1 ring-white/10 group-hover:ring-primary-500/30 transition-colors duration-300"})]},s.title))})]})},mw=[{icon:ti,title:"Player Rewards",percentage:"40%",description:"Allocated for in-game rewards and achievements",iconColor:"text-green-400"},{icon:dl,title:"Treasury",percentage:"20%",description:"Reserved for platform development and maintenance",iconColor:"text-blue-400"},{icon:dh,title:"Staking",percentage:"15%",description:"Rewards for token staking and liquidity provision",iconColor:"text-purple-400"},{icon:uh,title:"Team",percentage:"10%",description:"Team allocation with vesting schedule",iconColor:"text-red-400"},{icon:_s,title:"Community",percentage:"10%",description:"Community initiatives and DAO governance",iconColor:"text-yellow-400"},{icon:hh,title:"Marketing",percentage:"5%",description:"Marketing and partnership development",iconColor:"text-indigo-400"}],pw=()=>{const t={hidden:{},visible:{transition:{staggerChildren:.1}}},e={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return n.jsxs("div",{className:"py-12 sm:py-16",children:[n.jsxs(_.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:[n.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary-500 to-primary-400",children:"Tokenomics"}),n.jsx("p",{className:"mt-4 text-lg text-gray-700 dark:text-sand-300 max-w-2xl mx-auto",children:"Transparent and balanced token distribution designed for long-term sustainability"})]}),n.jsx(_.div,{variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:mw.map(s=>n.jsx(_.div,{variants:e,className:"group relative bg-sand-100/5 dark:bg-black/20 backdrop-blur-sm rounded-2xl p-6 border border-sand-200/10 hover:border-primary-500/30 transition-colors duration-300",children:n.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[n.jsx("div",{className:"flex-shrink-0 w-16 h-16 rounded-xl bg-primary-500/10 flex items-center justify-center",children:n.jsx(s.icon,{className:`w-8 h-8 ${s.iconColor}`})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-sand-100 group-hover:text-primary-400 transition-colors duration-300",children:s.percentage}),n.jsx("h4",{className:"text-lg font-semibold text-gray-800 dark:text-sand-200",children:s.title}),n.jsx("p",{className:"mt-2 text-gray-600 dark:text-sand-400 text-sm",children:s.description})]})]})},s.title))})]})},fw=[{icon:ol,phase:"Phase 1",title:"Launch & Core Features",items:["Platform launch with basic raid mechanics","NFT character system implementation","Community building and social features","Initial marketplace integration"],status:"completed",iconColor:"text-green-400"},{icon:ei,phase:"Phase 2",title:"Expansion & Growth",items:["Advanced raid mechanics and boss battles","Guild system with governance features","Token staking and rewards program","Cross-chain integration"],status:"in-progress",iconColor:"text-blue-400"},{icon:mh,phase:"Phase 3",title:"AI Integration",items:["AI Quest Master for dynamic quest generation","Intelligent Raid Leader AI system","Procedural lore and story generation","AI-driven NPC interactions and dialogues"],status:"upcoming",iconColor:"text-purple-400"},{icon:ph,phase:"Phase 4",title:"Advanced AI Features",items:["Adaptive difficulty AI for raids","Personalized quest storylines","Dynamic world events generation","AI-powered guild strategy advisor"],status:"upcoming",iconColor:"text-indigo-400"},{icon:fh,phase:"Phase 5",title:"Community & DAO",items:["DAO governance implementation","Community-AI collaboration tools","Advanced guild features","Inter-guild tournaments with AI assistance"],status:"planned",iconColor:"text-yellow-400"},{icon:gh,phase:"Phase 6",title:"Future Innovation",items:["Mobile app with AI integration","Virtual reality raid experiences","Advanced AI companion system","Cross-game asset compatibility"],status:"planned",iconColor:"text-red-400"}],gw=()=>{const t={hidden:{},visible:{transition:{staggerChildren:.2}}},e={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0}},s=r=>{switch(r){case"completed":return"bg-green-400/20 text-green-500 border-green-500/30";case"in-progress":return"bg-blue-400/20 text-blue-500 border-blue-500/30";case"upcoming":return"bg-purple-400/20 text-purple-500 border-purple-500/30";default:return"bg-yellow-400/20 text-yellow-500 border-yellow-500/30"}};return n.jsxs("div",{className:"py-12 sm:py-16",children:[n.jsxs(_.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:[n.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary-500 to-primary-400",children:"Development Roadmap"}),n.jsx("p",{className:"mt-4 text-lg text-gray-700 dark:text-sand-300 max-w-2xl mx-auto",children:"Our journey to revolutionize blockchain gaming"})]}),n.jsx(_.div,{variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"space-y-8",children:fw.map((r,i)=>n.jsx(_.div,{variants:e,className:"relative",children:n.jsx("div",{className:"group relative bg-sand-100/5 dark:bg-black/20 backdrop-blur-sm rounded-2xl p-6 border border-sand-200/10 hover:border-primary-500/30 transition-colors duration-300",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-16 h-16 rounded-xl bg-primary-500/10 flex items-center justify-center",children:n.jsx(r.icon,{className:`w-8 h-8 ${r.iconColor}`})})}),n.jsxs("div",{className:"flex-grow",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4 mb-4",children:[n.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-sand-100",children:[r.phase," - ",r.title]}),n.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm font-medium ${s(r.status)}`,children:r.status.charAt(0).toUpperCase()+r.status.slice(1)})]}),n.jsx("ul",{className:"space-y-2",children:r.items.map((a,o)=>n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"mr-2 text-primary-500",children:""}),n.jsx("span",{className:"text-gray-600 dark:text-sand-400",children:a})]},o))})]})]})})},r.phase))})]})},xw=[{icon:je,title:"Blockchain Security",description:"Built on Solana for high-speed, secure transactions with minimal fees",iconColor:"text-blue-400"},{icon:dl,title:"Smart Contract Audits",description:"Regular third-party security audits of all smart contracts",iconColor:"text-green-400"},{icon:xh,title:"Wallet Integration",description:"Secure wallet connections with industry-standard encryption",iconColor:"text-yellow-400"},{icon:yh,title:"Asset Verification",description:"Automated verification of NFT authenticity and ownership",iconColor:"text-purple-400"},{icon:bh,title:"Data Protection",description:"Encrypted data storage with regular backups and monitoring",iconColor:"text-red-400"},{icon:vh,title:"Anti-Cheat System",description:"Advanced detection and prevention of exploits and cheating",iconColor:"text-indigo-400"}],yw=()=>{const t={hidden:{},visible:{transition:{staggerChildren:.1}}},e={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return n.jsxs("div",{className:"py-12 sm:py-16",children:[n.jsxs(_.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:[n.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary-500 to-primary-400",children:"Security & Trust"}),n.jsx("p",{className:"mt-4 text-lg text-gray-700 dark:text-sand-300 max-w-2xl mx-auto",children:"Industry-leading security measures to protect our players and their assets"})]}),n.jsx(_.div,{variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:xw.map(s=>n.jsx(_.div,{variants:e,className:"group relative bg-sand-100/5 dark:bg-black/20 backdrop-blur-sm rounded-2xl p-6 border border-sand-200/10 hover:border-primary-500/30 transition-colors duration-300",children:n.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[n.jsx("div",{className:"flex-shrink-0 w-16 h-16 rounded-xl bg-primary-500/10 flex items-center justify-center",children:n.jsx(s.icon,{className:`w-8 h-8 ${s.iconColor}`})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-sand-100 group-hover:text-primary-400 transition-colors duration-300",children:s.title}),n.jsx("p",{className:"mt-2 text-gray-600 dark:text-sand-400 text-sm",children:s.description})]})]})},s.title))})]})},wt=({children:t,className:e="",variant:s="default",fullWidth:r=!1})=>{const i="backdrop-blur-md rounded-3xl transition-all duration-300 overflow-hidden",a={default:`bg-sand-100/95 dark:bg-black/40 
      border border-sand-300/50 dark:border-white/5 
      shadow-lg shadow-sand-400/20 dark:shadow-primary-500/20 
      hover:border-primary-500/20 dark:hover:border-primary-500/20
      hover:shadow-primary-500/10 dark:hover:shadow-primary-500/30`,gradient:`bg-gradient-to-br from-primary-500/20 via-sand-200/20 to-transparent 
      border border-primary-500/30 dark:border-primary-500/20
      shadow-xl shadow-primary-500/30 
      hover:shadow-primary-500/40 hover:border-primary-500/40`,dark:`bg-background-900/95 dark:bg-black/60
      border border-background-800/50 dark:border-white/10
      shadow-2xl shadow-black/40
      hover:border-primary-500/30 hover:shadow-primary-500/30`,highlight:`bg-gradient-to-br from-primary-500/30 via-sand-200/30 to-transparent
      border border-primary-500/40 dark:border-primary-500/30
      shadow-2xl shadow-primary-500/30
      hover:shadow-primary-500/50 hover:border-primary-500/50
      dark:from-primary-950 dark:via-background-900 dark:to-background-950`},o=r?"w-full":"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8";return n.jsx("div",{className:`${i} ${a[s]} ${e}`,children:n.jsx("div",{className:`relative p-4 sm:p-8 lg:p-10 ${o}`,children:t})})},bw=()=>n.jsxs("div",{className:"relative space-y-12 sm:space-y-16 lg:space-y-24 pb-12 sm:pb-16 lg:pb-24",children:[n.jsx("section",{className:"relative",children:n.jsx(iw,{})}),n.jsx("section",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx(wt,{variant:"highlight",children:n.jsx(ow,{})})}),n.jsx("section",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx(wt,{variant:"highlight",children:n.jsx(cw,{})})}),n.jsx("section",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx(wt,{variant:"highlight",children:n.jsx(pw,{})})}),n.jsx("section",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx(wt,{variant:"highlight",children:n.jsx(gw,{})})}),n.jsx("section",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx(wt,{variant:"highlight",children:n.jsx(yw,{})})}),n.jsx("section",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx(wt,{variant:"highlight",children:n.jsx(hw,{})})})]}),vw=()=>{const{connected:t}=U(),[e,s]=p.useState(""),[r,i]=p.useState(""),[a,o]=p.useState(!1),[l,c]=p.useState(!1);p.useEffect(()=>{const u=localStorage.getItem("custom_rpc_url"),h=localStorage.getItem("custom_api_key");u&&h&&(s(u),i(h),c(!0))},[]);const d=()=>{l&&e&&r?(localStorage.setItem("custom_rpc_url",e),localStorage.setItem("custom_api_key",r)):(localStorage.removeItem("custom_rpc_url"),localStorage.removeItem("custom_api_key")),o(!0),setTimeout(()=>o(!1),2e3)};return t?n.jsx("div",{className:"page-container",children:n.jsx("div",{className:"page-content",children:n.jsx(mt,{title:"API Configuration",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-3 p-4 bg-primary-main/10 rounded-lg",children:[n.jsx("input",{type:"checkbox",id:"use-custom",checked:l,onChange:u=>c(u.target.checked),className:"w-4 h-4 rounded"}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"use-custom",className:"font-medium",children:"Use Custom RPC Endpoint"}),n.jsx("p",{className:"text-sm text-text-light-secondary dark:text-text-dark-secondary",children:"Enable to use your own RPC endpoint and API key"})]})]}),l&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"RPC URL"}),n.jsx("input",{type:"text",value:e,onChange:u=>s(u.target.value),className:"w-full px-4 py-2 bg-background-dark/20 rounded-lg",placeholder:"https://your-rpc-endpoint.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"API Key"}),n.jsx("input",{type:"password",value:r,onChange:u=>i(u.target.value),className:"w-full px-4 py-2 bg-background-dark/20 rounded-lg",placeholder:"Your API key"})]})]}),n.jsx("button",{onClick:d,className:"w-full px-4 py-2 bg-primary-main text-white rounded-lg hover:bg-primary-main/90 transition-colors",children:a?"Settings Saved!":"Save Settings"})]})})})}):n.jsx(Jt,{})},lu=({isOpen:t,onClose:e,onSubmit:s,quest:r})=>{const{publicKey:i}=U(),{isAuthenticated:a,signIn:o}=Is(),[l,c]=p.useState(null),[d,u]=p.useState(""),[h,m]=p.useState(""),[f,g]=p.useState(!1),[y,x]=p.useState(!1);if(!t||!r)return null;i&&H.getPlayer(i.toString());const b=async()=>{if(!d){m("URL is required");return}if(!a)try{await o()}catch(v){console.error("Authentication failed:",v),m("Please sign in with your wallet first");return}g(!0);try{await s({screenshot:l||void 0,url:d}),x(!0),setTimeout(()=>{e(),x(!1),u(""),c(null),m("")},2e3)}catch(v){console.error("Failed to submit quest:",v),m("Failed to submit quest. Please try again.")}finally{g(!1)}};return n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:e}),n.jsxs(_.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:`relative w-full max-w-md sm:max-w-lg bg-gradient-to-br from-primary-500/30 via-sand-200/30 to-transparent
          border border-primary-500/40 dark:border-primary-500/30
          shadow-2xl shadow-primary-500/30
          hover:shadow-primary-500/50 hover:border-primary-500/50
          dark:from-primary-950 dark:via-background-900 dark:to-background-950
          backdrop-blur-md rounded-xl p-4 md:p-6 transition-all duration-300`,children:[n.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 text-sand-600 hover:text-primary-500 transition-colors rounded-lg hover:bg-primary-500/10",children:n.jsx(Ne,{className:"w-5 h-5"})}),n.jsxs("div",{className:"mb-4 sm:mb-6",children:[n.jsx("h2",{className:"text-lg sm:text-xl font-bold text-white mb-2",children:r.title}),n.jsx("p",{className:"text-sm text-sand-200/80",children:r.description})]}),y?n.jsxs("div",{className:"text-center py-6",children:[n.jsx("div",{className:"text-base sm:text-lg font-medium mb-2 text-green-400",children:"Quest Submitted!"}),n.jsx("p",{className:"text-sm text-sand-400",children:"Your submission is being reviewed. You'll receive XP once approved."})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-sand-200/80 mb-2",children:"Proof URL"}),n.jsxs("div",{className:"flex gap-2 w-full",children:[n.jsx("input",{type:"text",value:d,onChange:v=>u(v.target.value),placeholder:"Enter URL",className:"flex-1 min-w-0 bg-background-900/50 border border-primary-500/30 rounded-lg px-3 py-2 text-sm text-white placeholder-sand-200/50 focus:outline-none focus:ring-2 focus:ring-primary-500/50"}),n.jsx("button",{type:"button",className:"shrink-0 p-2 bg-background-900/50 border border-primary-500/30 rounded-lg hover:bg-background-800/50 transition-colors",children:n.jsx(ul,{className:"w-4 h-4 text-primary-500"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-sand-200/80 mb-2",children:"Screenshot (Optional)"}),n.jsx("div",{className:"w-full",children:n.jsxs("label",{className:"w-full flex flex-col items-center px-3 py-4 bg-background-900/50 text-sand-200/80 rounded-lg tracking-wide border border-primary-500/30 cursor-pointer hover:bg-background-800/50 transition-colors",children:[n.jsx(Ft,{className:"w-6 h-6 mb-2 text-primary-500"}),n.jsx("span",{className:"text-xs text-center break-all px-2",children:l?l.name:"Click to upload screenshot"}),n.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:v=>c(v.target.files?.[0]||null)})]})})]}),h&&n.jsx("div",{className:"text-xs text-red-500",children:h}),n.jsxs("div",{className:"flex flex-col gap-2 pt-2",children:[n.jsx("button",{onClick:b,disabled:f,className:"w-full px-4 py-2 text-sm bg-primary-500/90 text-white rounded-lg hover:bg-primary-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Submitting...":"Submit Quest"}),n.jsx("button",{onClick:e,className:"w-full px-4 py-2 text-sm text-sand-200/80 hover:text-white transition-colors border border-primary-500/30 rounded-lg hover:bg-background-800/50",children:"Cancel"})]})]})]})]})};class Tt{constructor(){this.questPool={daily:[{id:"daily-1",type:"daily",description:"Share a meme in the Discord community",xpReward:100,isAutomatic:!0}],weekly:[{id:"weekly-1",type:"weekly",description:"Create a guide for new raiders",xpReward:500,isAutomatic:!0}],monthly:[{id:"monthly-1",type:"monthly",description:"Complete all weekly quests",xpReward:2e3,isAutomatic:!0}]},this.loadQuestPool(),this.setupAutoRefresh()}static getInstance(){return Tt.instance||(Tt.instance=new Tt),Tt.instance}loadQuestPool(){const e=localStorage.getItem("questPool");e&&(this.questPool=JSON.parse(e))}save(){localStorage.setItem("questPool",JSON.stringify(this.questPool))}setupAutoRefresh(){(()=>{const s=new Date,r=new Date(s);r.setHours(6,0,0,0),s>r&&r.setDate(r.getDate()+1);const i=r.getTime()-s.getTime();setTimeout(()=>{this.refreshQuests(),setInterval(this.refreshQuests.bind(this),864e5)},i)})()}refreshQuests(){const e=new Date,s=e.getDay()===0,r=e.getDate()===1;this.deployDailyQuests(),s&&this.deployWeeklyQuests(),r&&this.deployMonthlyQuests(),this.save()}deployDailyQuests(){const e=new Date,s=new Date(e);s.setDate(s.getDate()+1),s.setHours(6,0,0,0),this.questPool.daily.forEach(r=>{r.isAutomatic&&(r.dateAvailable=e.getTime(),r.dateExpires=s.getTime(),r.status="available",r.completedBy=[])})}deployWeeklyQuests(){const e=new Date,s=new Date(e);s.setDate(s.getDate()+7),s.setHours(6,0,0,0),this.questPool.weekly.forEach(r=>{r.isAutomatic&&(r.dateAvailable=e.getTime(),r.dateExpires=s.getTime(),r.status="available",r.completedBy=[])})}deployMonthlyQuests(){const e=new Date,s=new Date(e);s.setMonth(s.getMonth()+1),s.setDate(1),s.setHours(6,0,0,0),this.questPool.monthly.forEach(r=>{r.isAutomatic&&(r.dateAvailable=e.getTime(),r.dateExpires=s.getTime(),r.status="available",r.completedBy=[])})}getActiveQuests(e){return this.questPool[e].filter(s=>s.status==="available"&&s.dateExpires>Date.now())}updateQuest(e,s,r){const i=this.questPool[e].findIndex(a=>a.id===s);return i===-1?!1:(this.questPool[e][i]={...this.questPool[e][i],...r},this.save(),!0)}}const ww=Tt.getInstance(),re=Hl,jw=new Kl;class At{constructor(){this.subscribers=[]}static getInstance(){return At.instance||(At.instance=new At),At.instance}subscribe(e){this.subscribers.push(e)}emit(e){this.subscribers.forEach(s=>s(e))}async approveSubmission(e,s){try{const{data:r,error:i}=await re.from("submissions").select("*").eq("id",e).single();if(i)throw console.error("Error fetching submission:",i),i;if(!r)throw new Error("Submission not found");const{data:a,error:o}=await re.from("submissions").update({status:"approved",updated_at:new Date().toISOString(),xp_reward:s}).eq("id",e).select().single();if(o)throw console.error("Error updating submission:",o),o;if(!a)throw new Error("Failed to update submission");const{data:l,error:c}=await re.from("quests").select("completedBy").eq("id",r.quest_id).single();if(c)throw console.error("Error fetching quest:",c),c;const d=new Set(l?.completedBy||[]);d.add(r.wallet_address);const{error:u}=await re.from("quests").update({completedBy:Array.from(d)}).eq("id",r.quest_id);if(u)throw console.error("Error updating quest completedBy:",u),u;try{await jw.updatePlayerStats(r.wallet_address,{experience:s,questsCompleted:1})}catch(h){throw console.error("Error updating player stats:",h),await re.from("submissions").update({status:"pending",updated_at:new Date().toISOString(),xp_reward:0}).eq("id",e).select().single(),h}return this.emit(a),a}catch(r){throw console.error("Error in approveSubmission:",r),r}}async rejectSubmission(e,s){try{const{data:r,error:i}=await re.from("submissions").update({status:"rejected",rejection_reason:s,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(i)throw console.error("Error rejecting submission:",i),i;if(!r)throw new Error("Failed to update submission");return this.emit(r),r}catch(r){throw console.error("Error in rejectSubmission:",r),r}}async updateSubmissionStatus(e,s){try{const{data:r,error:i}=await re.from("submissions").select(`
          *,
          quest:quests (
            id,
            title,
            description,
            xp_reward,
            completed_by,
            type
          )
        `).eq("id",e).single();if(i||!r)return console.error("Error fetching submission:",i),null;const{data:a,error:o}=await re.from("submissions").update({status:s}).eq("id",e).select().single();if(o)return console.error("Error updating submission:",o),null;if(s==="approved"&&r.quest){const{error:l}=await re.rpc("approve_quest_submission",{p_submission_id:e,p_quest_id:r.quest_id,p_wallet_address:r.wallet_address,p_xp_reward:r.quest.xp_reward,p_quest_type:r.quest.type});if(l)return console.error("Error in approval transaction:",l),null}return this.emit(a),a}catch(r){throw console.error("Error updating submission status:",r),r}}async deleteSubmission(e){try{const{error:s}=await re.from("submissions").delete().eq("id",e);if(s)throw console.error("Error deleting submission:",s),s}catch(s){throw console.error("Error in deleteSubmission:",s),s}}async getSubmissionPage(e){try{const r=(e-1)*10,i=r+10-1,{count:a,error:o}=await re.from("submissions").select("*",{count:"exact",head:!0});if(o)throw console.error("Error getting submission count:",o),o;const{data:l,error:c}=await re.from("submissions").select(`
          id,
          quest_id,
          wallet_address,
          status,
          proof_url,
          submission_date,
          updated_at,
          quests!inner (
            id,
            title,
            description,
            xp_reward
          )
        `).order("submission_date",{ascending:!1}).range(r,i);if(c)throw console.error("Error fetching submissions:",c),c;const d=l?.map(m=>({id:m.id,quest_id:m.quest_id,wallet_address:m.wallet_address,status:m.status,proof_url:m.proof_url,submission_date:m.submission_date,updated_at:m.updated_at,quest:m.quests}))||[],u=a||0,h=Math.ceil(u/10);return{submissions:d,totalSubmissions:u,totalPages:h}}catch(s){throw console.error("Error in getSubmissionPage:",s),s}}async addSubmission(e){try{const{data:{session:s},error:r}=await Z.auth.getSession();if(!s)return console.error("No active session"),!1;const{data:i,error:a}=await re.from("quests").select("*").eq("id",e.questId).single();if(a||!i)return console.error("Error fetching quest:",a),!1;const{data:o,error:l}=await re.rpc("is_quest_on_cooldown",{p_quest_id:e.questId,p_wallet_address:e.wallet,p_quest_type:i.type});if(l)return console.error("Error checking quest cooldown:",l),!1;if(o)return console.error("Quest is still on cooldown"),!1;const{data:c,error:d}=await re.rpc("submit_quest",{p_quest_id:e.questId,p_wallet_address:e.wallet,p_proof_url:e.proofLink,p_submission_date:e.submissionDate});return d?(console.error("Error in quest submission transaction:",d),!1):!0}catch(s){return console.error("Failed to save submission:",s),!1}}async getPendingSubmissions(){try{const{data:e,error:s}=await re.from("submissions").select().eq("status","pending").order("created_at",{ascending:!1});if(s)throw console.error("Error fetching pending submissions:",s),s;return e||[]}catch(e){throw console.error("Error in getPendingSubmissions:",e),e}}}const Et=At.getInstance(),Nw="https://prwzpyrplldwpsydmxkb.supabase.co",kw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InByd3pweXJwbGxkd3BzeWRteGtiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzIxNDAzNTgsImV4cCI6MjA0NzcxNjM1OH0.RK-0gSUcBBqJ-ep7Ti_wttEUnQImbFt7AJJSNfwpMao",Ks=Rs(Nw,kw,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});class Rt{constructor(){this.quests=new Map,this.refreshInterval=null,this.setupQuestRotation()}static getInstance(){return Rt.instance||(Rt.instance=new Rt),Rt.instance}save(){localStorage.setItem("quests",JSON.stringify(Object.fromEntries(this.quests)))}setupQuestRotation(){this.refreshInterval=setInterval(async()=>{const e=new Date,s=new Date(e.toLocaleString("en-US",{timeZone:"America/Chicago"}));s.getHours()===6&&s.getMinutes()===0&&(await this.rotateQuests("daily"),s.getDay()===0&&await this.rotateQuests("weekly"),s.getDate()===1&&await this.rotateQuests("monthly"))},6e4)}async rotateQuests(e){try{const s=await ww.getRandomQuests(e,3),{error:r}=await Ks.from("quests").upsert(s.map(i=>({...i,type:e,dateCreated:new Date().toISOString()})));if(r){console.error(`Error upserting ${e} quests:`,r);return}s.forEach(i=>{this.quests.set(i.id,i)}),this.save()}catch(s){console.error(`Error rotating ${e} quests:`,s)}}async getQuests(e){try{let s=Ks.from("quests").select("*");e&&e!=="all"&&(s=s.eq("type",e));const{data:r,error:i}=await s;if(i)throw i;return(r||[]).map(a=>({...a,dateCreated:Date.parse(a.dateCreated)||Date.now(),dateAvailable:Date.parse(a.dateAvailable)||Date.now(),dateExpires:Date.parse(a.dateExpires)||Date.now()+(a.type==="daily"?24*60*60*1e3:a.type==="weekly"?7*24*60*60*1e3:30*24*60*60*1e3),completedBy:a.completedBy||[],xpReward:Number(a.xpReward)||0}))}catch(s){return console.error("Error fetching quests:",s),[]}}async getQuestById(e){try{const s=this.quests.get(e);if(s)return s;const{data:r,error:i}=await Ks.from("quests").select("*").eq("id",e).single();if(i)return console.error("Error fetching quest:",i),null;if(!r)return console.warn(`No quest found with id: ${e}`),null;const a={id:r.id,title:r.title,description:r.description,type:r.type,dateCreated:new Date(r.date_created).getTime(),dateAvailable:new Date(r.date_available).getTime(),dateExpires:new Date(r.date_expires).getTime(),completedBy:r.completed_by||[],xpReward:Number(r.xp_reward)||0,status:r.status};return this.quests.set(e,a),a}catch(s){return console.error("Error fetching quest:",s),null}}async submitQuestProof(e,s,r){try{const i=await this.getQuestById(e);return i?(i.completedBy||[]).includes(s)?(console.error("Quest already completed by this wallet"),!1):await Et.addSubmission({wallet:s,questId:e,proofLink:r.url,submissionDate:new Date().toISOString()})?!0:(console.error("Error submitting proof"),!1):(console.error("Quest not found"),!1)}catch(i){return console.error("Error submitting quest proof:",i),!1}}async createQuest(e){try{const{data:s,error:r}=await Ks.from("quests").insert([{title:e.title,type:e.type,description:e.description,xp_reward:e.xpReward,image_url:e.imageUrl,status:e.status||"available",date_created:new Date(e.dateCreated).toISOString(),date_available:new Date(e.dateAvailable).toISOString(),date_expires:new Date(e.dateExpires).toISOString(),completed_by:e.completedBy||[]}]).select().single();if(r)throw r;const i={id:s.id,title:s.title,type:s.type,description:s.description,xpReward:Number(s.xp_reward),imageUrl:s.image_url,status:s.status,dateCreated:new Date(s.date_created).getTime(),dateAvailable:new Date(s.date_available).getTime(),dateExpires:new Date(s.date_expires).getTime(),completedBy:s.completed_by||[]};return this.quests.set(i.id,i),i}catch(s){throw console.error("Error creating quest:",s),s}}dispose(){this.refreshInterval&&clearInterval(this.refreshInterval)}}const ms=Rt.getInstance(),Sw=()=>{const{publicKey:t}=U(),{isAuthenticated:e,signIn:s}=Is(),[r,i]=p.useState("all"),[a,o]=p.useState([]),[l,c]=p.useState([]),[d,u]=p.useState(null),[h,m]=p.useState(!1),[f,g]=p.useState(0),[y,x]=p.useState(!0),[b,v]=p.useState(null),[w,N]=p.useState([]);p.useEffect(()=>{(async()=>{if(!t){o([]),c([]),N([]),x(!1);return}try{x(!0),v(null);const D=t?.toString()||"",{data:S,error:P}=await Z.rpc("get_available_quests",{p_wallet_address:D,p_quest_type:r==="all"?null:r});if(P)throw P;const{data:R,error:V}=await Z.from("quests").select("*").contains("completed_by",[D]);if(V)throw V;const{data:Q,error:J}=await Z.from("submissions").select("*, quest:quests(*)").eq("wallet_address",D).eq("status","pending");if(J)throw J;const oe=R.filter(me=>me.completedBy?.includes(D)).sort((me,Fe)=>Fe.dateExpires-me.dateExpires);o(S||[]),c(oe||[]),N(Q||[])}catch(D){console.error("Error loading quests:",D),v("Failed to load quests. Please try again.")}finally{x(!1)}})()},[t,r,f]),p.useEffect(()=>{(async()=>{if(!t){N([]);return}try{const D=await Et.getPendingSubmissions();N(D.filter(S=>S.wallet_address===t.toString()))}catch(D){console.error("Error loading pending submissions:",D)}})()},[t,f]);const k=p.useMemo(()=>{let A=a;return r!=="all"&&(A=a.filter(D=>D.type===r)),A},[a,r]),T=()=>{const A=k,D=h?A.length:window.innerWidth<768?2:6;return A.slice(0,D)},I=async A=>{if(!(!d||!t)){if(!e)try{await s()}catch(D){console.error("Authentication failed:",D),v("Please sign in with your wallet first");return}try{await ms.submitQuestProof(d.id,t.toString(),A)&&(u(null),g(S=>S+1))}catch(D){console.error("Error submitting quest proof:",D),v("Failed to submit quest proof. Please try again.")}}},C=[{label:"All Time",value:"all"},{label:"Daily",value:"daily"},{label:"Weekly",value:"weekly"},{label:"Monthly",value:"monthly"}],F=()=>w.length===0?null:n.jsxs("div",{className:"mb-8",children:[n.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[n.jsx(hl,{className:"w-5 h-5"}),"Pending Submissions"]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map(A=>n.jsxs(_.div,{className:"bg-sand-100 dark:bg-sand-800 rounded-lg p-4 shadow-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[n.jsx("h3",{className:"font-semibold mb-2",children:A.quest.title}),n.jsxs("p",{className:"text-sm text-sand-600 dark:text-sand-400 mb-2",children:["Submitted: ",new Date(A.submission_date).toLocaleDateString()]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-sand-500",children:[n.jsx(ul,{className:"w-4 h-4"}),n.jsx("a",{href:A.proof_url,target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary-500",children:"View Proof"})]})]},A.id))})]});return t?y?n.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500"})}):b?n.jsx("div",{className:"text-center text-red-500 py-8",children:b}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-sand-900 dark:text-sand-100",children:"Quests"}),n.jsx("p",{className:"text-sm text-sand-600 dark:text-sand-400",children:"Complete quests to earn XP and rewards"})]}),n.jsx("div",{className:"flex items-center gap-2 bg-sand-100 dark:bg-sand-800 p-1 rounded-lg",children:C.map((A,D)=>n.jsx("button",{onClick:()=>i(A.value),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all duration-200
                ${r===A.value?"bg-primary-500 text-white":"text-sand-600 dark:text-sand-400 hover:text-sand-900 dark:hover:text-sand-100"}`,children:A.label},A.value))})]}),y?n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{className:"text-sand-600 dark:text-sand-400",children:"Loading quests..."})}):b?n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{className:"text-red-500",children:b})}):n.jsxs(n.Fragment,{children:[F(),a.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:T().map(A=>n.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative group",children:n.jsxs("div",{className:`h-full p-6 rounded-xl
                    bg-gradient-to-br from-sand-100/80 via-sand-100/60 to-transparent
                    dark:from-black/40 dark:via-black/30 dark:to-transparent
                    border border-sand-300/50 dark:border-sand-200/10
                    hover:border-primary-500/30 dark:hover:border-primary-500/30
                    transition-all duration-300`,children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-sand-800 dark:text-sand-200 group-hover:text-primary-500 transition-colors",children:A.title}),n.jsx("p",{className:"text-sm text-sand-600 dark:text-sand-400 mt-1",children:A.description})]}),n.jsxs("div",{className:"flex items-center text-primary-500 bg-primary-500/10 px-2 py-1 rounded-lg",children:[n.jsx(te,{className:"w-4 h-4 mr-1"}),n.jsx("span",{className:"text-sm font-medium",children:A.xpReward})]})]}),n.jsxs("button",{onClick:()=>u(A),className:`w-full bg-primary-500 hover:bg-primary-600 text-white py-2.5 px-4 rounded-lg
                        transition-all duration-300 flex items-center justify-center gap-2
                        shadow-lg shadow-primary-500/30 hover:shadow-primary-500/50`,children:[n.jsx(ml,{className:"w-4 h-4"}),"Submit Proof"]})]})},A.id))}):n.jsx("div",{className:"text-center py-8",children:n.jsxs("p",{className:"text-sand-600 dark:text-sand-400",children:["No ",r!=="all"?r:""," quests available at the moment."]})}),k.length>(window.innerWidth<768?2:6)&&n.jsx("div",{className:"flex justify-center mt-8",children:n.jsx("button",{onClick:()=>m(!h),className:`px-6 py-2.5 text-sm font-medium text-primary-500 hover:text-primary-600 dark:text-primary-400 
                  dark:hover:text-primary-300 transition-colors flex items-center gap-2`,children:h?n.jsxs(n.Fragment,{children:["Show Less",n.jsx(fs,{className:"w-4 h-4 rotate-180"})]}):n.jsxs(n.Fragment,{children:["Show More",n.jsx(fs,{className:"w-4 h-4"})]})})})]}),l.length>0&&n.jsxs("div",{className:"mt-8 space-y-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h2",{className:"text-2xl font-bold text-sand-900 dark:text-sand-100",children:"Completed Quests"}),n.jsx("p",{className:"text-sm text-sand-600 dark:text-sand-400",children:"Your successfully completed quests"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:l.map(A=>n.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative group",children:n.jsxs("div",{className:`h-full p-6 rounded-xl
                  bg-gradient-to-br from-sand-100/80 via-sand-100/60 to-transparent
                  dark:from-black/40 dark:via-black/30 dark:to-transparent
                  border border-sand-300/50 dark:border-sand-200/10
                  hover:border-primary-500/30 dark:hover:border-primary-500/30
                  transition-all duration-300`,children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-sand-800 dark:text-sand-200",children:A.title}),n.jsx("p",{className:"text-sm text-sand-600 dark:text-sand-400 mt-1",children:A.description})]}),n.jsxs("div",{className:"flex items-center text-green-500 bg-green-500/10 px-2 py-1 rounded-lg",children:[n.jsx(he,{className:"w-4 h-4 mr-1"}),n.jsxs("span",{className:"text-sm font-medium",children:[A.xpReward," XP"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-sand-600 dark:text-sand-400",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pl,{className:"w-4 h-4"}),n.jsxs("span",{children:["Completed ",new Date(A.dateExpires).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wh,{className:"w-4 h-4"}),n.jsx("span",{children:A.type})]})]})]})},A.id))})]}),d&&n.jsx(lu,{isOpen:!!d,onClose:()=>u(null),onSubmit:I,quest:d})]}):n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{className:"text-neutral-lightGray",children:"Please connect your wallet to view quests."})})},Js=({icon:t,label:e,value:s})=>n.jsxs("div",{className:"bg-white/80 dark:bg-black/40 backdrop-blur-sm rounded-lg p-3 border border-sand-300/20 dark:border-sand-200/10",children:[n.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[n.jsx("div",{className:"p-1 rounded-md bg-primary-500/10",children:t}),n.jsx("h4",{className:"text-xs font-medium text-sand-900 dark:text-white",children:e})]}),n.jsx("p",{className:"text-base font-bold truncate bg-clip-text text-transparent bg-gradient-to-r from-primary-500 to-primary-400",children:typeof s=="number"?s.toLocaleString():s})]}),_w=({isOpen:t,wallet:e,onClose:s})=>{const[r,i]=p.useState(null),[a,o]=p.useState(!0),[l,c]=p.useState(null);return p.useEffect(()=>{t&&e&&(async()=>{try{o(!0);const u=await H.getPlayer(e);i(u)}catch(u){console.error("Error fetching player:",u),c("Failed to load player data")}finally{o(!1)}})()},[t,e]),t?n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60",onClick:s}),n.jsxs(_.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:`relative w-full max-w-md bg-gradient-to-br from-primary-500/30 via-sand-200/30 to-transparent
          border border-primary-500/40 dark:border-primary-500/30
          shadow-xl shadow-primary-500/20
          dark:from-primary-950 dark:via-background-900 dark:to-background-950
          backdrop-blur-md rounded-lg p-4 transition-all duration-300`,children:[n.jsx("button",{onClick:s,className:"absolute top-2 right-2 p-1.5 text-sand-600 hover:text-primary-500 transition-colors rounded-lg hover:bg-primary-500/10",children:n.jsx(Ne,{className:"w-4 h-4"})}),a?n.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[n.jsx("div",{className:"w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"}),n.jsx("p",{className:"mt-3 text-sm text-sand-600 dark:text-sand-400",children:"Loading..."})]}):l?n.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[n.jsx("p",{className:"text-sm text-red-500",children:l}),n.jsx("button",{onClick:()=>window.location.reload(),className:"mt-3 px-3 py-1.5 text-sm bg-primary-500 text-white rounded-md hover:bg-primary-600 transition-colors",children:"Retry"})]}):r?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden border border-sand-300/20 dark:border-sand-200/10 flex-shrink-0",children:r.profilePicture?n.jsx("img",{src:r.profilePicture,alt:"Profile",className:"w-full h-full object-cover"}):n.jsx("img",{src:"/assets/defaultpfp.png",alt:"Default Profile",className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("h3",{className:"text-lg font-bold text-sand-900 dark:text-white truncate",children:r.showWallet?`${e.slice(0,4)}...${e.slice(-4)}`:r.username||r.handle||`${e.slice(0,4)}...${e.slice(-4)}`}),n.jsxs("p",{className:"text-xs text-sand-600 dark:text-sand-400",children:["Joined ",new Date(r.dateJoined).toLocaleDateString()]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx(Js,{icon:n.jsx(gs,{className:"w-3.5 h-3.5 text-primary-500"}),label:"Rank",value:`#${r.rank||"N/A"}`}),n.jsx(Js,{icon:n.jsx(te,{className:"w-3.5 h-3.5 text-primary-500"}),label:"XP",value:r.experience}),n.jsx(Js,{icon:n.jsx(he,{className:"w-3.5 h-3.5 text-primary-500"}),label:"Quests",value:r.questsCompleted}),n.jsx(Js,{icon:n.jsx(Ss,{className:"w-3.5 h-3.5 text-primary-500"}),label:"Level",value:r.level||1})]})]}):null]})]}):null},Pw=()=>{const[t,e]=p.useState([]),[s,r]=p.useState(null),[i,a]=p.useState(!0);p.useEffect(()=>{const c=async()=>{try{a(!0);const u=await H.getLeaderboard();e(u.slice(0,5))}catch(u){console.error("Error fetching leaderboard:",u)}finally{a(!1)}};c();const d=setInterval(c,3e4);return()=>clearInterval(d)},[]);const o=async c=>{try{await H.getPlayer(c.wallet_address)&&r(c)}catch(d){console.error("Error fetching player profile:",d)}},l=c=>c<=3?n.jsx(jh,{className:`w-5 h-5 md:w-6 md:h-6 ${c===1?"text-yellow-400":c===2?"text-gray-400":"text-amber-700"}`}):n.jsxs("span",{className:"text-sand-500 dark:text-sand-400 font-mono text-sm md:text-base",children:["#",c]});return n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("h2",{className:"text-2xl md:text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary-500 to-primary-400 tracking-tight",children:"Top Raiders"}),n.jsx("p",{className:"mt-2 text-sm text-sand-600 dark:text-sand-400",children:"Leading the charge in our community"})]}),i?n.jsx("div",{className:"space-y-3",children:[...Array(5)].map((c,d)=>n.jsxs("div",{className:`animate-pulse flex items-center gap-4 p-4 rounded-xl
                bg-sand-300/20 dark:bg-sand-700/20`,children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-sand-400/20 dark:bg-sand-600/20"}),n.jsx("div",{className:"flex-1",children:n.jsx("div",{className:"h-4 w-24 bg-sand-400/20 dark:bg-sand-600/20 rounded"})}),n.jsx("div",{className:"h-4 w-16 bg-sand-400/20 dark:bg-sand-600/20 rounded"})]},d))}):n.jsx("div",{className:"space-y-3",children:t.map((c,d)=>n.jsxs(_.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:d*.1},onClick:()=>o(c),className:`w-full flex items-center gap-4 p-4 rounded-xl
                bg-gradient-to-br from-sand-100/80 via-sand-100/60 to-transparent
                dark:from-black/40 dark:via-black/30 dark:to-transparent
                hover:bg-primary-500/10 dark:hover:bg-primary-500/20
                border border-sand-300/50 dark:border-sand-200/10
                hover:border-primary-500/30 dark:hover:border-primary-500/30
                transition-all duration-300`,children:[n.jsx("div",{className:"flex items-center justify-center w-8 h-8",children:l(d+1)}),n.jsx("div",{className:"flex-1 text-left",children:n.jsx("span",{className:"font-semibold text-sand-700 dark:text-sand-300 group-hover:text-primary-500 transition-colors",children:c.username||c.wallet_address.slice(0,4)+"..."+c.wallet_address.slice(-4)})})]},`leaderboard-entry-${c.wallet_address}`))}),s&&n.jsx(_w,{isOpen:!!s,onClose:()=>r(null),wallet:s.wallet_address})]},"leaderboard-container")},pr=t=>{let r=1,i=0,a=200;for(;t>=i+a;)i+=a,r++,a=Math.floor(200*Math.pow(1.8,r-1));const o=t-i,l=o/a*100;return{level:r,currentLevelXp:o,nextLevelXp:a,progress:l}},cu=({xp:t,showProgress:e=!1,size:s="md"})=>{const{level:r,currentLevelXp:i,nextLevelXp:a,progress:o}=pr(t),l={sm:"text-sm",md:"text-base",lg:"text-lg"};return n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("div",{className:`font-bold ${l[s]} text-primary-main`,children:["Level ",r]}),e&&n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"text-xs text-text-light-secondary dark:text-text-dark-secondary",children:[i.toLocaleString()," / ",a.toLocaleString()," XP"]}),n.jsx("div",{className:"h-1 bg-primary-main/20 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-primary-main transition-all duration-300",style:{width:`${o}%`}})})]})]})},Cw=()=>{const{publicKey:t}=U(),[e,s]=p.useState(null),[r,i]=p.useState(!0),[a,o]=p.useState(null);if(p.useEffect(()=>{(async()=>{if(!t){i(!1);return}try{const d=await H.getPlayer(t.toString());s(d);const h=(await H.getLeaderboard()).findIndex(m=>m.wallet_address===t.toString())+1;o(h>0?h:null)}catch(d){console.error("Error fetching player data:",d)}finally{i(!1)}})()},[t]),r)return n.jsx("div",{className:"animate-pulse flex flex-col items-center justify-center gap-4 p-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-sand-300/20 dark:bg-sand-700/20"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"h-6 w-32 bg-sand-300/20 dark:bg-sand-700/20 rounded"}),n.jsx("div",{className:"h-4 w-24 bg-sand-300/20 dark:bg-sand-700/20 rounded"})]})]})});if(!t||!e)return null;const l=`${t.toString().slice(0,4)}...${t.toString().slice(-4)}`;return n.jsxs("div",{className:"flex flex-col items-center justify-center gap-6",children:[n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx("div",{className:"w-20 h-20 rounded-full bg-primary-500/20 flex items-center justify-center",children:n.jsx(Qn,{className:"w-10 h-10 text-primary-500"})}),n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:e.username||"Anonymous Raider"}),n.jsxs("div",{className:"flex items-center justify-center gap-2 text-neutral-lightGray",children:[n.jsx(ti,{className:"w-4 h-4"}),n.jsx("span",{children:l})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 lg:gap-6 w-full",children:[n.jsxs("div",{className:"flex flex-col items-center gap-2 p-4 rounded-lg bg-white/5 border border-white/10",children:[n.jsx(cu,{xp:e?.xp??0}),n.jsx("span",{className:"text-neutral-lightGray",children:"Level"})]}),n.jsxs("div",{className:"flex flex-col items-center gap-2 p-4 rounded-lg bg-white/5 border border-white/10",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(te,{className:"w-5 h-5 text-primary-500"}),n.jsx("span",{className:"text-xl font-bold text-white truncate max-w-[120px]",children:(e?.xp??0).toLocaleString()})]}),n.jsx("span",{className:"text-neutral-lightGray",children:"Total XP"})]}),n.jsxs("div",{className:"flex flex-col items-center gap-2 p-4 rounded-lg bg-white/5 border border-white/10",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(gs,{className:"w-5 h-5 text-primary-500"}),n.jsxs("span",{className:"text-xl font-bold text-white",children:["#",a||"---"]})]}),n.jsx("span",{className:"text-neutral-lightGray",children:"Rank"})]})]})]})},du="https://prwzpyrplldwpsydmxkb.supabase.co",uu="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InByd3pweXJwbGxkd3BzeWRteGtiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzIxNDAzNTgsImV4cCI6MjA0NzcxNjM1OH0.RK-0gSUcBBqJ-ep7Ti_wttEUnQImbFt7AJJSNfwpMao",jt=Rs(du,uu),Nt=Rs(du,uu);class Tw{async createRaidBoss(e){try{const{data:s,error:r}=await Nt.from("raids").insert([e]).select("*").single();if(r)throw console.error("Supabase error:",r),r;return s}catch(s){throw console.error("Error creating raid boss:",s),s}}async getAllRaids(){try{const{data:e,error:s}=await jt.from("raids").select("*").order("created_at",{ascending:!1});if(s)throw s;return e||[]}catch(e){throw console.error("Error fetching raids:",e),e}}async getRaidById(e){try{const{data:s,error:r}=await jt.from("raids").select("*").eq("id",e).single();if(r)throw r;return s}catch(s){throw console.error("Error fetching raid:",s),s}}async addRaidQuest(e){try{const{data:s,error:r}=await Nt.from("raid_quests").insert([e]).select().single();if(r)throw r;return s}catch(s){throw console.error("Error adding raid quest:",s),s}}async getRaidQuests(e){try{const{data:s,error:r}=await jt.from("raid_quests").select("*").eq("raid_id",e);if(r)throw r;return s||[]}catch(s){throw console.error("Error fetching raid quests:",s),s}}async joinRaid(e,s){try{const{data:r,error:i}=await jt.from("raid_participants").insert([{raid_id:e,player_id:s,contribution:0}]).select().single();if(i)throw i;return r}catch(r){throw console.error("Error joining raid:",r),r}}async updateRaidBoss(e,s){try{const{error:r}=await Nt.from("raids").update(s).eq("id",e);if(r)throw console.error("Supabase error:",r),r}catch(r){throw console.error("Error updating raid boss:",r),r}}async updateRaidBossHealth(e,s){try{const{error:r}=await Nt.from("raids").update({boss_health:s}).eq("id",e);if(r)throw r}catch(r){throw console.error("Error updating raid boss health:",r),r}}async completeRaidQuest(e,s){try{const{data:r,error:i}=await jt.from("raid_quests").select("completed_by").eq("id",e).single();if(i)throw i;const a=r.completed_by||[];if(a.includes(s))throw new Error("Quest already completed by player");const{error:o}=await Nt.from("raid_quests").update({completed_by:[...a,s]}).eq("id",e);if(o)throw o}catch(r){throw console.error("Error completing raid quest:",r),r}}async updateParticipantContribution(e,s,r){try{const{error:i}=await Nt.from("raid_participants").update({contribution:r}).eq("raid_id",e).eq("player_id",s);if(i)throw i}catch(i){throw console.error("Error updating participant contribution:",i),i}}async getCompletedRaids(){try{const{data:e,error:s}=await jt.from("raids").select("*").eq("state","completed").order("end_time",{ascending:!1});if(s)throw s;return e||[]}catch(e){return console.error("Error fetching completed raids:",e),[]}}}const ve=new Tw;function Aw(){const{publicKey:t}=U(),[e,s]=p.useState([]),[r,i]=p.useState(!0),[a,o]=p.useState(null);return p.useEffect(()=>{const d=async()=>{try{const h=await ve.getAllRaids();s(h.filter(m=>m.state==="active")),o(null)}catch(h){console.error("Error loading raids:",h),o("Failed to load raids")}finally{i(!1)}};d();const u=setInterval(d,5e3);return()=>clearInterval(u)},[]),{currentRaids:e,loading:r,error:a,joinRaid:async(d,u)=>{if(!t)return!1;try{return await ve.joinRaid(d,t.toString(),u)}catch(h){return console.error("Error joining raid:",h),!1}},completeQuest:async(d,u,h)=>{if(!t)return!1;try{return await ve.completeQuest(d,u,t.toString(),h)}catch(m){return console.error("Error completing quest:",m),!1}}}}const Ew=({raidId:t,onClose:e})=>{const{publicKey:s}=U(),[r,i]=p.useState(!1),[a,o]=p.useState(null),[l,c]=p.useState(0),u=ve.getActiveRaids().find(g=>g.id===t),h=u?.boss.quests||[];p.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]);const m=g=>{o(g),i(!0)},f=async g=>{if(!s||!a)return;await ve.completeQuest(t,a,s.toString(),g)&&(i(!1),o(null),c(x=>x+1))};return u?n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:e}),n.jsxs("div",{className:`relative w-full max-w-2xl mx-4 max-h-[90vh] flex flex-col 
        bg-white/20 dark:bg-black/20 backdrop-blur-sm rounded-xl 
        border border-sand-300/20 dark:border-sand-200/10 
        shadow-xl shadow-sand-400/20 dark:shadow-primary-500/20
        transform transition-all`,children:[n.jsxs("div",{className:"text-center p-6 border-b border-sand-300/20 dark:border-sand-200/10",children:[n.jsxs("h3",{className:"text-2xl md:text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary-500 to-primary-400",children:[u.boss.name," - Quests"]}),n.jsx("button",{onClick:e,className:`absolute top-4 right-4 p-2 text-sand-600 dark:text-sand-400 
              hover:text-primary-400 transition-colors rounded-lg 
              hover:bg-sand-200/10 dark:hover:bg-sand-800/10`,children:n.jsx(Ne,{className:"w-5 h-5 md:w-6 md:h-6"})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 custom-scrollbar",children:[h.map(g=>{const y=g.completedBy?.includes(s?.toString()||"");return n.jsx("div",{className:`bg-white/10 dark:bg-black/20 backdrop-blur-sm rounded-xl p-4 
                  border border-sand-300/20 dark:border-sand-200/10 
                  hover:border-primary-500/30 transition-all duration-300`,children:n.jsxs("div",{className:"flex justify-between items-start gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-base md:text-lg text-sand-800 dark:text-sand-200 mb-2",children:g.description}),n.jsxs("div",{className:"flex items-center gap-2 text-sm md:text-base",children:[n.jsx(te,{className:"w-4 h-4 md:w-5 md:h-5 text-primary-400"}),n.jsxs("span",{className:"text-primary-400",children:["+",g.xpReward," XP"]})]})]}),y?n.jsx("div",{className:"px-4 py-2 bg-green-500/20 text-green-400 rounded-lg text-sm md:text-base",children:"Completed"}):n.jsx("button",{onClick:()=>m(g.id),className:`px-4 py-2 bg-gradient-to-r from-primary-500 to-primary-400 
                        text-white rounded-lg hover:from-primary-600 hover:to-primary-500 
                        transition-all duration-300 text-sm md:text-base whitespace-nowrap`,children:"Complete Quest"})]})},`${g.id}-${l}`)}),h.length===0&&n.jsx("div",{className:"text-center py-8 text-neutral-lightGray",children:"No quests available for this raid boss"})]})]}),r&&n.jsx(lu,{onClose:()=>{i(!1),o(null)},onSubmit:f})]}):null},Rw=({raid:t,onJoin:e,onViewQuests:s,onShowDetails:r,isParticipating:i,hasCompletedAllQuests:a})=>{const o=t.boss.health/t.boss.maxHealth*100;return n.jsxs("div",{className:`bg-white/20 dark:bg-black/10 backdrop-blur-sm rounded-xl 
      border border-sand-300/20 dark:border-sand-200/10 
      group hover:border-primary-500/30 transition-all duration-300`,children:[n.jsxs("button",{onClick:r,className:"w-full aspect-video relative overflow-hidden rounded-t-xl",children:[n.jsx("img",{src:t.boss.imageUrl,alt:t.boss.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),n.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-2 group-hover:text-primary-400 transition-colors",children:t.boss.name}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(je,{className:"w-4 h-4 text-primary-400"}),n.jsx("span",{className:"text-sand-200",children:t.boss.defense})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(te,{className:"w-4 h-4 text-primary-400"}),n.jsxs("span",{className:"text-sand-200",children:[t.boss.rewards.xp.toLocaleString()," XP"]})]})]})]})]}),n.jsxs("div",{className:"px-4 py-3",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[n.jsx("span",{className:"text-sand-700 dark:text-sand-300 font-medium",children:"Boss HP"}),n.jsxs("span",{className:"text-sand-700 dark:text-sand-300 font-medium",children:[Math.ceil(t.boss.health).toLocaleString()," / ",t.boss.maxHealth.toLocaleString()]})]}),n.jsx("div",{className:"h-2 bg-sand-200/20 dark:bg-sand-800/20 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400 transition-all duration-300",style:{width:`${o}%`},children:n.jsx("div",{className:"w-full h-full animate-pulse opacity-50 bg-white/20"})})})]}),n.jsx("div",{className:"p-4 pt-2",children:i?n.jsx("button",{onClick:s,className:`w-full px-4 py-2 rounded-lg font-medium transition-all duration-300 ${a?"bg-green-500/20 text-green-400 hover:bg-green-500/30":"bg-gradient-to-r from-primary-500 to-primary-400 text-white hover:from-primary-600 hover:to-primary-500"}`,children:a?"Completed":"View Quests"}):n.jsx("button",{onClick:e,className:`w-full px-4 py-2 bg-gradient-to-r from-primary-500 to-primary-400 text-white rounded-lg 
              hover:from-primary-600 hover:to-primary-500 transition-all duration-300`,children:"Join Raid"})})]})},Iw=({raid:t,onClose:e,onJoin:s,onViewQuests:r,isParticipating:i})=>{const a=t.boss.health/t.boss.maxHealth*100,o=a>50?"bg-primary-main":a>25?"bg-accent-warning":"bg-accent-danger";return n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-background-dark/90 backdrop-blur-md",onClick:e}),n.jsxs(Pe,{className:"relative w-full max-w-3xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-xl font-title text-white",children:t.boss.name}),n.jsx("button",{onClick:e,className:"p-2 text-text-dark-secondary hover:text-white transition-colors",children:n.jsx(Ne,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{children:[n.jsx("div",{className:"rounded-xl overflow-hidden mb-6",children:n.jsx("img",{src:t.boss.imageUrl,alt:t.boss.name,className:"w-full aspect-square object-cover"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-white font-medium",children:"Boss HP"}),n.jsxs("span",{className:"text-text-dark-secondary",children:[Math.ceil(t.boss.health).toLocaleString()," / ",t.boss.maxHealth.toLocaleString()]})]}),n.jsx("div",{className:"h-3 bg-background-darker rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full ${o} transition-all duration-300`,style:{width:`${a}%`},children:n.jsx("div",{className:"w-full h-full animate-pulse opacity-50"})})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx("p",{className:"text-text-dark-secondary",children:t.boss.description}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs(Pe,{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(je,{className:"w-4 h-4 text-primary-main"}),n.jsx("span",{className:"text-white font-medium",children:"Defense"})]}),n.jsx("p",{className:"text-2xl font-bold text-primary-main",children:t.boss.defense})]}),n.jsxs(Pe,{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(te,{className:"w-4 h-4 text-primary-main"}),n.jsx("span",{className:"text-white font-medium",children:"XP Reward"})]}),n.jsx("p",{className:"text-2xl font-bold text-primary-main",children:t.boss.rewards.xp.toLocaleString()})]}),n.jsxs(Pe,{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(W,{className:"w-4 h-4 text-primary-main"}),n.jsx("span",{className:"text-white font-medium",children:"Raiders"})]}),n.jsx("p",{className:"text-2xl font-bold text-primary-main",children:t.participants.length})]}),n.jsxs(Pe,{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Ss,{className:"w-4 h-4 text-primary-main"}),n.jsx("span",{className:"text-white font-medium",children:"Quests"})]}),n.jsx("p",{className:"text-2xl font-bold text-primary-main",children:t.boss.quests.length})]})]}),n.jsx("div",{className:"flex gap-4",children:i?n.jsx("button",{onClick:r,className:"flex-1 px-6 py-3 bg-primary-main text-white rounded-lg hover:bg-primary-main/90 transition-colors shadow-glow",children:"View Quests"}):n.jsx("button",{onClick:s,className:"flex-1 px-6 py-3 bg-primary-main text-white rounded-lg hover:bg-primary-main/90 transition-colors shadow-glow",children:"Join Raid"})})]})]})]})]})},Dw=()=>{const{publicKey:t}=U(),{currentRaids:e,joinRaid:s}=Aw(),[r,i]=p.useState(!1),[a,o]=p.useState(null),[l,c]=p.useState(!1);p.useEffect(()=>{const m=setInterval(()=>{o(f=>f)},5e3);return()=>clearInterval(m)},[]);const d=m=>{if(!t)return;s(m,"default-nft-id")&&(o(m),i(!0))},u=m=>{o(m),i(!0)},h=m=>{o(m),c(!0)};return n.jsxs("div",{className:`bg-white/30 dark:bg-black/10 backdrop-blur-sm rounded-xl p-6
      border border-sand-300/20 dark:border-sand-200/10 
      hover:border-primary-500/30 transition-all duration-300`,children:[n.jsx("h2",{className:"text-2xl md:text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary-500 to-primary-400 mb-6",children:"Active Raid Bosses"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.map(m=>{const f=m.participants.some(y=>y.wallet===t?.toString()),g=m.boss.quests.every(y=>y.completedBy.includes(t?.toString()||""));return n.jsx(Rw,{raid:m,onJoin:()=>d(m.id),onViewQuests:()=>u(m.id),onShowDetails:()=>h(m.id),isParticipating:f,hasCompletedAllQuests:g},m.id)}),e.length===0&&n.jsx("div",{className:"col-span-full text-center py-8 text-sand-600 dark:text-sand-400",children:"No active raid bosses"})]}),r&&a&&n.jsx(Ew,{raidId:a,onClose:()=>{i(!1),o(null)}}),l&&a&&n.jsx(Iw,{raid:e.find(m=>m.id===a),onClose:()=>{c(!1),o(null)},onJoin:()=>d(a),onViewQuests:()=>{c(!1),u(a)},isParticipating:e.find(m=>m.id===a)?.participants.some(m=>m.wallet===t?.toString())||!1})]})},Ow=({raid:t,onClose:e})=>n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-neutral-charcoal/90 backdrop-blur-md",onClick:e}),n.jsxs("div",{className:"relative w-full max-w-3xl bg-[#1A1B23] rounded-xl border border-primary-pink/20 shadow-2xl transform transition-all overflow-hidden max-h-[90vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-primary-pink/20 bg-black/40",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden border border-primary-pink/20",children:n.jsx("img",{src:t.boss.imageUrl,alt:t.boss.name,className:"w-full h-full object-cover"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-white",children:t.boss.name}),n.jsxs("p",{className:"text-sm text-neutral-lightGray",children:["Completed ",new Date(t.endTime).toLocaleDateString()]})]})]}),n.jsx("button",{onClick:e,className:"p-2 text-neutral-lightGray hover:text-white transition-colors rounded-lg hover:bg-primary-pink/10",children:n.jsx(Ne,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-black/40 rounded-lg p-4 border border-primary-pink/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(je,{className:"w-4 h-4 text-primary-teal flex-shrink-0"}),n.jsx("h4",{className:"text-white font-medium truncate",children:"Defense"})]}),n.jsx("p",{className:"text-2xl font-bold text-primary-teal",children:t.boss.defense})]}),n.jsxs("div",{className:"bg-black/40 rounded-lg p-4 border border-primary-pink/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(te,{className:"w-4 h-4 text-primary-pink flex-shrink-0"}),n.jsx("h4",{className:"text-white font-medium truncate",children:"XP Reward"})]}),n.jsx("p",{className:"text-2xl font-bold text-primary-pink",children:t.boss.rewards.xp.toLocaleString()})]}),n.jsxs("div",{className:"bg-black/40 rounded-lg p-4 border border-primary-pink/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(W,{className:"w-4 h-4 text-primary-pink flex-shrink-0"}),n.jsx("h4",{className:"text-white font-medium truncate",children:"Participants"})]}),n.jsx("p",{className:"text-2xl font-bold text-primary-pink",children:t.participants.length})]})]}),n.jsx("div",{className:"bg-black/40 rounded-lg p-4 border border-primary-pink/20",children:n.jsx("p",{className:"text-neutral-lightGray break-words",children:t.boss.description})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Required Quests"}),n.jsx("div",{className:"space-y-3",children:t.boss.quests.map(s=>n.jsx("div",{className:"bg-black/40 rounded-lg p-4 border border-primary-pink/20 hover:border-primary-pink/40 transition-colors",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-white mb-2 break-words",children:s.description}),n.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-2 text-sm",children:[n.jsxs("span",{className:"text-primary-pink flex items-center gap-1",children:[n.jsx(te,{className:"w-3 h-3"}),s.xpReward," XP"]}),n.jsxs("span",{className:"text-neutral-lightGray flex items-center gap-1",children:[n.jsx(W,{className:"w-3 h-3"}),s.completedBy.length," raiders"]})]})]}),n.jsx(Nh,{className:"w-5 h-5 text-green-400 flex-shrink-0"})]})},s.id))})]})]})})]})]}),Lw=({raid:t,participated:e,onClose:s})=>{const r=p.useRef(null);p.useEffect(()=>{const a=r.current;if(!a)return;const o=a.getContext("2d");if(!o)return;(async()=>{a.width=1200,a.height=630,o.fillStyle="#1A1B23",o.fillRect(0,0,a.width,a.height);try{const c=new Image;c.crossOrigin="anonymous",await new Promise((u,h)=>{c.onload=u,c.onerror=h,c.src=t.boss.imageUrl}),o.drawImage(c,0,0,a.width/2,a.height);const d=o.createLinearGradient(a.width/2-200,0,a.width/2,0);d.addColorStop(0,"rgba(26, 27, 35, 0)"),d.addColorStop(1,"rgba(26, 27, 35, 1)"),o.fillStyle=d,o.fillRect(a.width/2-200,0,200,a.height),o.fillStyle="#FFFFFF",o.font="bold 64px sans-serif",o.fillText("Raid Boss Defeated!",a.width/2+40,100),o.font="bold 48px sans-serif",o.fillText(t.boss.name,a.width/2+40,180),o.font="32px sans-serif",o.fillStyle="#D24985",o.fillText(`${t.boss.rewards.xp.toLocaleString()} XP Reward`,a.width/2+40,240),e&&(o.fillStyle="#4CAF50",o.font="bold 36px sans-serif",o.fillText(" I Participated in this Raid!",a.width/2+40,300)),o.font="24px sans-serif",o.fillStyle="#9071A8",o.fillText(`${t.participants.length} Raiders`,a.width/2+40,360),o.fillText(`${t.questCompletions} Quests Completed`,a.width/2+40,400)}catch(c){console.error("Error creating share image:",c)}})()},[t,e]);const i=async()=>{if(r.current)try{const a=r.current.toDataURL("image/png"),o=e?`I helped defeat the #RaidBoss ${t.boss.name} on @KibalzXYZ! `:`The #RaidBoss ${t.boss.name} has been defeated on @KibalzXYZ! `,l=new URL("https://twitter.com/intent/tweet");l.searchParams.append("text",o),window.open(l.toString(),"_blank","width=550,height=420")}catch(a){console.error("Error sharing to Twitter:",a)}};return n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-neutral-charcoal/90 backdrop-blur-md",onClick:s}),n.jsxs("div",{className:"relative bg-[#1A1B23] rounded-xl border border-primary-pink/20 p-6 max-w-2xl w-full",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-xl font-bold text-white",children:"Share Victory"}),n.jsx("button",{onClick:s,className:"p-2 text-neutral-lightGray hover:text-white transition-colors rounded-lg hover:bg-white/5",children:n.jsx(Ne,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"aspect-[1200/630] w-full rounded-lg overflow-hidden mb-6",children:n.jsx("canvas",{ref:r,className:"w-full h-full"})}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-6 py-3 bg-[#1DA1F2] text-white rounded-lg hover:bg-[#1A8CD8] transition-colors",children:[n.jsx(kh,{className:"w-5 h-5"}),"Share on Twitter"]})})]})]})},Mw=({raids:t})=>{const{publicKey:e}=U(),[s,r]=p.useState(null),[i,a]=p.useState(!1),o=c=>{r(c),a(!0)},l=c=>c.participants.some(d=>d.wallet===e?.toString());return n.jsxs("div",{className:`bg-white/20 dark:bg-black/10 backdrop-blur-sm rounded-xl p-6
      border border-sand-300/20 dark:border-sand-200/10 
      hover:border-primary-500/30 transition-all duration-300`,children:[n.jsx("div",{className:"text-center mb-6",children:n.jsx("h3",{className:"text-2xl md:text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary-500 to-primary-400",children:"Completed Raids"})}),n.jsxs("div",{className:"space-y-4 max-h-[300px] overflow-y-auto custom-scrollbar pr-2",children:[t.map(c=>n.jsxs("div",{className:`bg-white/10 dark:bg-black/20 rounded-xl overflow-hidden 
              border border-sand-300/20 dark:border-sand-200/10 
              hover:border-primary-500/30 transition-all duration-300`,children:[n.jsxs("div",{className:"aspect-[3/2] relative",children:[n.jsx("img",{src:c.boss.imageUrl,alt:c.boss.name,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),n.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3",children:[n.jsx("h4",{className:"text-base md:text-lg font-semibold text-white mb-1",children:c.boss.name}),n.jsxs("div",{className:"flex items-center gap-3 text-xs md:text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1 text-sand-300",children:[n.jsx(W,{className:"w-3 h-3 md:w-4 md:h-4"}),c.participants.length]}),n.jsxs("div",{className:"flex items-center gap-1 text-primary-400",children:[n.jsx(te,{className:"w-3 h-3 md:w-4 md:h-4"}),c.boss.rewards.bonusXp.toLocaleString()," XP"]})]})]})]}),n.jsxs("div",{className:"p-4 flex justify-between items-center",children:[n.jsx("button",{onClick:()=>r(c),className:"text-sm md:text-base text-sand-600 dark:text-sand-400 hover:text-primary-400 transition-colors",children:"View Details"}),n.jsx("button",{onClick:()=>o(c),className:`px-4 py-2 bg-gradient-to-r from-primary-500 to-primary-400 
                  text-white rounded-lg hover:from-primary-600 hover:to-primary-500 
                  transition-all duration-300 text-sm md:text-base`,children:"Share Victory"})]})]},c.id)),t.length===0&&n.jsx("div",{className:"text-center py-8 text-sand-600 dark:text-sand-400 text-base md:text-lg",children:"No completed raids yet"})]}),s&&!i&&n.jsx(Ow,{raid:s,onClose:()=>r(null)}),s&&i&&n.jsx(Lw,{raid:s,participated:l(s),onClose:()=>{r(null),a(!1)}})]})},Fw=()=>{const{connected:t}=U(),[e,s]=p.useState([]),[r,i]=p.useState(!0);return p.useEffect(()=>{t&&(async()=>{try{const o=await ve.getCompletedRaids();s(o)}catch(o){console.error("Error fetching completed raids:",o)}finally{i(!1)}})()},[t]),t?n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 pt-4 md:pt-6 max-w-7xl",children:[n.jsxs("div",{className:"text-center mb-6 md:mb-8",children:[n.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary-500 to-primary-400",children:"Raid Arena"}),n.jsx("p",{className:"text-base md:text-lg text-sand-600 dark:text-sand-400 max-w-2xl mx-auto mt-2",children:"Join epic raid battles and earn rewards"})]}),n.jsx("div",{className:`mb-6 md:mb-8 bg-gradient-to-br from-primary-500/30 via-sand-200/30 to-transparent
            border border-primary-500/40 dark:border-primary-500/30
            shadow-2xl shadow-primary-500/30
            hover:shadow-primary-500/50 hover:border-primary-500/50
            dark:from-primary-950 dark:via-background-900 dark:to-background-950
            backdrop-blur-md rounded-xl p-4 md:p-6 transition-all duration-300`,children:n.jsx(Cw,{})}),n.jsx("div",{className:`mb-6 md:mb-8 bg-gradient-to-br from-primary-500/30 via-sand-200/30 to-transparent
            border border-primary-500/40 dark:border-primary-500/30
            shadow-2xl shadow-primary-500/30
            hover:shadow-primary-500/50 hover:border-primary-500/50
            dark:from-primary-950 dark:via-background-900 dark:to-background-950
            backdrop-blur-md rounded-xl p-4 md:p-6 transition-all duration-300`,children:n.jsx(Dw,{})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6 lg:gap-8",children:[n.jsx("div",{className:`lg:col-span-2 bg-gradient-to-br from-primary-500/30 via-sand-200/30 to-transparent
            border border-primary-500/40 dark:border-primary-500/30
            shadow-2xl shadow-primary-500/30
            hover:shadow-primary-500/50 hover:border-primary-500/50
            dark:from-primary-950 dark:via-background-900 dark:to-background-950
            backdrop-blur-md rounded-xl p-4 md:p-6 transition-all duration-300`,children:n.jsx(Sw,{})}),n.jsxs("div",{className:"space-y-4 md:space-y-6 lg:space-y-8",children:[n.jsx("div",{className:`bg-gradient-to-br from-primary-500/30 via-sand-200/30 to-transparent
            border border-primary-500/40 dark:border-primary-500/30
            shadow-2xl shadow-primary-500/30
            hover:shadow-primary-500/50 hover:border-primary-500/50
            dark:from-primary-950 dark:via-background-900 dark:to-background-950
            backdrop-blur-md rounded-xl p-4 md:p-6 transition-all duration-300`,children:n.jsx(Pw,{})}),r?n.jsx("div",{className:"animate-pulse bg-sand-200/20 dark:bg-sand-800/20 backdrop-blur-sm rounded-xl h-48"}):n.jsx("div",{className:`bg-gradient-to-br from-primary-500/30 via-sand-200/30 to-transparent
                border border-primary-500/40 dark:border-primary-500/30
                shadow-2xl shadow-primary-500/30
                hover:shadow-primary-500/50 hover:border-primary-500/50
                dark:from-primary-950 dark:via-background-900 dark:to-background-950
                backdrop-blur-md rounded-xl p-4 md:p-6 transition-all duration-300`,children:n.jsx(Mw,{raids:e})})]})]})]}):n.jsx(Jt,{})},ps=new Map;async function zi(t,e=3){if(ps.has(t))return ps.get(t);let s=null;for(let r=1;r<=e;r++)try{const i=await new Promise((a,o)=>{const l=new Image;l.crossOrigin="anonymous",l.onload=()=>a(l),l.onerror=o,l.src=t});return ps.set(t,i),i}catch(i){s=i,r<e&&await new Promise(a=>setTimeout(a,r*500))}throw s}async function $w(t,e=5){const s=[];for(let r=0;r<t.length;r+=e)s.push(t.slice(r,r+e));for(const r of s)await Promise.all(r.map(i=>zi(i).catch(console.error)))}async function Bw(t){const e=document.createElement("canvas");e.width=500,e.height=500;const s=e.getContext("2d",{alpha:!0});if(!s)throw new Error("Could not get canvas context");s.imageSmoothingEnabled=!0,s.imageSmoothingQuality="high",s.clearRect(0,0,e.width,e.height);for(const r of t)try{const i=await zi(r);s.drawImage(i,0,0,e.width,e.height)}catch(i){console.error("Failed to load image:",i)}return e.toDataURL("image/png",1)}function Vw(t){return ps.has(t)}function Uw(t){return ps.get(t)}const Gw=({layers:t,selectedTraits:e,loadingProgress:s,onError:r})=>{const i=p.useRef(null),[a,o]=p.useState(null),[l,c]=p.useState(0),[d,u]=p.useState(!1),h=p.useMemo(()=>t.map(f=>{const g=e[f.id];return f.traits.find(x=>x.id===g)?.image||""}).filter(Boolean),[t,e]),m=async()=>{const f=i.current;if(!f||d)return;const g=f.getContext("2d",{alpha:!0});if(!g){o("Could not initialize canvas context"),r?.("Could not initialize canvas context");return}u(!0),g.clearRect(0,0,f.width,f.height),o(null);try{g.imageSmoothingEnabled=!0,g.imageSmoothingQuality="high";for(const y of h)try{let x;Vw(y)?x=Uw(y):x=await zi(y),g.drawImage(x,0,0,f.width,f.height)}catch(x){if(console.error("Failed to load image:",x),r?.("Failed to load image. Retrying..."),l<3){c(b=>b+1);return}o("Failed to load image")}}catch(y){console.error("Failed to draw layers:",y),o("Failed to generate preview"),r?.("Failed to generate preview")}finally{u(!1)}};return p.useEffect(()=>{s===100&&h.length>0&&m()},[h,s]),n.jsxs("div",{className:"relative aspect-square w-full rounded-lg overflow-hidden bg-gradient-to-br from-black/40 to-black/20 border-2 border-primary-500/20",children:[n.jsx("canvas",{ref:i,width:500,height:500,className:"w-full h-full"}),s<100&&n.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 flex flex-col items-center justify-center bg-black/40 backdrop-blur-sm",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 animate-ping rounded-full bg-primary-500/20"}),n.jsx(Sh,{className:"w-8 h-8 text-primary-500 animate-spin relative z-10"})]}),n.jsxs("div",{className:"mt-4 text-sm text-white font-medium",children:["Loading assets... ",s,"%"]}),n.jsx("div",{className:"w-48 h-1 bg-black/20 rounded-full mt-2",children:n.jsx(_.div,{className:"h-full bg-primary-500 rounded-full",initial:{width:0},animate:{width:`${s}%`},transition:{duration:.3}})})]}),a&&n.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/40 backdrop-blur-sm",children:[n.jsx(_h,{className:"w-8 h-8 text-red-500"}),n.jsx("div",{className:"mt-4 text-sm text-white font-medium text-center px-4",children:a}),n.jsxs("button",{onClick:()=>m(),className:"mt-4 px-4 py-2 bg-primary-500 text-white rounded-lg flex items-center gap-2 hover:bg-primary-600 transition-colors",children:[n.jsx(Ph,{className:"w-4 h-4"}),"Retry"]})]})]})},qw=({layer:t,selectedTrait:e,onSelect:s,isLoading:r=!1})=>{const[i,a]=p.useState({}),o=c=>{a(d=>({...d,[c]:!1}))},l=c=>{a(d=>({...d,[c]:!1}))};return n.jsxs("div",{className:`
      bg-white/80 dark:bg-black/20 backdrop-blur-sm rounded-xl p-4 
      border border-sand-300/20 dark:border-sand-200/10 
      hover:border-primary-500/30 transition-colors duration-300
      ${r?"opacity-50 pointer-events-none":""}
    `,children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-sm font-medium text-sand-800 dark:text-sand-200",children:t.name}),n.jsx("button",{className:"p-1 text-sand-500 hover:text-primary-500 transition-colors",onClick:()=>{},title:`${t.name} traits information`,children:n.jsx(sl,{className:"w-4 h-4"})})]}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:t.traits.map(c=>n.jsxs("div",{className:"relative group",title:c.name,children:[n.jsxs(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>!r&&s(c.id),disabled:r,className:`
                relative aspect-square rounded-lg overflow-hidden border-2 transition-all duration-200
                ${e===c.id?"border-primary-500 shadow-lg shadow-primary-500/20":"border-transparent hover:border-primary-500/50"}
                ${r?"cursor-not-allowed":""}
              `,children:[(i[c.id]||r)&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 backdrop-blur-sm",children:n.jsx("div",{className:"w-4 h-4 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}),n.jsx("img",{src:c.image,alt:c.name,className:"w-full h-full object-cover",onLoad:()=>o(c.id),onError:()=>l(c.id),loading:"lazy"}),e===c.id&&n.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 bg-primary-500/10 pointer-events-none"})]}),n.jsx("div",{className:"absolute inset-x-0 bottom-0 p-1 bg-black/60 text-white text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:c.name})]},c.id))})]})},rs=[{id:1,name:"Background",traits:[{id:101,name:"Byzantium Purple",image:"/assets/layers/Background/Byzantium_Purple.png"},{id:102,name:"Cream",image:"/assets/layers/Background/Cream.png"},{id:103,name:"Ruddy Blue",image:"/assets/layers/Background/Ruddy_Blue.png"}]},{id:2,name:"Skin",traits:[{id:201,name:"Tree",image:"/assets/layers/Skin/Tree.png"},{id:202,name:"Cybersuit",image:"/assets/layers/Skin/Cybersuit.png"},{id:203,name:"Dreamland",image:"/assets/layers/Skin/Dreamland.png"}]},{id:3,name:"Eyes",traits:[{id:301,name:"Gaze",image:"/assets/layers/Eyes/Gaze.png"},{id:302,name:"Nano",image:"/assets/layers/Eyes/Nano.png"},{id:303,name:"Bloodshot",image:"/assets/layers/Eyes/Bloodshot.png"}]},{id:4,name:"Mouth",traits:[{id:401,name:"Red",image:"/assets/layers/Mouth/Red.png"},{id:402,name:"Bone",image:"/assets/layers/Mouth/Bone.png"},{id:403,name:"Gold Cheese",image:"/assets/layers/Mouth/Gold_Cheese.png"}]},{id:5,name:"Outfit",traits:[{id:501,name:"Birfday",image:"/assets/layers/Outfit/Birfday.png"},{id:502,name:"Colonial",image:"/assets/layers/Outfit/Colonial.png"},{id:503,name:"Bear Suit",image:"/assets/layers/Outfit/Bear_Suit.png"}]},{id:6,name:"Hat",traits:[{id:601,name:"Crown",image:"/assets/layers/Hat/Crown.png"},{id:602,name:"Troll",image:"/assets/layers/Hat/Troll.png"},{id:603,name:"Forest Ancients",image:"/assets/layers/Hat/Forest_Ancients.png"}]}],zw=({message:t,type:e})=>n.jsx("div",{className:`
    fixed bottom-4 right-4 px-6 py-3 rounded-lg shadow-lg text-white z-50
    ${e==="success"?"bg-green-500":""}
    ${e==="error"?"bg-red-500":""}
    ${e==="warning"?"bg-yellow-500":""}
  `,children:t}),Jo=({message:t,progress:e})=>n.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"relative",children:n.jsxs("div",{className:"w-12 h-12",children:[n.jsx(_.div,{className:"absolute inset-0 border-4 border-primary-500/30 rounded-full",animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"}}),n.jsx(_.div,{className:"absolute inset-0 border-4 border-t-primary-500 rounded-full",animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"}})]})}),n.jsx("p",{className:"mt-4 text-white font-medium",children:t}),e!==void 0&&n.jsx("div",{className:"w-48 h-1 bg-black/20 rounded-full mt-2",children:n.jsx(_.div,{className:"h-full bg-primary-500 rounded-full",initial:{width:0},animate:{width:`${e}%`},transition:{duration:.3}})})]})}),Ww=()=>{const[t,e]=p.useState(null),s=p.useCallback((r,i)=>{e({message:r,type:i}),setTimeout(()=>e(null),3e3)},[]);return{toast:t,showToast:s}},Hw=()=>{const[t,e]=p.useState({}),[s,r]=p.useState(!1),[i,a]=p.useState(0),[o,l]=p.useState(0),[c,d]=p.useState(!0),{toast:u,showToast:h}=Ww();p.useEffect(()=>{let y=!0;return(async()=>{try{d(!0);const b=rs.flatMap(k=>k.traits.map(T=>T.image)),v=b.length;let w=0;const N=()=>{y&&(w++,a(Math.floor(w/v*100)))};await Promise.all(b.map(async k=>{try{await $w([k]),N()}catch(T){console.error(`Failed to load image: ${k}`,T),N(),h(`Failed to load image: ${k}`,"error")}})),y&&(a(100),d(!1))}catch(b){console.error("Failed to preload images:",b),y&&(o<3?(l(v=>v+1),h("Loading assets failed. Retrying...","warning")):h("Failed to load assets. Please refresh the page.","error"))}})(),()=>{y=!1}},[o,h]),p.useEffect(()=>{f()},[]);const m=p.useCallback((y,x)=>{e(b=>({...b,[y]:x}))},[]),f=p.useCallback(()=>{const y={};rs.forEach(x=>{const b=x.traits[Math.floor(Math.random()*x.traits.length)];y[x.id]=b.id}),e(y)},[]),g=async()=>{try{r(!0);const y=rs.map(x=>{const b=t[x.id];return x.traits.find(w=>w.id===b)?.image||""}).filter(Boolean);if(y.length>0){const x=await Bw(y),b=document.createElement("a");b.href=x,b.download="my-nft.png",document.body.appendChild(b),b.click(),document.body.removeChild(b),h("NFT Downloaded Successfully","success")}}catch(y){console.error("Failed to download NFT:",y),h("Failed to download NFT. Please try again.","error")}finally{r(!1)}};return n.jsxs("div",{className:"relative space-y-12 sm:space-y-16 lg:space-y-24 pb-12 sm:pb-16 lg:pb-24",children:[n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"text-center mb-12 sm:mb-16",children:[n.jsx("h1",{className:"text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary-500 to-primary-400 sm:text-5xl",children:"Create Your Character"}),n.jsx("p",{className:"mt-4 text-lg font-medium text-sand-600 dark:text-sand-300",children:"Customize your unique NFT warrior with powerful traits and attributes"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[n.jsx(_.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},className:"lg:col-span-4",children:n.jsx("div",{className:"sticky top-24 z-10",children:n.jsxs("div",{className:"relative bg-white/80 dark:bg-black/20 backdrop-blur-sm rounded-xl p-4 border border-sand-300/20 dark:border-sand-200/10 hover:border-primary-500/30 transition-colors duration-300 shadow-xl shadow-sand-900/5 transform-gpu",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Gw,{layers:rs,selectedTraits:t,loadingProgress:i,onError:y=>h(y,"warning")}),n.jsxs(dr,{children:[c&&n.jsx(Jo,{message:"Loading assets...",progress:i}),s&&n.jsx(Jo,{message:"Generating your NFT..."})]})]}),n.jsxs("div",{className:"flex gap-3 mt-4",children:[n.jsxs(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:f,disabled:c,className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 bg-primary-500/10 text-primary-700 dark:text-primary-400 text-sm rounded-lg hover:bg-primary-500/20 transition-colors disabled:opacity-50",children:[n.jsx(Ch,{className:"w-4 h-4"}),"Randomize"]}),n.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:g,disabled:s||c,className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 bg-primary-500 text-white text-sm rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50 shadow-sm shadow-primary-500/20",children:s?n.jsxs(n.Fragment,{children:[n.jsx(Th,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ah,{className:"w-4 h-4"}),"Download"]})})]})]})})}),n.jsx(_.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},className:"lg:col-span-8 flex items-center",children:n.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:rs.map((y,x)=>n.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.2,delay:x*.05},children:n.jsx(qw,{layer:y,selectedTrait:t[y.id],onSelect:b=>m(y.id,b),isLoading:c})},y.id))})})]})]}),u&&n.jsx(zw,{message:u.message,type:u.type})]})},hu=({quest:t,onSubmit:e,isEditing:s})=>{const[r,i]=p.useState(t?.type||"daily"),[a,o]=p.useState(t?.title||""),[l,c]=p.useState(t?.description||""),[d,u]=p.useState(t?.xpReward.toString()||"100"),[h,m]=p.useState(""),[f,g]=p.useState(t?.imageUrl||""),[y,x]=p.useState(null),b=p.useRef(null),v=k=>{const T=k.target.files?.[0];if(!T)return;const I=new FileReader;I.onloadend=()=>{x(I.result)},I.readAsDataURL(T)},w=()=>{x(null),g(""),b.current&&(b.current.value="")},N=async()=>{if(!a.trim()){m("Title is required");return}if(!l.trim()){m("Description is required");return}if(!d||isNaN(Number(d))||Number(d)<=0){m("Valid XP reward is required");return}const k={id:t?.id||"",title:a.trim(),type:r,description:l.trim(),xpReward:Number(d),imageUrl:y||f||void 0,dateCreated:t?.dateCreated||Date.now(),dateAvailable:Date.now(),dateExpires:Date.now()+(r==="daily"?24*60*60*1e3:r==="weekly"?7*24*60*60*1e3:30*24*60*60*1e3),status:"available",completedBy:t?.completedBy||[]};try{if(s&&e)e(k);else{const T=await ms.createQuest(k);e&&e(T)}s||(o(""),c(""),u("100"),m(""),w())}catch(T){console.error("Error creating quest:",T),m("Failed to create quest. Please try again.")}};return n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Quest Image (Optional)"}),n.jsx("div",{className:"border-2 border-dashed border-primary-pink/20 rounded-lg p-4",children:y||f?n.jsxs("div",{className:"space-y-4",children:[n.jsx("img",{src:y||f,alt:"Quest preview",className:"w-full h-48 object-cover rounded-lg"}),n.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30 transition-colors",children:[n.jsx(Ne,{className:"w-4 h-4"}),"Remove Image"]})]}):n.jsxs("label",{className:"cursor-pointer flex flex-col items-center",children:[n.jsx(Ft,{className:"w-8 h-8 text-primary-pink mb-2"}),n.jsx("span",{className:"text-sm text-gray-400",children:"Click to upload or drag and drop"}),n.jsx("input",{ref:b,type:"file",className:"hidden",accept:"image/*",onChange:v})]})})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Quest Title"}),n.jsx("input",{type:"text",value:a,onChange:k=>o(k.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-primary-pink",placeholder:"Enter quest title"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Quest Type"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>i("daily"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${r==="daily"?"bg-primary-pink text-white":"text-gray-400 hover:bg-primary-pink/10 hover:text-primary-pink"}`,children:[n.jsx(hl,{className:"w-4 h-4"}),"Daily"]}),n.jsxs("button",{onClick:()=>i("weekly"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${r==="weekly"?"bg-primary-pink text-white":"text-gray-400 hover:bg-primary-pink/10 hover:text-primary-pink"}`,children:[n.jsx(pl,{className:"w-4 h-4"}),"Weekly"]}),n.jsxs("button",{onClick:()=>i("monthly"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${r==="monthly"?"bg-primary-pink text-white":"text-gray-400 hover:bg-primary-pink/10 hover:text-primary-pink"}`,children:[n.jsx(he,{className:"w-4 h-4"}),"Monthly"]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Description"}),n.jsx("textarea",{value:l,onChange:k=>c(k.target.value),className:"w-full px-4 py-2 bg-black/40 border border-primary-pink/20 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-primary-pink/40 min-h-[100px]",placeholder:"Enter quest description..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"XP Reward"}),n.jsx("input",{type:"number",value:d,onChange:k=>u(k.target.value),className:"w-full px-4 py-2 bg-black/40 border border-primary-pink/20 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-primary-pink/40",placeholder:"Enter XP reward..."})]}),h&&n.jsx("p",{className:"text-red-400 text-sm",children:h}),n.jsx("button",{onClick:N,className:"w-full px-4 py-2 bg-primary-pink text-white rounded-lg hover:bg-primary-pink/90 transition-colors",children:s?"Update Quest":"Create Quest"})]})]})},Kw=()=>{const[t,e]=p.useState([]),[s,r]=p.useState(null),[i,a]=p.useState(!0),[o,l]=p.useState(null);p.useEffect(()=>{c()},[]);const c=async()=>{try{a(!0),l(null);const h=await ms.getQuests();e(Array.isArray(h)?h:[])}catch(h){l("Failed to load quests. Please try again later."),console.error("Error loading quests:",h)}finally{a(!1)}},d=async h=>{try{await ms.deleteQuest(h)&&await c()}catch(m){console.error("Error deleting quest:",m)}},u=async h=>{try{await ms.updateQuest(h.id,h)&&(await c(),r(null))}catch(m){console.error("Error updating quest:",m)}};return s?n.jsxs("div",{children:[n.jsx("button",{onClick:()=>r(null),className:"text-neutral-lightGray hover:text-white mb-4 flex items-center gap-2",children:" Back to Quest List"}),n.jsx(hu,{quest:s,onSubmit:u,isEditing:!0})]}):i?n.jsx("div",{className:"text-center py-4",children:"Loading quests..."}):o?n.jsxs("div",{className:"text-red-500 bg-red-500/10 border border-red-500/20 rounded-lg p-4 mb-4",children:[o,n.jsx("button",{onClick:c,className:"ml-4 text-sm underline hover:no-underline",children:"Try Again"})]}):t.length?n.jsx("div",{className:"space-y-4",children:t.map(h=>n.jsx("div",{className:"bg-black/40 rounded-lg overflow-hidden border border-primary-pink/20",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"w-48 h-32 bg-neutral-charcoal/40 flex-shrink-0",children:h.imageUrl?n.jsx("img",{src:h.imageUrl,alt:h.description,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx(fl,{className:"w-8 h-8 text-neutral-lightGray/40"})})}),n.jsxs("div",{className:"flex-grow p-4",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-white",children:h.title}),n.jsx("p",{className:"text-sm text-neutral-lightGray mt-1",children:h.description})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>r(h),className:"p-2 text-neutral-lightGray hover:text-white transition-colors",children:n.jsx(Ps,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>d(h.id),className:"p-2 text-neutral-lightGray hover:text-red-500 transition-colors",children:n.jsx(Cs,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"mt-2 flex gap-4 text-sm",children:[n.jsxs("span",{className:"text-neutral-lightGray",children:["Type: ",h.type]}),n.jsxs("span",{className:"text-neutral-lightGray",children:["XP: ",h.xpReward]})]})]})]})},h.id))}):n.jsx("div",{className:"text-center py-4",children:"No quests found."})},Jw=()=>{const[t,e]=p.useState("create");return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[n.jsx("h2",{className:"text-2xl font-bold text-white",children:"Quest Administration"}),n.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:[n.jsxs("button",{onClick:()=>e("create"),className:`flex-1 sm:flex-none flex items-center justify-center gap-2 px-6 py-3 rounded-xl font-semibold transition-all ${t==="create"?"bg-primary-main text-white shadow-glow":"bg-primary-main/20 text-text-light-primary dark:text-white hover:bg-primary-main/30"}`,children:[n.jsx(Ts,{className:"w-4 h-4"}),"Add New Quest"]}),n.jsxs("button",{onClick:()=>e("edit"),className:`flex-1 sm:flex-none flex items-center justify-center gap-2 px-6 py-3 rounded-xl font-semibold transition-all ${t==="edit"?"bg-primary-main text-white shadow-glow":"bg-primary-main/20 text-text-light-primary dark:text-white hover:bg-primary-main/30"}`,children:[n.jsx(Ps,{className:"w-4 h-4"}),"Edit Quests"]})]})]}),n.jsx("div",{className:"gradient-box p-6",children:t==="create"?n.jsx(hu,{onSubmit:()=>e("edit")}):n.jsx(Kw,{})})]})},mu=({raid:t,onComplete:e})=>{const[s,r]=p.useState(t?.boss.name||""),[i,a]=p.useState(t?.boss.description||""),[o,l]=p.useState(t?.boss.twitterHandle||""),[c,d]=p.useState("1000"),[u,h]=p.useState(t?.boss.defense?.toString()||""),[m,f]=p.useState(t?.boss.rewards.xp.toString()||"1000"),[g,y]=p.useState(t?.boss.rewards.bonusXp?.toString()||"500"),[x,b]=p.useState(t?.boss.imageUrl||null),[v,w]=p.useState(t?.boss.quests||[]),[N,k]=p.useState(""),T=p.useRef(null),I=P=>{const R=P.target.files?.[0];if(!R)return;const V=new FileReader;V.onloadend=()=>{b(V.result)},V.readAsDataURL(R)},C=()=>{b(null),T.current&&(T.current.value="")},F=()=>{w([...v,{description:"",xpReward:100}])},A=P=>{w(v.filter((R,V)=>V!==P))},D=(P,R,V)=>{const Q=[...v];Q[P]={...Q[P],[R]:V},w(Q)},S=async()=>{if(!s.trim()){k("Name is required");return}if(!i.trim()){k("Description is required");return}if(!c||isNaN(Number(c))||Number(c)<=0){k("Valid base HP value is required");return}if(u&&(isNaN(Number(u))||Number(u)<0)){k("Defense value must be a positive number");return}if(!m||isNaN(Number(m))||Number(m)<=0){k("Valid XP reward is required");return}k("");const P={boss_name:s.trim(),boss_description:i.trim(),boss_health:Number(c),boss_max_health:Number(c),boss_xp_reward:Number(m),state:"preparing"};try{if(t)await ve.updateRaidBoss(t.id,P);else{const R=await ve.createRaidBoss(P);console.log("Created raid boss:",R)}e&&e()}catch(R){console.error("Error saving raid boss:",R),k(R.message||"Failed to save raid boss")}};return n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:["Raid Boss Image ",n.jsx("span",{className:"text-neutral-lightGray",children:"(Optional)"})]}),n.jsx("div",{className:"border-2 border-dashed border-primary-pink/20 rounded-lg p-4",children:x?n.jsxs("div",{className:"space-y-4",children:[n.jsx("img",{src:x,alt:"Raid boss preview",className:"w-full h-48 object-cover rounded-lg"}),n.jsxs("button",{onClick:C,className:"flex items-center gap-2 px-4 py-2 bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30 transition-colors",children:[n.jsx(Ne,{className:"w-4 h-4"}),"Remove Image"]})]}):n.jsxs("label",{className:"cursor-pointer flex flex-col items-center",children:[n.jsx(Ft,{className:"w-8 h-8 text-primary-pink mb-2"}),n.jsx("span",{className:"text-sm text-gray-400",children:"Click to upload or drag and drop"}),n.jsx("input",{ref:T,type:"file",className:"hidden",accept:"image/*",onChange:I})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-200",children:["Raid Boss Quests ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsxs("button",{onClick:F,className:"flex items-center gap-2 px-3 py-1 bg-primary-pink/20 text-primary-pink rounded-lg hover:bg-primary-pink/30 transition-colors",children:[n.jsx(Ts,{className:"w-4 h-4"}),"Add Quest"]})]}),n.jsx("div",{className:"space-y-4",children:v.map((P,R)=>n.jsxs("div",{className:"bg-black/40 rounded-lg p-4 border border-primary-pink/20",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("h4",{className:"text-white font-medium",children:["Quest #",R+1]}),n.jsx("button",{onClick:()=>A(R),className:"p-1 text-red-400 hover:text-red-300 transition-colors",children:n.jsx(Cs,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Description"}),n.jsx("textarea",{value:P.description,onChange:V=>D(R,"description",V.target.value),className:"w-full px-3 py-2 bg-black/40 border border-primary-pink/20 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-primary-pink/40",placeholder:"Enter quest description...",rows:2})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"XP Reward"}),n.jsx("input",{type:"number",value:P.xpReward,onChange:V=>D(R,"xpReward",Number(V.target.value)),className:"w-full px-3 py-2 bg-black/40 border border-primary-pink/20 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-primary-pink/40",placeholder:"Enter XP reward..."})]})]})]},R))})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:["Name ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("input",{type:"text",value:s,onChange:P=>r(P.target.value),className:"w-full px-4 py-2 bg-black/40 border border-primary-pink/20 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-primary-pink/40",placeholder:"Enter raid boss name...",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:["Description ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("textarea",{value:i,onChange:P=>a(P.target.value),className:"w-full px-4 py-2 bg-black/40 border border-primary-pink/20 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-primary-pink/40 min-h-[100px]",placeholder:"Enter raid boss description...",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:["Twitter Handle ",n.jsx("span",{className:"text-neutral-lightGray",children:"(Optional)"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:o,onChange:P=>l(P.target.value),className:"w-full px-4 py-2 pl-10 bg-black/40 border border-primary-pink/20 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-primary-pink/40",placeholder:"@username"}),n.jsx(xr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:["Base HP ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("input",{type:"number",value:c,onChange:P=>d(P.target.value),className:"w-full px-4 py-2 bg-black/40 border border-primary-pink/20 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-primary-pink/40",placeholder:"Enter base HP...",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:["Defense ",n.jsx("span",{className:"text-neutral-lightGray",children:"(Optional)"}),n.jsx("span",{className:"block text-xs text-neutral-lightGray",children:"+10 HP per point"})]}),n.jsx("input",{type:"number",value:u,onChange:P=>h(P.target.value),className:"w-full px-4 py-2 bg-black/40 border border-primary-pink/20 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-primary-pink/40",placeholder:"Enter defense value..."})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:["Base XP Reward ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("input",{type:"number",value:m,onChange:P=>f(P.target.value),className:"w-full px-4 py-2 bg-black/40 border border-primary-pink/20 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-primary-pink/40",placeholder:"Enter XP reward...",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:["Completion Bonus XP ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("input",{type:"number",value:g,onChange:P=>y(P.target.value),className:"w-full px-4 py-2 bg-black/40 border border-primary-pink/20 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-primary-pink/40",placeholder:"Enter bonus XP...",required:!0})]})]}),N&&n.jsx("p",{className:"text-red-400 text-sm",children:N}),n.jsxs("div",{className:"text-xs text-neutral-lightGray mb-4",children:[n.jsx("span",{className:"text-red-400",children:"*"})," Required fields"]}),n.jsx("button",{onClick:S,className:"w-full px-4 py-2 bg-primary-pink text-white rounded-lg hover:bg-primary-pink/90 transition-colors",children:t?"Update Raid Boss":"Create Raid Boss"})]})]})},Xw=()=>{const[t,e]=p.useState([]),[s,r]=p.useState(!0),[i,a]=p.useState(null);p.useEffect(()=>{(async()=>{try{r(!0);const c=await ve.getAllRaids();e(c||[])}catch(c){console.error("Error loading raids:",c),e([])}finally{r(!1)}})()},[]);const o=async l=>{try{await ve.deleteRaid(l);const c=await ve.getAllRaids();e(c||[])}catch(c){console.error("Error deleting raid:",c)}};return i?n.jsxs("div",{children:[n.jsx("button",{onClick:()=>a(null),className:"text-neutral-lightGray hover:text-white mb-4 flex items-center gap-2",children:" Back to Raid Boss List"}),n.jsx(mu,{raid:i,onComplete:async()=>{a(null);const l=await ve.getAllRaids();e(l||[])}})]}):s?n.jsx("div",{className:"flex items-center justify-center p-8",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-primary-pink"})}):t.length===0?n.jsx("div",{className:"text-center p-8 text-neutral-lightGray",children:"No raid bosses found. Create one using the form above."}):n.jsx("div",{className:"space-y-6",children:t.map(l=>!l||!l.boss?null:n.jsx("div",{className:"bg-black/40 rounded-lg overflow-hidden border border-primary-pink/20",children:n.jsxs("div",{className:"flex flex-col md:flex-row",children:[n.jsx("div",{className:"w-full md:w-64 h-48 bg-neutral-charcoal/40 flex-shrink-0",children:l.boss.imageUrl?n.jsx("img",{src:l.boss.imageUrl,alt:l.boss.name,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-neutral-lightGray",children:n.jsx(fl,{className:"w-12 h-12"})})}),n.jsx("div",{className:"flex-1 p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-4",children:[n.jsxs("div",{className:"space-y-4 w-full",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-white mb-2 break-words",children:l.boss.name}),n.jsx("p",{className:"text-neutral-lightGray break-words",children:l.boss.description})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(je,{className:"w-4 h-4 text-primary-teal"}),n.jsxs("span",{className:"text-neutral-lightGray",children:["Defense: ",l.boss.defense]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(te,{className:"w-4 h-4 text-primary-pink"}),n.jsxs("span",{className:"text-neutral-lightGray",children:["XP: ",l.boss.rewards.xp.toLocaleString()]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(W,{className:"w-4 h-4 text-primary-pink"}),n.jsxs("span",{className:"text-neutral-lightGray",children:["Participants: ",l.participants.length]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-white font-medium mb-2",children:"Quests:"}),n.jsx("ul",{className:"space-y-2",children:l.boss.quests.map((c,d)=>n.jsxs("li",{className:"text-neutral-lightGray text-sm",children:[d+1,". ",c.description," (",c.xpReward," XP)"]},c.id))})]})]}),n.jsxs("div",{className:"flex gap-2",children:[l.status!=="completed"&&n.jsx("button",{onClick:()=>a(l),className:"p-2 text-neutral-lightGray hover:text-white transition-colors rounded-lg hover:bg-white/5",title:"Edit raid boss",children:n.jsx(Ps,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>o(l.id),className:"p-2 text-red-400 hover:text-red-300 transition-colors rounded-lg hover:bg-red-400/5",title:"Delete raid boss",children:n.jsx(Cs,{className:"w-4 h-4"})})]})]})})]})},l.id))})},Qw=()=>{const[t,e]=p.useState("create");return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[n.jsx("h2",{className:"text-2xl font-bold text-white",children:"Raid Boss Administration"}),n.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:[n.jsxs("button",{onClick:()=>e("create"),className:`flex-1 sm:flex-none flex items-center justify-center gap-2 px-6 py-3 rounded-xl font-semibold transition-all ${t==="create"?"bg-primary-main text-white shadow-glow":"bg-primary-main/20 text-text-light-primary dark:text-white hover:bg-primary-main/30"}`,children:[n.jsx(Ts,{className:"w-4 h-4"}),"Create Raid Boss"]}),n.jsxs("button",{onClick:()=>e("edit"),className:`flex-1 sm:flex-none flex items-center justify-center gap-2 px-6 py-3 rounded-xl font-semibold transition-all ${t==="edit"?"bg-primary-main text-white shadow-glow":"bg-primary-main/20 text-text-light-primary dark:text-white hover:bg-primary-main/30"}`,children:[n.jsx(Ps,{className:"w-4 h-4"}),"Edit Raid Bosses"]})]})]}),n.jsx("div",{className:"gradient-box p-6",children:t==="create"?n.jsx(mu,{onComplete:()=>e("edit")}):n.jsx(Xw,{})})]})},qn=[{id:"aureus-coven",name:"The Aureus Coven",description:"Masters of financial wisdom and strategic wealth building.",imageUrl:"/assets/guilds/aureus-coven.jpg",archetype:"Finance",isCore:!0,leaders:[],members:[],totalXp:0,dateCreated:Date.now(),questLimits:{daily:5,weekly:3,monthly:1}},{id:"emberseekers",name:"The Emberseekers",description:"Daring explorers guided by ancient flames.",imageUrl:"/assets/guilds/emberseekers.jpg",archetype:"Adventurer",isCore:!0,leaders:[],members:[],totalXp:0,dateCreated:Date.now(),questLimits:{daily:5,weekly:3,monthly:1}},{id:"solacebound",name:"The Solacebound",description:"Guardians of peace and community welfare.",imageUrl:"/assets/guilds/solacebound.jpg",archetype:"Philanthropist",isCore:!0,leaders:[],members:[],totalXp:0,dateCreated:Date.now(),questLimits:{daily:5,weekly:3,monthly:1}},{id:"revelkin",name:"The Revelkin",description:"Celebrants of joy and festive spirit.",imageUrl:"/assets/guilds/revelkin.jpg",archetype:"PartyAnimal",isCore:!0,leaders:[],members:[],totalXp:0,dateCreated:Date.now(),questLimits:{daily:5,weekly:3,monthly:1}}],Xo=[{id:"community-guild-1",name:"Bamboo Brigade",description:"Elite warriors who protect the sacred bamboo forests and train in ancient panda martial arts",imageUrl:"/assets/pandas/raidpanda.PNG",members:[],leaders:[],totalXp:0,dateCreated:Date.now(),archetype:"Adventurer",isCore:!1},{id:"community-guild-2",name:"Mystic Moonwalkers",description:"Spiritual pandas who harness the power of moonlight and ancient wisdom",imageUrl:"/assets/pandas/tiltedpanda.PNG",members:[],leaders:[],totalXp:0,dateCreated:Date.now(),archetype:"Philanthropist",isCore:!1},{id:"community-guild-3",name:"Crypto Cubs",description:"Tech-savvy pandas revolutionizing the bamboo economy through blockchain innovation",imageUrl:"/assets/pandas/happypanda.PNG",members:[],leaders:[],totalXp:0,dateCreated:Date.now(),archetype:"Finance",isCore:!1},{id:"community-guild-4",name:"Party Pandas",description:"The most energetic pandas around, known for their legendary bamboo festivals",imageUrl:"/assets/pandas/chillingpanda.PNG",members:[],leaders:[],totalXp:0,dateCreated:Date.now(),archetype:"PartyAnimal",isCore:!1}],ns={performance:{maxWebSocketConnections:1e3},cache:{player:{profile:3e5}},batch:{leaderboardUpdate:50}};class It{constructor(){this.syncInterval=1e3,this.lastSync=0,this.pendingUpdates=new Map,this.emitter=new tl.EventEmitter,this.emitter.setMaxListeners(100),this.cache=ct.getInstance(),this.setupAutoSync()}static{this.instance=null}static getInstance(){return It.instance||(It.instance=new It),It.instance}setupAutoSync(){setInterval(()=>{const e=Date.now();e-this.lastSync>=this.syncInterval&&(this.syncState(),this.lastSync=e)},this.syncInterval)}syncState(){if(this.pendingUpdates.size>0){const e=Array.from(this.pendingUpdates.entries()),s=ns.batch.leaderboardUpdate;for(let r=0;r<e.length;r+=s)e.slice(r,r+s).forEach(([a,o])=>{this.cache.set(a,o,ns.cache.player.profile),this.pendingUpdates.delete(a)})}this.emitter.emit("stateSync")}subscribe(e,s){return this.emitter.listenerCount(e)<ns.performance.maxWebSocketConnections?(this.emitter.on(e,s),()=>this.emitter.off(e,s)):(console.warn(`Max listeners (${ns.performance.maxWebSocketConnections}) reached for event: ${e}`),()=>{})}publish(e,s){this.pendingUpdates.set(e,s),this.pendingUpdates.size>=ns.batch.leaderboardUpdate&&this.syncState(),this.lastSync=Date.now(),localStorage.setItem("lastStateUpdate",Date.now().toString())}getLastUpdate(){return parseInt(localStorage.getItem("lastStateUpdate")||"0")}clearCache(){this.cache.clear(),this.pendingUpdates.clear(),this.lastSync=0}}const Qo=It.getInstance();class Dt{constructor(){this.lastSync=0,this.guilds=new Map,this.membershipRequests=new Map,this.emitter=new tl.EventEmitter,this.loadGuilds(),this.setupAutoSync()}static getInstance(){return Dt.instance||(Dt.instance=new Dt),Dt.instance}setupAutoSync(){setInterval(()=>{this.loadState()},1e3)}syncState(){const e={guilds:Array.from(this.guilds.entries()),requests:Array.from(this.membershipRequests.entries())};localStorage.setItem("guilds",JSON.stringify(e)),Qo.publish("guildStateUpdate",e),this.lastSync=Date.now(),this.notifyListeners()}loadState(){Qo.getLastUpdate()>this.lastSync&&(this.loadGuilds(),this.notifyListeners(),this.lastSync=Date.now())}loadGuilds(){try{const e=localStorage.getItem("guilds");if(e){const s=JSON.parse(e);this.guilds=new Map(s.guilds),this.membershipRequests=new Map(s.requests)}else Xo.forEach(s=>{this.guilds.set(s.id,s)}),this.syncState()}catch(e){console.error("Failed to load guild data:",e),this.guilds=new Map,this.membershipRequests=new Map,Xo.forEach(s=>{this.guilds.set(s.id,s)}),this.syncState()}}createGuild(e){const s={...e,id:`guild-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,members:[],totalXp:0,dateCreated:Date.now()};return this.guilds.set(s.id,s),this.syncState(),s}addListener(e){this.emitter.on("guildUpdate",e)}removeListener(e){this.emitter.off("guildUpdate",e)}notifyListeners(){this.emitter.emit("guildUpdate")}getGuildById(e){return this.guilds.get(e)||null}getGuildByArchetype(e){return Array.from(this.guilds.values()).find(s=>s.archetype===e)||null}getCommunityGuilds(){return Array.from(this.guilds.values()).filter(e=>!e.isCore&&!e.isDeleted)}getGuildMembers(e){const s=this.guilds.get(e);return!s||!Array.isArray(s.members)?[]:s.members}updateGuild(e,s){const r=this.guilds.get(e);return r?(this.guilds.set(e,{...r,...s}),this.syncState(),!0):!1}isGuildLeader(e){return Array.from(this.guilds.values()).some(s=>Array.isArray(s.leaders)&&s.leaders.includes(e))}submitMembershipRequest(e,s,r){return this.guilds.get(e)?(this.membershipRequests.has(e)||this.membershipRequests.set(e,[]),this.membershipRequests.get(e).push({wallet:s,message:r,timestamp:Date.now()}),this.syncState(),!0):!1}acceptMembershipRequest(e,s){const r=this.guilds.get(e);if(!r)return!1;if(Array.isArray(r.members)||(r.members=[]),!r.members.includes(s)){r.members.push(s);const i=this.membershipRequests.get(e)||[];return this.membershipRequests.set(e,i.filter(a=>a.wallet!==s)),this.syncState(),!0}return!1}getMembershipRequests(e){return this.membershipRequests.get(e)||[]}}const ee=Dt.getInstance(),Yw="8jN1XtgiuWeyNjzysYVqGZ1mPAG37sjmuCTnENz66wrs",Zw=()=>{const{publicKey:t}=U(),[e,s]=p.useState(null),[r,i]=p.useState({}),[a,o]=p.useState(!1),[l,c]=p.useState({name:"",description:"",archetype:"Adventurer"}),[d,u]=p.useState(!1),[h,m]=p.useState(null),[f,g]=p.useState(""),[y,x]=p.useState(""),[b,v]=p.useState(""),w=p.useRef(null);if(!t||t.toString()!==Yw)return n.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Access Denied"}),n.jsx("p",{className:"text-neutral-lightGray",children:"Only the project admin can access guild administration."})]})});const N=ee.getCommunityGuilds()||[],k=S=>{s(S.id),i(S)},T=()=>{!e||!r||(ee.updateGuild(e,r),s(null),i({}),D("Guild updated successfully!"))},I=S=>{confirm("Are you sure you want to delete this guild?")&&(ee.updateGuild(S,{isDeleted:!0}),D("Guild deleted successfully!"))},C=()=>{if(!h||!f)return;const S=ee.getGuildById(h);if(S){const P=[...S.leaders||[],f];ee.updateGuild(h,{leaders:P})?(D("Guild leader added successfully!"),u(!1),m(null),g("")):v("Failed to add guild leader")}},F=async S=>{if(S)try{const P=new FileReader;P.onloadend=()=>{const R=P.result;e?i(V=>({...V,imageUrl:R})):c(V=>({...V,imageUrl:R}))},P.readAsDataURL(S)}catch(P){console.error("Error uploading guild image:",P),v("Failed to upload image")}},A=()=>{if(!l.name||!l.description){v("Name and description are required");return}ee.createGuild({name:l.name,description:l.description,imageUrl:l.imageUrl,archetype:l.archetype,leaders:[],isCore:!1})&&(o(!1),c({name:"",description:"",archetype:"Adventurer"}),D("Guild created successfully!"))},D=S=>{x(S),setTimeout(()=>x(""),3e3)};return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-2xl font-bold text-white",children:"Guild Administration"}),n.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary-main text-white rounded-lg hover:bg-primary-main/90 transition-colors",children:[n.jsx(Ts,{className:"w-4 h-4"}),"Add New Guild"]})]}),n.jsx("div",{className:"grid grid-cols-1 gap-6",children:N.map(S=>n.jsx("div",{className:"bg-black/40 backdrop-blur-sm rounded-xl p-6 border border-primary-main/20",children:e===S.id?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-neutral-lightGray mb-2",children:"Guild Name"}),n.jsx("input",{type:"text",value:r.name||"",onChange:P=>i({...r,name:P.target.value}),className:"w-full px-4 py-2 bg-black/40 border border-primary-main/20 rounded-lg text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-neutral-lightGray mb-2",children:"Description"}),n.jsx("textarea",{value:r.description||"",onChange:P=>i({...r,description:P.target.value}),className:"w-full px-4 py-2 bg-black/40 border border-primary-main/20 rounded-lg text-white",rows:3})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-neutral-lightGray mb-2",children:"Archetype"}),n.jsxs("select",{value:r.archetype||"Adventurer",onChange:P=>i({...r,archetype:P.target.value}),className:"w-full px-4 py-2 bg-black/40 border border-primary-main/20 rounded-lg text-white",children:[n.jsx("option",{value:"Adventurer",children:"Adventurer"}),n.jsx("option",{value:"Finance",children:"Finance"}),n.jsx("option",{value:"Philanthropist",children:"Philanthropist"}),n.jsx("option",{value:"PartyAnimal",children:"Party Animal"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-neutral-lightGray mb-2",children:"Guild Image"}),n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden bg-black/40",children:r.imageUrl?n.jsx("img",{src:r.imageUrl,alt:r.name,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx(Ft,{className:"w-8 h-8 text-neutral-lightGray"})})}),n.jsx("input",{ref:w,type:"file",accept:"image/*",className:"hidden",onChange:P=>{const R=P.target.files?.[0];R&&F(R)}}),n.jsx("button",{onClick:()=>w.current?.click(),className:"px-4 py-2 bg-primary-main/20 text-primary-main rounded-lg hover:bg-primary-main/30 transition-colors",children:"Upload Image"})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx("button",{onClick:()=>s(null),className:"p-2 text-neutral-lightGray hover:text-white transition-colors rounded-lg hover:bg-white/5",children:n.jsx(Ne,{className:"w-5 h-5"})}),n.jsx("button",{onClick:T,className:"p-2 text-primary-main hover:text-primary-main/80 transition-colors rounded-lg hover:bg-primary-main/10",children:n.jsx(Eh,{className:"w-5 h-5"})})]})]}):n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden",children:n.jsx("img",{src:S.imageUrl,alt:S.name,className:"w-full h-full object-cover"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-white",children:S.name}),n.jsxs("p",{className:"text-sm text-neutral-lightGray",children:[S.members?.length||0," members"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>{m(S.id),u(!0)},className:"p-2 text-primary-main hover:text-primary-main/80 transition-colors rounded-lg hover:bg-primary-main/10",title:"Add guild leader",children:n.jsx(Rh,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>k(S),className:"p-2 text-neutral-lightGray hover:text-white transition-colors rounded-lg hover:bg-white/5",title:"Edit guild",children:n.jsx(Ps,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>I(S.id),className:"p-2 text-red-400 hover:text-red-300 transition-colors rounded-lg hover:bg-red-400/5",title:"Delete guild",children:n.jsx(Cs,{className:"w-5 h-5"})})]})]}),n.jsx("p",{className:"text-neutral-lightGray mb-4",children:S.description}),S.leaders&&S.leaders.length>0&&n.jsxs("div",{className:"text-sm text-neutral-lightGray",children:["Leaders: ",S.leaders.map(P=>P.slice(0,4)+"..."+P.slice(-4)).join(", ")]})]})},S.id))}),a&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>o(!1)}),n.jsxs("div",{className:"relative bg-[#1A1B23] rounded-xl border border-primary-main/20 p-6 max-w-md w-full",children:[n.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Create New Guild"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-neutral-lightGray mb-2",children:"Guild Name"}),n.jsx("input",{type:"text",value:l.name,onChange:S=>c({...l,name:S.target.value}),className:"w-full px-4 py-2 bg-black/40 border border-primary-main/20 rounded-lg text-white",placeholder:"Enter guild name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-neutral-lightGray mb-2",children:"Description"}),n.jsx("textarea",{value:l.description,onChange:S=>c({...l,description:S.target.value}),className:"w-full px-4 py-2 bg-black/40 border border-primary-main/20 rounded-lg text-white",placeholder:"Enter guild description",rows:3})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-neutral-lightGray mb-2",children:"Archetype"}),n.jsxs("select",{value:l.archetype,onChange:S=>c({...l,archetype:S.target.value}),className:"w-full px-4 py-2 bg-black/40 border border-primary-main/20 rounded-lg text-white",children:[n.jsx("option",{value:"Adventurer",children:"Adventurer"}),n.jsx("option",{value:"Finance",children:"Finance"}),n.jsx("option",{value:"Philanthropist",children:"Philanthropist"}),n.jsx("option",{value:"PartyAnimal",children:"Party Animal"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-neutral-lightGray mb-2",children:"Guild Image"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden bg-black/40",children:l.imageUrl?n.jsx("img",{src:l.imageUrl,alt:"New guild",className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx(Ft,{className:"w-8 h-8 text-neutral-lightGray"})})}),n.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:S=>{const P=S.target.files?.[0];P&&F(P)}}),n.jsx("button",{onClick:()=>w.current?.click(),className:"px-4 py-2 bg-primary-main/20 text-primary-main rounded-lg hover:bg-primary-main/30 transition-colors",children:"Upload Image"})]})]}),b&&n.jsx("p",{className:"text-red-400 text-sm",children:b}),n.jsxs("div",{className:"flex justify-end gap-4",children:[n.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 text-neutral-lightGray hover:text-white transition-colors",children:"Cancel"}),n.jsx("button",{onClick:A,className:"px-4 py-2 bg-primary-main text-white rounded-lg hover:bg-primary-main/90 transition-colors",children:"Create Guild"})]})]})]})]}),d&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>u(!1)}),n.jsxs("div",{className:"relative bg-[#1A1B23] rounded-xl border border-primary-main/20 p-6 max-w-md w-full",children:[n.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Add Guild Leader"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("input",{type:"text",value:f,onChange:S=>g(S.target.value),placeholder:"Enter wallet address",className:"w-full px-4 py-2 bg-black/40 border border-primary-main/20 rounded-lg text-white"}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 text-neutral-lightGray hover:text-white transition-colors",children:"Cancel"}),n.jsx("button",{onClick:C,className:"px-4 py-2 bg-primary-main text-white rounded-lg hover:bg-primary-main/90 transition-colors",children:"Add Leader"})]})]}),b&&n.jsx("p",{className:"mt-4 text-red-400 text-sm",children:b})]})]}),y&&n.jsx("div",{className:"fixed bottom-4 right-4 px-6 py-3 bg-green-500 text-white rounded-lg shadow-lg animate-fade-in",children:y})]})},ej="8jN1XtgiuWeyNjzysYVqGZ1mPAG37sjmuCTnENz66wrs",un=({icon:t,label:e,isActive:s,onClick:r})=>n.jsxs("button",{onClick:r,className:`flex-1 sm:flex-none flex items-center justify-center gap-2 px-4 py-3 rounded-lg transition-colors ${s?"bg-primary-main text-white shadow-glow":"bg-primary-main/20 text-text-light-secondary dark:text-neutral-lightGray hover:bg-primary-main/30 hover:text-primary-main"}`,children:[n.jsx(t,{className:"w-5 h-5"}),n.jsx("span",{className:"whitespace-nowrap",children:e})]}),tj=()=>{const{publicKey:t}=U(),[e,s]=p.useState("quests");return!t||t.toString()!==ej?n.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-title text-text-light-primary dark:text-white mb-4",children:"Access Denied"}),n.jsx("p",{className:"text-text-light-secondary dark:text-text-dark-secondary",children:"You don't have permission to access this area."})]})}):n.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 px-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[n.jsx("h1",{className:"text-2xl font-title text-text-light-primary dark:text-white",children:"Admin Panel"}),n.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:[n.jsxs(Ns,{to:"/admin/subs",className:"flex-1 sm:flex-none flex items-center justify-center gap-2 px-4 py-3 rounded-lg bg-primary-main/20 text-text-light-secondary dark:text-neutral-lightGray hover:bg-primary-main/30 hover:text-primary-main transition-colors",children:[n.jsx(Ih,{className:"w-5 h-5"}),n.jsx("span",{className:"whitespace-nowrap",children:"Submissions"})]}),n.jsx(un,{icon:ml,label:"Quest Administration",isActive:e==="quests",onClick:()=>s("quests")}),n.jsx(un,{icon:Ss,label:"Raid Administration",isActive:e==="raids",onClick:()=>s("raids")}),n.jsx(un,{icon:W,label:"Guild Administration",isActive:e==="guilds",onClick:()=>s("guilds")})]})]}),n.jsxs("div",{className:"gradient-box p-6",children:[e==="quests"&&n.jsx(Jw,{}),e==="raids"&&n.jsx(Qw,{}),e==="guilds"&&n.jsx(Zw,{})]})]})};function Me(t,e,{checkForDefaultPrevented:s=!0}={}){return function(i){if(t?.(i),s===!1||!i.defaultPrevented)return e?.(i)}}function sj(t,e=[]){let s=[];function r(a,o){const l=p.createContext(o),c=s.length;s=[...s,o];const d=h=>{const{scope:m,children:f,...g}=h,y=m?.[t]?.[c]||l,x=p.useMemo(()=>g,Object.values(g));return n.jsx(y.Provider,{value:x,children:f})};d.displayName=a+"Provider";function u(h,m){const f=m?.[t]?.[c]||l,g=p.useContext(f);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[d,u]}const i=()=>{const a=s.map(o=>p.createContext(o));return function(l){const c=l?.[t]||a;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,rj(i,...e)]}function rj(...t){const e=t[0];if(t.length===1)return e;const s=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return s.scopeName=e.scopeName,s}function nj(t,e=[]){let s=[];function r(a,o){const l=p.createContext(o),c=s.length;s=[...s,o];function d(h){const{scope:m,children:f,...g}=h,y=m?.[t][c]||l,x=p.useMemo(()=>g,Object.values(g));return n.jsx(y.Provider,{value:x,children:f})}function u(h,m){const f=m?.[t][c]||l,g=p.useContext(f);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return d.displayName=a+"Provider",[d,u]}const i=()=>{const a=s.map(o=>p.createContext(o));return function(l){const c=l?.[t]||a;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,ij(i,...e)]}function ij(...t){const e=t[0];if(t.length===1)return e;const s=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return s.scopeName=e.scopeName,s}function aj(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function pu(...t){return e=>t.forEach(s=>aj(s,e))}function fr(...t){return p.useCallback(pu(...t),t)}var gr=p.forwardRef((t,e)=>{const{children:s,...r}=t,i=p.Children.toArray(s),a=i.find(lj);if(a){const o=a.props.children,l=i.map(c=>c===a?p.Children.count(o)>1?p.Children.only(null):p.isValidElement(o)?o.props.children:null:c);return n.jsx(zn,{...r,ref:e,children:p.isValidElement(o)?p.cloneElement(o,void 0,l):null})}return n.jsx(zn,{...r,ref:e,children:s})});gr.displayName="Slot";var zn=p.forwardRef((t,e)=>{const{children:s,...r}=t;if(p.isValidElement(s)){const i=dj(s);return p.cloneElement(s,{...cj(r,s.props),ref:e?pu(e,i):i})}return p.Children.count(s)>1?p.Children.only(null):null});zn.displayName="SlotClone";var oj=({children:t})=>n.jsx(n.Fragment,{children:t});function lj(t){return p.isValidElement(t)&&t.type===oj}function cj(t,e){const s={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?s[r]=(...l)=>{a(...l),i(...l)}:i&&(s[r]=i):r==="style"?s[r]={...i,...a}:r==="className"&&(s[r]=[i,a].filter(Boolean).join(" "))}return{...t,...s}}function dj(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=e&&"isReactWarning"in e&&e.isReactWarning;return s?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=e&&"isReactWarning"in e&&e.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function uj(t){const e=t+"CollectionProvider",[s,r]=nj(e),[i,a]=s(e,{collectionRef:{current:null},itemMap:new Map}),o=f=>{const{scope:g,children:y}=f,x=Qe.useRef(null),b=Qe.useRef(new Map).current;return n.jsx(i,{scope:g,itemMap:b,collectionRef:x,children:y})};o.displayName=e;const l=t+"CollectionSlot",c=Qe.forwardRef((f,g)=>{const{scope:y,children:x}=f,b=a(l,y),v=fr(g,b.collectionRef);return n.jsx(gr,{ref:v,children:x})});c.displayName=l;const d=t+"CollectionItemSlot",u="data-radix-collection-item",h=Qe.forwardRef((f,g)=>{const{scope:y,children:x,...b}=f,v=Qe.useRef(null),w=fr(g,v),N=a(d,y);return Qe.useEffect(()=>(N.itemMap.set(v,{ref:v,...b}),()=>void N.itemMap.delete(v))),n.jsx(gr,{[u]:"",ref:w,children:x})});h.displayName=d;function m(f){const g=a(t+"CollectionConsumer",f);return Qe.useCallback(()=>{const x=g.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort((N,k)=>b.indexOf(N.ref.current)-b.indexOf(k.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},m,r]}function hj(t,e=[]){let s=[];function r(a,o){const l=p.createContext(o),c=s.length;s=[...s,o];function d(h){const{scope:m,children:f,...g}=h,y=m?.[t][c]||l,x=p.useMemo(()=>g,Object.values(g));return n.jsx(y.Provider,{value:x,children:f})}function u(h,m){const f=m?.[t][c]||l,g=p.useContext(f);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return d.displayName=a+"Provider",[d,u]}const i=()=>{const a=s.map(o=>p.createContext(o));return function(l){const c=l?.[t]||a;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,mj(i,...e)]}function mj(...t){const e=t[0];if(t.length===1)return e;const s=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return s.scopeName=e.scopeName,s}var Wn=globalThis?.document?p.useLayoutEffect:()=>{},pj=Uu.useId||(()=>{}),fj=0;function fu(t){const[e,s]=p.useState(pj());return Wn(()=>{s(r=>r??String(fj++))},[t]),e?`radix-${e}`:""}var gj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Xt=gj.reduce((t,e)=>{const s=p.forwardRef((r,i)=>{const{asChild:a,...o}=r,l=a?gr:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(l,{...o,ref:i})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function Wi(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...s)=>e.current?.(...s),[])}function gu({prop:t,defaultProp:e,onChange:s=()=>{}}){const[r,i]=xj({defaultProp:e,onChange:s}),a=t!==void 0,o=a?t:r,l=Wi(s),c=p.useCallback(d=>{if(a){const h=typeof d=="function"?d(t):d;h!==t&&l(h)}else i(d)},[a,t,i,l]);return[o,c]}function xj({defaultProp:t,onChange:e}){const s=p.useState(t),[r]=s,i=p.useRef(r),a=Wi(e);return p.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),s}var yj=p.createContext(void 0);function xu(t){const e=p.useContext(yj);return t||e||"ltr"}var hn="rovingFocusGroup.onEntryFocus",bj={bubbles:!1,cancelable:!0},Fr="RovingFocusGroup",[Hn,yu,vj]=uj(Fr),[wj,bu]=hj(Fr,[vj]),[jj,Nj]=wj(Fr),vu=p.forwardRef((t,e)=>n.jsx(Hn.Provider,{scope:t.__scopeRovingFocusGroup,children:n.jsx(Hn.Slot,{scope:t.__scopeRovingFocusGroup,children:n.jsx(kj,{...t,ref:e})})}));vu.displayName=Fr;var kj=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:s,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=t,m=p.useRef(null),f=fr(e,m),g=xu(a),[y=null,x]=gu({prop:o,defaultProp:l,onChange:c}),[b,v]=p.useState(!1),w=Wi(d),N=yu(s),k=p.useRef(!1),[T,I]=p.useState(0);return p.useEffect(()=>{const C=m.current;if(C)return C.addEventListener(hn,w),()=>C.removeEventListener(hn,w)},[w]),n.jsx(jj,{scope:s,orientation:r,dir:g,loop:i,currentTabStopId:y,onItemFocus:p.useCallback(C=>x(C),[x]),onItemShiftTab:p.useCallback(()=>v(!0),[]),onFocusableItemAdd:p.useCallback(()=>I(C=>C+1),[]),onFocusableItemRemove:p.useCallback(()=>I(C=>C-1),[]),children:n.jsx(Xt.div,{tabIndex:b||T===0?-1:0,"data-orientation":r,...h,ref:f,style:{outline:"none",...t.style},onMouseDown:Me(t.onMouseDown,()=>{k.current=!0}),onFocus:Me(t.onFocus,C=>{const F=!k.current;if(C.target===C.currentTarget&&F&&!b){const A=new CustomEvent(hn,bj);if(C.currentTarget.dispatchEvent(A),!A.defaultPrevented){const D=N().filter(Q=>Q.focusable),S=D.find(Q=>Q.active),P=D.find(Q=>Q.id===y),V=[S,P,...D].filter(Boolean).map(Q=>Q.ref.current);Nu(V,u)}}k.current=!1}),onBlur:Me(t.onBlur,()=>v(!1))})})}),wu="RovingFocusGroupItem",ju=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:s,focusable:r=!0,active:i=!1,tabStopId:a,...o}=t,l=fu(),c=a||l,d=Nj(wu,s),u=d.currentTabStopId===c,h=yu(s),{onFocusableItemAdd:m,onFocusableItemRemove:f}=d;return p.useEffect(()=>{if(r)return m(),()=>f()},[r,m,f]),n.jsx(Hn.ItemSlot,{scope:s,id:c,focusable:r,active:i,children:n.jsx(Xt.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:Me(t.onMouseDown,g=>{r?d.onItemFocus(c):g.preventDefault()}),onFocus:Me(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:Me(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const y=Pj(g,d.orientation,d.dir);if(y!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let b=h().filter(v=>v.focusable).map(v=>v.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const v=b.indexOf(g.currentTarget);b=d.loop?Cj(b,v+1):b.slice(v+1)}setTimeout(()=>Nu(b))}})})})});ju.displayName=wu;var Sj={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _j(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Pj(t,e,s){const r=_j(t.key,s);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Sj[r]}function Nu(t,e=!1){const s=document.activeElement;for(const r of t)if(r===s||(r.focus({preventScroll:e}),document.activeElement!==s))return}function Cj(t,e){return t.map((s,r)=>t[(e+r)%t.length])}var Tj=vu,Aj=ju;function Ej(t,e){return p.useReducer((s,r)=>e[s][r]??s,t)}var ku=t=>{const{present:e,children:s}=t,r=Rj(e),i=typeof s=="function"?s({present:r.isPresent}):p.Children.only(s),a=fr(r.ref,Ij(i));return typeof s=="function"||r.isPresent?p.cloneElement(i,{ref:a}):null};ku.displayName="Presence";function Rj(t){const[e,s]=p.useState(),r=p.useRef({}),i=p.useRef(t),a=p.useRef("none"),o=t?"mounted":"unmounted",[l,c]=Ej(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const d=Xs(r.current);a.current=l==="mounted"?d:"none"},[l]),Wn(()=>{const d=r.current,u=i.current;if(u!==t){const m=a.current,f=Xs(d);t?c("MOUNT"):f==="none"||d?.display==="none"?c("UNMOUNT"):c(u&&m!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Wn(()=>{if(e){let d;const u=e.ownerDocument.defaultView??window,h=f=>{const y=Xs(r.current).includes(f.animationName);if(f.target===e&&y&&(c("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",d=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},m=f=>{f.target===e&&(a.current=Xs(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(d=>{d&&(r.current=getComputedStyle(d)),s(d)},[])}}function Xs(t){return t?.animationName||"none"}function Ij(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=e&&"isReactWarning"in e&&e.isReactWarning;return s?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=e&&"isReactWarning"in e&&e.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var Hi="Tabs",[Dj,LN]=sj(Hi,[bu]),Su=bu(),[Oj,Ki]=Dj(Hi),_u=p.forwardRef((t,e)=>{const{__scopeTabs:s,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,u=xu(l),[h,m]=gu({prop:r,onChange:i,defaultProp:a});return n.jsx(Oj,{scope:s,baseId:fu(),value:h,onValueChange:m,orientation:o,dir:u,activationMode:c,children:n.jsx(Xt.div,{dir:u,"data-orientation":o,...d,ref:e})})});_u.displayName=Hi;var Pu="TabsList",Cu=p.forwardRef((t,e)=>{const{__scopeTabs:s,loop:r=!0,...i}=t,a=Ki(Pu,s),o=Su(s);return n.jsx(Tj,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:n.jsx(Xt.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});Cu.displayName=Pu;var Tu="TabsTrigger",Au=p.forwardRef((t,e)=>{const{__scopeTabs:s,value:r,disabled:i=!1,...a}=t,o=Ki(Tu,s),l=Su(s),c=Iu(o.baseId,r),d=Du(o.baseId,r),u=r===o.value;return n.jsx(Aj,{asChild:!0,...l,focusable:!i,active:u,children:n.jsx(Xt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:e,onMouseDown:Me(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:Me(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:Me(t.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!i&&h&&o.onValueChange(r)})})})});Au.displayName=Tu;var Eu="TabsContent",Ru=p.forwardRef((t,e)=>{const{__scopeTabs:s,value:r,forceMount:i,children:a,...o}=t,l=Ki(Eu,s),c=Iu(l.baseId,r),d=Du(l.baseId,r),u=r===l.value,h=p.useRef(u);return p.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),n.jsx(ku,{present:i||u,children:({present:m})=>n.jsx(Xt.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:m&&a})})});Ru.displayName=Eu;function Iu(t,e){return`${t}-trigger-${e}`}function Du(t,e){return`${t}-content-${e}`}var Lj=_u,Ou=Cu,Lu=Au,Mu=Ru;function $s(...t){return Ad(kd(t))}const Yo=Lj,Kn=p.forwardRef(({className:t,...e},s)=>n.jsx(Ou,{ref:s,className:$s("inline-flex h-12 items-center justify-center rounded-xl bg-white/40 dark:bg-black/20 p-1 text-sand-600 dark:text-sand-400 backdrop-blur-sm border border-sand-300/20 dark:border-sand-200/10",t),...e}));Kn.displayName=Ou.displayName;const it=p.forwardRef(({className:t,...e},s)=>n.jsx(Lu,{ref:s,className:$s("inline-flex items-center justify-center whitespace-nowrap rounded-lg px-3 py-2 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-primary-500 data-[state=active]:text-white data-[state=active]:shadow-sm",t),...e}));it.displayName=Lu.displayName;const Jn=p.forwardRef(({className:t,...e},s)=>n.jsx(Mu,{ref:s,className:$s("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2",t),...e}));Jn.displayName=Mu.displayName;function Fu({className:t,...e}){return n.jsx("div",{className:$s("animate-pulse rounded-md bg-sand-200/50 dark:bg-sand-800/50",t),...e})}const Mj=({timeRange:t})=>{const[e,s]=p.useState([]),[r,i]=p.useState(!0),[a,o]=p.useState(null);p.useEffect(()=>{l()},[t]);const l=async()=>{i(!0),o(null);try{let c=Z.from("players").select("*");const d=new Date;if(t!=="allTime"){let m=new Date(d);switch(t){case"daily":m.setDate(m.getDate()-1);break;case"weekly":m.setDate(m.getDate()-7);break;case"monthly":m.setMonth(m.getMonth()-1);break}c=c.gte("updated_at",m.toISOString())}const{data:u,error:h}=await c.order("xp",{ascending:!1}).limit(50);if(h)throw h;s(u||[])}catch(c){console.error("Error fetching leaderboard data:",c),o("Failed to load leaderboard data")}finally{i(!1)}};return a?n.jsx("div",{className:"text-center py-8 text-red-500",children:a}):r?n.jsx("div",{className:"space-y-4",children:[...Array(5)].map((c,d)=>n.jsx(Fu,{className:"h-16 w-full"},d))}):e.length===0?n.jsx("div",{className:"text-center py-8 text-sand-600 dark:text-sand-400",children:"No players found for the selected time range"}):n.jsx("div",{className:"space-y-4",children:e.map((c,d)=>n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:d*.1},className:"bg-white/40 dark:bg-black/20 backdrop-blur-sm rounded-xl p-4 flex items-center gap-4 border border-sand-300/20 dark:border-sand-200/10",children:[n.jsxs("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-primary-500 flex items-center justify-center text-white font-bold",children:["#",d+1]}),n.jsxs("div",{className:"flex-grow",children:[n.jsx("h3",{className:"font-semibold text-lg text-sand-900 dark:text-white",children:c.username||c.handle||c.wallet_address?.slice(0,8)}),n.jsxs("p",{className:"text-sm text-sand-600 dark:text-sand-400",children:[c.archetype||"Unknown Archetype","  Level ",Math.floor((c.xp||0)/1e3)]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-semibold text-primary-500",children:[(c.xp||0).toLocaleString()," XP"]}),n.jsxs("p",{className:"text-sm text-sand-600 dark:text-sand-400",children:[c.quests_completed||0," Quests"]})]})]},c.wallet_address))})},Fj=({timeRange:t})=>{const[e,s]=p.useState([]),[r,i]=p.useState(!0),[a,o]=p.useState(null);p.useEffect(()=>{l()},[t]);const l=async()=>{i(!0),o(null);try{const d=[...ee.getCommunityGuilds(),...qn],h=(await Promise.all(d.map(async m=>{const f=m.members||[];let g=m.totalXp||0;if(t!=="allTime"){const y=new Date;let x=new Date(y);switch(t){case"daily":x.setDate(x.getDate()-1);break;case"weekly":x.setDate(x.getDate()-7);break;case"monthly":x.setMonth(x.getMonth()-1);break}g=(await Promise.all(f.map(async v=>(await H.getPlayer(v))?.experience||0))).reduce((v,w)=>v+w,0)}return{...m,periodXp:g,memberCount:f.length}}))).sort((m,f)=>f.periodXp-m.periodXp);s(h)}catch(c){console.error("Error fetching guild leaderboard data:",c),o("Failed to load guild leaderboard data")}finally{i(!1)}};return a?n.jsx("div",{className:"text-center py-8 text-red-500",children:a}):r?n.jsx("div",{className:"space-y-4",children:[...Array(5)].map((c,d)=>n.jsx(Fu,{className:"h-16 w-full"},d))}):e.length===0?n.jsx("div",{className:"text-center py-8 text-sand-600 dark:text-sand-400",children:"No guilds found for the selected time range"}):n.jsx("div",{className:"space-y-4",children:e.map((c,d)=>n.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:d*.1},className:"bg-white/40 dark:bg-black/20 backdrop-blur-sm rounded-xl p-4 flex items-center gap-4 border border-sand-300/20 dark:border-sand-200/10",children:[n.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-primary-500 flex items-center justify-center text-white font-bold",children:d<3?n.jsx(he,{className:`w-6 h-6 ${d===0?"text-yellow-300":d===1?"text-gray-300":"text-amber-600"}`}):`#${d+1}`}),n.jsxs("div",{className:"flex-grow",children:[n.jsx("h3",{className:"font-semibold text-lg text-sand-900 dark:text-white",children:c.name}),n.jsx("p",{className:"text-sm text-sand-600 dark:text-sand-400",children:c.description})]}),n.jsxs("div",{className:"flex flex-col items-end gap-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(te,{className:"w-4 h-4 text-primary-500"}),n.jsxs("span",{className:"font-semibold text-primary-500",children:[c.periodXp.toLocaleString()," XP"]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-sand-600 dark:text-sand-400",children:[n.jsx(W,{className:"w-4 h-4"}),n.jsxs("span",{children:[c.memberCount," Members"]})]})]})]},c.id))})},$j=({children:t,className:e,variant:s="default"})=>n.jsx("section",{className:$s("w-full py-8 md:py-12",s==="alternate"?"bg-sand-100/50 dark:bg-sand-900/50":"",e),children:n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:t})}),Bj=({variant:t="default"})=>{const[e,s]=p.useState("allTime"),[r,i]=p.useState("players");return n.jsxs($j,{variant:t,children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary-500 to-primary-400",children:"Leaderboards"}),n.jsx("p",{className:"text-lg text-sand-600 dark:text-sand-400 max-w-2xl mx-auto mt-2",children:"Track your progress and compete with other players and guilds in Pan Da Pan."})]}),n.jsx(Yo,{value:e,className:"w-full max-w-4xl mx-auto mb-8",onValueChange:a=>s(a),children:n.jsxs(Kn,{className:"grid w-full grid-cols-4",children:[n.jsx(it,{value:"allTime",children:"All Time"}),n.jsx(it,{value:"daily",children:"Daily"}),n.jsx(it,{value:"weekly",children:"Weekly"}),n.jsx(it,{value:"monthly",children:"Monthly"})]})}),n.jsxs(Yo,{value:r,className:"w-full max-w-4xl mx-auto",onValueChange:a=>i(a),children:[n.jsxs(Kn,{className:"grid w-full grid-cols-2 mb-8",children:[n.jsx(it,{value:"players",children:"Players"}),n.jsx(it,{value:"guilds",children:"Guilds"})]}),n.jsx(Jn,{value:"players",className:"focus-visible:outline-none",children:n.jsx(Mj,{timeRange:e})}),n.jsx(Jn,{value:"guilds",className:"focus-visible:outline-none",children:n.jsx(Fj,{timeRange:e})})]})]})},Vj=({guild:t,onClose:e,onSubmitted:s})=>{const{publicKey:r}=U(),[i,a]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(!1),u=async()=>{if(r){if(!i.trim()){l("Please enter a message");return}d(!0);try{await ee.submitMembershipRequest(t.id,r.toString(),i.trim())?s():l("Failed to submit request. Please try again.")}catch{l("Failed to submit request. Please try again.")}finally{d(!1)}}};return n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:e}),n.jsxs("div",{className:"relative w-full max-w-md bg-[#1A1B23] rounded-xl border border-primary-main/20 shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-primary-main/20",children:[n.jsxs("h3",{className:"text-xl font-bold text-white",children:["Join ",t.name]}),n.jsx("button",{onClick:e,className:"p-2 text-neutral-lightGray hover:text-white transition-colors rounded-lg hover:bg-white/5",children:n.jsx(Ne,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-neutral-lightGray mb-2",children:"Message to Guild Leaders"}),n.jsx("textarea",{value:i,onChange:h=>a(h.target.value),placeholder:"Tell us why you want to join this guild...",className:"w-full px-4 py-3 bg-black/40 border border-primary-main/20 rounded-lg text-white placeholder-neutral-lightGray focus:outline-none focus:border-primary-main/40 min-h-[100px]"})]}),o&&n.jsx("p",{className:"text-red-400 text-sm",children:o}),n.jsx("button",{onClick:u,disabled:c,className:"w-full px-4 py-3 bg-primary-main text-white rounded-lg hover:bg-primary-main/90 transition-colors disabled:opacity-50",children:c?"Submitting...":"Submit Request"})]})]})]})},Uj=()=>{const{publicKey:t}=U(),e=pt(),[s,r]=p.useState([]),[i,a]=p.useState(null),[o,l]=p.useState(!0),[c,d]=p.useState(!1),[u,h]=p.useState("xp"),[m,f]=p.useState(""),[g,y]=p.useState(null);p.useEffect(()=>{const N=async()=>{try{const k=ee.getCommunityGuilds();if(r(k),t){const T=await H.getPlayer(t.toString());y(T?.guild||null)}}catch(k){console.error("Failed to load guilds:",k)}finally{l(!1)}};return N(),ee.addListener(N),H.addEventListener(N),()=>{ee.removeListener(N),H.removeEventListener(N)}},[t]);const x=()=>{a(null),d(!0),setTimeout(()=>d(!1),3e3)},b=()=>{e("/guild?tab=my-guild")},w=(N=>N.filter(T=>T.name.toLowerCase().includes(m.toLowerCase())||T.description.toLowerCase().includes(m.toLowerCase())).sort((T,I)=>{switch(u){case"xp":return I.totalXp-T.totalXp;case"members":return(I.members?.length||0)-(T.members?.length||0);case"activity":return I.totalXp-T.totalXp;default:return 0}}))(s);return o?n.jsx("div",{className:"flex justify-center items-center min-h-[200px]",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-main"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-black/30 p-6 rounded-xl border border-primary-main/20 mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4 text-primary-main",children:"Guild Community Hub"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(W,{className:"text-primary-main"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:"Guild Chat & Team Coordination"}),n.jsx("p",{className:"text-sm text-neutral-lightGray",children:"Real-time communication and team planning"})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(gs,{className:"text-primary-main"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:"Guild Rankings & Raids"}),n.jsx("p",{className:"text-sm text-neutral-lightGray",children:"Compete in rankings and join epic raids"})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(je,{className:"text-primary-main"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:"Guild Treasury & Rewards"}),n.jsx("p",{className:"text-sm text-neutral-lightGray",children:"Shared resources and team achievements"})]})]})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx("input",{type:"text",value:m,onChange:N=>f(N.target.value),placeholder:"Search guilds...",className:"w-full px-4 py-2 pl-10 bg-black/40 border border-primary-main/20 rounded-lg text-white placeholder-neutral-lightGray focus:outline-none focus:border-primary-main/40"}),n.jsx(al,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-neutral-lightGray"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>h("xp"),className:`px-4 py-2 rounded-lg transition-colors ${u==="xp"?"bg-primary-main text-white":"bg-primary-main/20 text-neutral-lightGray hover:bg-primary-main/30"}`,children:"Total XP"}),n.jsx("button",{onClick:()=>h("members"),className:`px-4 py-2 rounded-lg transition-colors ${u==="members"?"bg-primary-main text-white":"bg-primary-main/20 text-neutral-lightGray hover:bg-primary-main/30"}`,children:"Members"}),n.jsx("button",{onClick:()=>h("activity"),className:`px-4 py-2 rounded-lg transition-colors ${u==="activity"?"bg-primary-main text-white":"bg-primary-main/20 text-neutral-lightGray hover:bg-primary-main/30"}`,children:"Activity"})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Example Guilds"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:w.map(N=>n.jsx("div",{onClick:()=>a(N),className:"bg-black/40 border border-primary-main/20 rounded-lg p-4 cursor-pointer hover:border-primary-main/40 transition-all duration-200 transform hover:scale-[1.02] max-w-[280px]",children:n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden border border-primary-main/20",children:N.imageUrl?n.jsx("img",{src:N.imageUrl,alt:N.name,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full bg-primary-main/10 flex items-center justify-center",children:n.jsx(je,{className:"w-8 h-8 text-primary-main"})})}),n.jsxs("div",{className:"flex-grow min-w-0",children:[n.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:N.name}),n.jsx("p",{className:"text-base text-text-light-secondary dark:text-text-dark-secondary leading-relaxed line-clamp-2",children:N.description})]}),n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(W,{className:"w-4 h-4 text-primary-main"}),n.jsxs("span",{className:"text-white",children:[N.members?.length||0," Members"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(te,{className:"w-4 h-4 text-primary-main"}),n.jsxs("span",{className:"text-white",children:[N.totalXp.toLocaleString()," XP"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(gs,{className:"w-4 h-4 text-primary-main"}),n.jsxs("span",{className:"text-white",children:["Level ",Math.floor(N.totalXp/1e3)]})]})]}),N.id===g?n.jsx("button",{onClick:b,className:"px-6 py-2 bg-primary-main/20 text-primary-main rounded-lg hover:bg-primary-main/30 transition-colors shadow-glow whitespace-nowrap",children:"My Guild"}):!g&&n.jsx("button",{onClick:()=>a(N),className:"px-6 py-2 bg-primary-main text-white rounded-lg hover:bg-primary-main/90 transition-colors shadow-glow whitespace-nowrap",children:"Request to Join"})]})},N.id))})]}),w.length===0&&n.jsx("div",{className:"text-center py-8 text-text-light-secondary dark:text-text-dark-secondary",children:"No guilds found"}),i&&n.jsx(Vj,{guild:i,onClose:()=>a(null),onSubmitted:x}),c&&n.jsx("div",{className:"fixed bottom-4 right-4 px-6 py-3 bg-green-500 text-white rounded-lg shadow-lg animate-fade-in",children:"Request submitted successfully!"})]})},Gj=({children:t,className:e=""})=>n.jsxs("div",{className:`relative ${e}`,children:[n.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M50 0L93.3013 25V75L50 100L6.69873 75V25L50 0Z",stroke:"url(#hexagon-gradient)",strokeWidth:"2",className:"animate-pulse-slow"}),n.jsx("defs",{children:n.jsxs("linearGradient",{id:"hexagon-gradient",x1:"0",y1:"0",x2:"100",y2:"100",gradientUnits:"userSpaceOnUse",children:[n.jsx("stop",{offset:"0%",stopColor:"#D24985"}),n.jsx("stop",{offset:"50%",stopColor:"#9071A8"}),n.jsx("stop",{offset:"100%",stopColor:"#D24985"})]})})]}),t]}),qj=({wallet:t,size:e="md",showBorder:s=!0})=>{const r=H.getPlayer(t),i=r?.profilePicture?.startsWith("http"),a={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16"},o=()=>n.jsx("div",{className:`${a[e]} rounded-full overflow-hidden bg-primary-pink/20`,children:r?.profilePicture?n.jsx("img",{src:r.profilePicture,alt:"Profile",className:"w-full h-full object-cover"}):n.jsx("img",{src:"/assets/defaultpfp.png",alt:"Default Profile",className:"w-full h-full object-cover"})});return i&&s?n.jsx(Gj,{className:a[e],children:n.jsx(o,{})}):n.jsx(o,{})},zj=({onBrowseGuilds:t})=>{const{publicKey:e}=U(),[s,r]=p.useState(null),[i,a]=p.useState([]),[o,l]=p.useState(!0);if(p.useEffect(()=>{const m=async()=>{if(e){l(!0);try{const g=H.getPlayer(e.toString());if(g?.guild){const y=ee.getGuildById(g.guild);if(y){r(y);const x=ee.getGuildMembers(y.id);a(x)}}}catch(g){console.error("Error loading guild data:",g)}finally{l(!1)}}};m();const f=setInterval(m,5e3);return()=>clearInterval(f)},[e]),o)return n.jsx("div",{className:"flex justify-center items-center min-h-[200px]",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-main"})});if(!e)return null;if(!H.getPlayer(e.toString())?.guild||!s)return n.jsxs("div",{className:"text-center py-12",children:[n.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"No Guild"}),n.jsx("p",{className:"text-text-light-secondary dark:text-text-dark-secondary mb-6",children:"You are not currently a member of any guild."}),n.jsx("button",{onClick:t,className:"px-6 py-3 bg-primary-main text-white rounded-lg hover:bg-primary-main/90 transition-colors shadow-glow",children:"Browse Guilds"})]});const d=i.reduce((m,f)=>{const g=H.getPlayer(f.wallet_address);return m+(g?.xp||0)},0),u=Math.floor(i.reduce((m,f)=>{const g=H.getPlayer(f.wallet_address);if(!g)return m;const{level:y}=pr(g.xp);return m+y},0)/(i.length||1)),h=s.leaders?.includes(e.toString());return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-6",children:[n.jsx("div",{className:"w-32 h-32 rounded-lg overflow-hidden border border-primary-main/20 flex-shrink-0",children:s.imageUrl?n.jsx("img",{src:s.imageUrl,alt:s.name,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full bg-primary-main/10 flex items-center justify-center",children:n.jsx(je,{className:"w-12 h-12 text-primary-main"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h2",{className:"text-2xl font-bold text-white",children:s.name}),h&&n.jsx("span",{className:"px-2 py-1 bg-primary-main/20 text-primary-main text-sm rounded-full",children:"Guild Leader"})]}),n.jsx("p",{className:"text-text-light-secondary dark:text-text-dark-secondary mb-4",children:s.description}),n.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(W,{className:"w-4 h-4 text-primary-main"}),n.jsxs("span",{className:"text-white",children:[i.length," Members"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(te,{className:"w-4 h-4 text-primary-main"}),n.jsxs("span",{className:"text-white",children:[d.toLocaleString()," XP"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(gs,{className:"w-4 h-4 text-primary-main"}),n.jsxs("span",{className:"text-white",children:["Average Level ",u]})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Members"}),n.jsx("div",{className:"space-y-4",children:i.map(m=>{const f=H.getPlayer(m.wallet_address);if(!f)return null;const{level:g}=pr(f.xp),y=s.leaders?.includes(m.wallet_address);return n.jsxs("div",{className:"flex items-center gap-4 p-4 bg-black/40 rounded-lg border border-primary-main/20",children:[n.jsx(qj,{wallet:m.wallet_address,size:"md"}),n.jsxs("div",{className:"flex-grow min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"text-white font-medium truncate",children:f.username||`${m.wallet_address.slice(0,4)}...${m.wallet_address.slice(-4)}`}),y&&n.jsx(il,{className:"w-4 h-4 text-primary-main"})]}),n.jsxs("p",{className:"text-sm text-neutral-lightGray",children:["Joined ",new Date(f.dateJoined).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"text-white",children:["Level ",g]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(te,{className:"w-4 h-4 text-primary-main"}),n.jsxs("span",{className:"text-white",children:[f.xp.toLocaleString()," XP"]})]})]})]},m.wallet_address)})})]})]})};async function Wj(t){return new Promise((e,s)=>{const r=new FileReader;r.onload=i=>{const a=new Image;a.onload=()=>{const o=document.createElement("canvas"),l=o.getContext("2d");if(!l){s(new Error("Failed to get canvas context"));return}const c=800;let d=a.width,u=a.height;d>u?d>c&&(u=Math.round(u*c/d),d=c):u>c&&(d=Math.round(d*c/u),u=c),o.width=d,o.height=u,l.imageSmoothingEnabled=!0,l.imageSmoothingQuality="high",l.drawImage(a,0,0,d,u);const h=o.toDataURL("image/jpeg",.8);e(h)},a.onerror=()=>s(new Error("Failed to load image")),a.src=i.target?.result},r.onerror=()=>s(new Error("Failed to read file")),r.readAsDataURL(t)})}const Hj=({onClose:t,onSubmit:e})=>{const[s,r]=p.useState(""),[i,a]=p.useState(""),[o,l]=p.useState("Adventurer"),[c,d]=p.useState(),[u,h]=p.useState(""),m=p.useRef(null),f=async y=>{if(y)try{const x=await Wj(y);d(x)}catch(x){console.error("Error uploading image:",x),h("Failed to upload image")}},g=()=>{if(!s.trim()){h("Name is required");return}if(!i.trim()){h("Description is required");return}e({name:s.trim(),description:i.trim(),imageUrl:c,archetype:o})};return n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:t}),n.jsxs("div",{className:"relative bg-[#1A1B23] rounded-xl border border-primary-main/20 p-6 max-w-md w-full",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-xl font-bold text-white",children:"Create New Guild"}),n.jsx("button",{onClick:t,className:"p-2 text-neutral-lightGray hover:text-white transition-colors rounded-lg hover:bg-white/5",children:n.jsx(Ne,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-neutral-lightGray mb-2",children:"Guild Name"}),n.jsx("input",{type:"text",value:s,onChange:y=>r(y.target.value),className:"w-full px-4 py-2 bg-black/40 border border-primary-main/20 rounded-lg text-white",placeholder:"Enter guild name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-neutral-lightGray mb-2",children:"Description"}),n.jsx("textarea",{value:i,onChange:y=>a(y.target.value),className:"w-full px-4 py-2 bg-black/40 border border-primary-main/20 rounded-lg text-white",placeholder:"Enter guild description",rows:3})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-neutral-lightGray mb-2",children:"Archetype"}),n.jsxs("select",{value:o,onChange:y=>l(y.target.value),className:"w-full px-4 py-2 bg-black/40 border border-primary-main/20 rounded-lg text-white",children:[n.jsx("option",{value:"Adventurer",children:"Adventurer"}),n.jsx("option",{value:"Finance",children:"Finance"}),n.jsx("option",{value:"Philanthropist",children:"Philanthropist"}),n.jsx("option",{value:"PartyAnimal",children:"Party Animal"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-neutral-lightGray mb-2",children:"Guild Image"}),n.jsx("div",{className:"border-2 border-dashed border-primary-main/20 rounded-lg p-4",children:c?n.jsxs("div",{className:"space-y-4",children:[n.jsx("img",{src:c,alt:"Guild preview",className:"w-full h-48 object-cover rounded-lg"}),n.jsx("button",{onClick:()=>d(void 0),className:"text-red-400 hover:text-red-300 transition-colors text-sm",children:"Remove Image"})]}):n.jsxs("label",{className:"cursor-pointer flex flex-col items-center",children:[n.jsx(Ft,{className:"w-8 h-8 text-primary-main mb-2"}),n.jsx("span",{className:"text-sm text-neutral-lightGray",children:"Click to upload or drag and drop"}),n.jsx("input",{ref:m,type:"file",className:"hidden",accept:"image/*",onChange:y=>{const x=y.target.files?.[0];x&&f(x)}})]})})]}),u&&n.jsx("p",{className:"text-red-400 text-sm",children:u}),n.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[n.jsx("button",{onClick:t,className:"px-4 py-2 text-neutral-lightGray hover:text-white transition-colors",children:"Cancel"}),n.jsx("button",{onClick:g,className:"px-4 py-2 bg-primary-main text-white rounded-lg hover:bg-primary-main/90 transition-colors",children:"Create Guild"})]})]})]})]})},Kj=({wallet:t})=>{const[e,s]=p.useState([]),[r,i]=p.useState(!1),[a,o]=p.useState(!0);p.useEffect(()=>{const c=()=>{try{const d=ee.getCommunityGuilds().filter(u=>u.leaders?.includes(t));s(d)}catch(d){console.error("Failed to load guilds:",d)}finally{o(!1)}};return c(),ee.addListener(c),()=>{ee.removeListener(c)}},[t]);const l=c=>{ee.createGuild({...c,leaders:[t],isCore:!1})&&i(!1)};return a?n.jsx("div",{className:"flex justify-center items-center min-h-[200px]",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-main"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:"Manage Your Guilds"}),n.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary-main text-white rounded-lg hover:bg-primary-main/90 transition-colors",children:[n.jsx(Ts,{className:"w-4 h-4"}),"Create New Guild"]})]}),e.length>0?n.jsx("div",{className:"space-y-4",children:e.map(c=>n.jsx("div",{className:"gradient-box p-6 hover:border-primary-main/40 transition-all",children:n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden border border-primary-main/20",children:c.imageUrl?n.jsx("img",{src:c.imageUrl,alt:c.name,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full bg-primary-main/10 flex items-center justify-center",children:n.jsx(je,{className:"w-8 h-8 text-primary-main"})})}),n.jsxs("div",{className:"flex-grow min-w-0",children:[n.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:c.name}),n.jsx("p",{className:"text-base text-text-light-secondary dark:text-text-dark-secondary leading-relaxed line-clamp-2",children:c.description})]}),n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(W,{className:"w-4 h-4 text-primary-main"}),n.jsxs("span",{className:"text-white",children:[c.members?.length||0," Members"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(te,{className:"w-4 h-4 text-primary-main"}),n.jsxs("span",{className:"text-white",children:[c.totalXp.toLocaleString()," XP"]})]})]})]})},c.id))}):n.jsx("div",{className:"text-center py-8 text-text-light-secondary dark:text-text-dark-secondary",children:"You are not managing any guilds yet"}),r&&n.jsx(Hj,{onClose:()=>i(!1),onSubmit:l})]})},Jj=()=>{const[t,e]=p.useState(qn.map(a=>({...a,memberCount:0,totalXp:0,averageLevel:0}))),[s,r]=p.useState(!0);p.useEffect(()=>{const a=async()=>{try{r(!0);const{data:l,error:c}=await Z.from("players").select("*").not("archetype","is",null);if(c)throw c;const d=qn.map(u=>{const h=l.filter(g=>g.archetype===u.archetype),m=h.reduce((g,y)=>g+(y.experience||0),0),f=h.length>0?Math.floor(h.reduce((g,y)=>{const{level:x}=pr(y.experience||0);return g+x},0)/h.length):0;return{...u,memberCount:h.length,totalXp:m,averageLevel:f}}).sort((u,h)=>h.totalXp-u.totalXp);e(d)}catch(l){console.error("Failed to load archetype stats:",l)}finally{r(!1)}};a();const o=setInterval(a,3e4);return()=>clearInterval(o)},[]);const i=a=>{switch(a){case"Finance":return n.jsx(_s,{className:"w-6 h-6 text-yellow-400"});case"Adventurer":return n.jsx(ll,{className:"w-6 h-6 text-green-400"});case"Philanthropist":return n.jsx(ks,{className:"w-6 h-6 text-red-400"});case"PartyAnimal":return n.jsx(cl,{className:"w-6 h-6 text-purple-400"});default:return n.jsx(he,{className:"w-6 h-6 text-primary-main"})}};return s?n.jsx("div",{className:"flex justify-center items-center min-h-[200px]",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-main"})}):n.jsx("div",{className:"space-y-4",children:t.map((a,o)=>n.jsx("div",{className:"bg-gradient-radial from-primary-main/5 via-primary-main/10 to-transparent backdrop-blur-sm rounded-xl p-6 border border-primary-main/20",children:n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-primary-main/10 flex items-center justify-center",children:n.jsx(he,{className:`w-6 h-6 ${o===0?"text-yellow-400":o===1?"text-gray-400":o===2?"text-amber-700":"text-primary-main"}`})}),n.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden border border-primary-main/20 flex items-center justify-center bg-black/40",children:i(a.archetype)}),n.jsxs("div",{className:"flex-grow min-w-0",children:[n.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:a.name}),n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(W,{className:"w-4 h-4 text-primary-main"}),n.jsxs("span",{className:"text-white",children:[a.memberCount," Members"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(te,{className:"w-4 h-4 text-primary-main"}),n.jsxs("span",{className:"text-white",children:[a.totalXp.toLocaleString()," XP"]})]}),a.averageLevel>0&&n.jsxs("div",{className:"text-white",children:["Avg Level: ",a.averageLevel]})]})]}),n.jsxs("div",{className:"text-2xl font-bold text-primary-main",children:["#",o+1]})]})},a.id))})},Xj=()=>{const{connected:t,publicKey:e}=U();pt();const[s,r]=p.useState("archetypes"),[i,a]=p.useState(!1),[o,l]=p.useState(null);return p.useEffect(()=>{if(e){const c=H.getPlayer(e.toString());l(c?.guild||null),a(ee.isGuildLeader(e.toString()))}},[e]),t?n.jsx("div",{className:"space-y-8",children:n.jsxs(mt,{title:"Guild System",children:[n.jsx("p",{className:"text-text-light-secondary dark:text-text-dark-secondary mb-6",children:"Join a guild and compete with other raiders"}),n.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[n.jsx("button",{onClick:()=>r("archetypes"),className:`px-6 py-3 rounded-xl font-semibold transition-all ${s==="archetypes"?"bg-primary-main text-white shadow-glow":"bg-primary-main/20 text-text-light-primary dark:text-white hover:bg-primary-main/30"}`,children:"Archetypes"}),n.jsx("button",{onClick:()=>r("all-guilds"),className:`px-6 py-3 rounded-xl font-semibold transition-all ${s==="all-guilds"?"bg-primary-main text-white shadow-glow":"bg-primary-main/20 text-text-light-primary dark:text-white hover:bg-primary-main/30"}`,children:"All Guilds"}),n.jsx("button",{onClick:()=>r("my-guild"),className:`px-6 py-3 rounded-xl font-semibold transition-all ${s==="my-guild"?"bg-primary-main text-white shadow-glow":"bg-primary-main/20 text-text-light-primary dark:text-white hover:bg-primary-main/30"}`,children:"My Guild"}),i&&n.jsx("button",{onClick:()=>r("manage"),className:`px-6 py-3 rounded-xl font-semibold transition-all ${s==="manage"?"bg-primary-main text-white shadow-glow":"bg-primary-main/20 text-text-light-primary dark:text-white hover:bg-primary-main/30"}`,children:"Manage Guild"})]}),n.jsxs(Pe,{children:[s==="archetypes"&&n.jsx(Jj,{}),s==="all-guilds"&&n.jsx(Uj,{}),s==="my-guild"&&n.jsx(zj,{onBrowseGuilds:()=>r("all-guilds")}),s==="manage"&&i&&e&&n.jsx(Kj,{wallet:e.toString()})]})]})}):n.jsx(Jt,{})},Qj=({currentImageUrl:t,walletAddress:e,onClose:s,onUploadSuccess:r})=>{const[i,a]=p.useState(!1),[o,l]=p.useState(null),c=p.useRef(null),[d,u]=p.useState(!1),h=async f=>{const g=f.target.files?.[0];if(g){if(!g.type.startsWith("image/")){l("Please upload an image file.");return}if(g.size>2*1024*1024){l("Image size should be less than 2MB.");return}a(!0),l(null);try{await H.updateProfilePicture(e,g)?(r&&r(),u(!1)):l("Failed to upload profile picture. Please try again.")}catch(y){console.error("Error uploading profile picture:",y),l("Error uploading profile picture. Please try again.")}finally{a(!1)}}},m=()=>{u(!0)};return n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:m,className:"w-full h-full group relative cursor-pointer",children:[t?n.jsx("div",{className:"w-full h-full",children:n.jsx("img",{src:t,alt:"Profile",className:"w-full h-full object-cover",onError:f=>{const g=f.target;g.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUtdXNlciI+PHBhdGggZD0iTTIwIDIxdi0yYTQgNCAwIDAgMC00LTRINmE0IDQgMCAwIDAtNCA0djIiLz48Y2lyY2xlIGN4PSIxMiIgY3k9IjciIHI9IjQiLz48L3N2Zz4="}})}):n.jsx("div",{className:"w-full h-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:n.jsx(Qn,{className:"w-12 h-12 text-gray-400 dark:text-gray-500"})}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-opacity flex items-center justify-center",children:n.jsx("span",{className:"text-white opacity-0 group-hover:opacity-100 transition-opacity",children:"Change Picture"})})]}),d&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-xl max-w-md w-full",children:[n.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:"Update Profile Picture"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("input",{type:"file",ref:c,onChange:h,accept:"image/*",className:"hidden"}),n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[n.jsx("p",{children:" Maximum file size: 2MB"}),n.jsx("p",{children:" Supported formats: JPG, PNG, GIF"})]}),n.jsx("button",{onClick:()=>c.current?.click(),disabled:i,className:"w-full px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Uploading...":"Choose File"}),o&&n.jsx("p",{className:"text-red-500 text-sm",children:o}),n.jsx("button",{onClick:()=>u(!1),disabled:i,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]})})]})},Yj=()=>{const t=l=>l?typeof l!="string"?"Invalid Wallet":`${l.slice(0,4)}...${l.slice(-4)}`:"Not Connected",{publicKey:e}=U(),[s,r]=p.useState(null),[i,a]=p.useState(!0),o=async()=>{if(e)try{const l=await H.getPlayer(e.toString());l&&r(l)}catch(l){console.error("Error refreshing player data:",l)}};return p.useEffect(()=>{(async()=>{if(e)try{const c=await H.getPlayer(e.toString());r(c)}catch(c){console.error("Error loading player data:",c)}a(!1)})()},[e]),i?n.jsx("div",{className:"flex justify-center items-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-orange-500"})}):!s||!e?n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-8",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-white mb-4",children:"Profile Not Found"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center",children:"Please connect your wallet to view your profile."})]}):n.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[n.jsx(mt,{title:"Raid Profile",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-8",children:[n.jsx("div",{className:"w-full md:w-1/3",children:n.jsx("div",{className:"relative w-48 h-48 mx-auto rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700",children:n.jsx(Qj,{currentImageUrl:s.profile_picture,walletAddress:s.wallet,onUploadSuccess:o})})}),n.jsxs("div",{className:"flex-1 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:s.username||t(s.wallet)}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:t(s.wallet)})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Stats"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(cu,{xp:s.xp}),n.jsxs("p",{children:["Quests Completed: ",s.quests_completed]}),n.jsxs("p",{children:["Raid Bosses Defeated: ",s.raid_bosses_defeated]}),n.jsxs("p",{children:["Total Raids: ",s.total_raids_participated]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Details"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{children:["Archetype: ",s.archetype]}),n.jsxs("p",{children:["Member Since: ",new Date(s.date_joined).toLocaleDateString()]}),n.jsxs("p",{children:["Last Active: ",new Date(s.last_login).toLocaleDateString()]}),s.discord_handle&&n.jsxs("p",{children:["Discord: ",s.discord_handle]})]})]})]})]})]})}),n.jsx(mt,{title:"Achievements",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:s.achievements&&s.achievements.length>0?s.achievements.map((l,c)=>n.jsx("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow",children:n.jsx("h3",{className:"font-semibold",children:l})},c)):n.jsx("p",{className:"col-span-3 text-center text-gray-500",children:"No achievements yet. Complete quests and raids to earn achievements!"})})})]})},Zj=()=>{const{connected:t}=U();return t?n.jsx("div",{className:"space-y-8",children:n.jsxs(mt,{title:"My NFT Dashboard",children:[n.jsx("p",{className:"text-text-light-secondary dark:text-text-dark-secondary mb-6",children:"View and manage your NFT collection"}),n.jsx(au,{showWalletOnly:!0,initialDisplayCount:4,showSearch:!1})]})}):n.jsx(Jt,{})},eN=()=>{const{connected:t}=U(),[e,s]=p.useState("profile");return t?n.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 px-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("h1",{className:"text-4xl font-title text-text-light-primary dark:text-white mb-2 flex items-center justify-center gap-3",children:[n.jsx("img",{src:"/assets/pandas/nestledpanda.PNG",alt:"Raid Panda",className:"w-12 h-12 object-contain"}),"Raid Profile",n.jsx("img",{src:"/assets/pandas/nestledpanda.PNG",alt:"Raid Panda",className:"w-12 h-12 object-contain"})]}),n.jsx("p",{className:"text-text-light-secondary dark:text-text-dark-secondary",children:"Manage your profile, NFTs, and gallery"})]}),n.jsxs("div",{className:"flex justify-center gap-4",children:[n.jsx("button",{onClick:()=>s("profile"),className:`px-6 py-3 rounded-xl font-semibold transition-all ${e==="profile"?"bg-primary-main text-white shadow-glow":"bg-primary-main/20 text-text-light-primary dark:text-white hover:bg-primary-main/30"}`,children:"Profile"}),n.jsx("button",{onClick:()=>s("nfts"),className:`px-6 py-3 rounded-xl font-semibold transition-all ${e==="nfts"?"bg-primary-main text-white shadow-glow":"bg-primary-main/20 text-text-light-primary dark:text-white hover:bg-primary-main/30"}`,children:"My NFTs"}),n.jsx("button",{onClick:()=>s("gallery"),className:`px-6 py-3 rounded-xl font-semibold transition-all ${e==="gallery"?"bg-primary-main text-white shadow-glow":"bg-primary-main/20 text-text-light-primary dark:text-white hover:bg-primary-main/30"}`,children:"Gallery"})]}),n.jsxs("div",{className:"gradient-box p-6",children:[e==="profile"&&n.jsx(Yj,{}),e==="nfts"&&n.jsx(Zj,{}),e==="gallery"&&n.jsx(ou,{})]})]}):n.jsx(Jt,{})},tN=()=>{const{isAdmin:t}=Is(),[e,s]=p.useState(1),[r,i]=p.useState(),[a,o]=p.useState(!0);if(!t)return n.jsx(Zo,{to:"/",replace:!0});const l=async()=>{o(!0);try{const f=await Et.getSubmissionPage(e);i(f)}catch(f){console.error("Error loading submissions:",f)}finally{o(!1)}};p.useEffect(()=>{l()},[e]);const c=async f=>{try{await Et.deleteSubmission(f),l()}catch(g){console.error("Error deleting submission:",g)}},d=async f=>{try{await Et.updateSubmissionStatus(f,"approved"),l()}catch(g){console.error("Error approving submission:",g)}},u=async f=>{try{await Et.updateSubmissionStatus(f,"rejected"),l()}catch(g){console.error("Error rejecting submission:",g)}},h=()=>{e>1&&s(f=>f-1)},m=()=>{r&&e<r.totalPages&&s(f=>f+1)};return a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"text-white",children:"Loading submissions..."})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ns,{to:"/admin",className:"flex items-center gap-2 text-neutral-lightGray hover:text-white transition-colors",children:[n.jsx(Dh,{className:"w-5 h-5"}),"Back to Admin Panel"]}),n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Quest Submissions"})]}),n.jsxs("div",{className:"bg-black/40 backdrop-blur-sm rounded-xl border border-primary-pink/20 overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-black/40 border-b border-primary-pink/20",children:[n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white",children:"User"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white",children:"Type"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white",children:"Proof"}),n.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-white",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-primary-pink/10",children:r?.submissions.map(f=>n.jsxs("tr",{className:"hover:bg-primary-pink/5 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 text-sm text-neutral-lightGray whitespace-nowrap",children:new Date(f.submitted_at).toLocaleString()}),n.jsx("td",{className:"px-6 py-4 text-sm text-white",children:`${f.wallet_address.slice(0,4)}...${f.wallet_address.slice(-4)}`}),n.jsx("td",{className:"px-6 py-4 text-sm",children:n.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium ${f.quest_type==="raid"?"bg-primary-pink/20 text-primary-pink":"bg-primary-teal/20 text-primary-teal"}`,children:f.quest_type==="raid"?"Raid Quest":"Daily Quest"})}),n.jsx("td",{className:"px-6 py-4 text-sm",children:n.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium ${f.status==="approved"?"bg-green-500/20 text-green-500":f.status==="rejected"?"bg-red-500/20 text-red-500":"bg-yellow-500/20 text-yellow-500"}`,children:f.status.charAt(0).toUpperCase()+f.status.slice(1)})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("a",{href:f.proof_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-primary-pink hover:text-primary-pink/80 transition-colors",children:[n.jsx("span",{className:"text-sm truncate max-w-[200px]",children:"View Proof"}),n.jsx(Yn,{className:"w-4 h-4 flex-shrink-0"})]})}),n.jsx("td",{className:"px-6 py-4 text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>d(f.id),className:"p-2 text-green-400 hover:text-green-300 transition-colors rounded-lg hover:bg-green-400/5",title:"Approve",children:n.jsx(Oh,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>u(f.id),className:"p-2 text-red-400 hover:text-red-300 transition-colors rounded-lg hover:bg-red-400/5",title:"Reject",children:n.jsx(Ne,{className:"w-4 h-4"})})]}),n.jsx("button",{onClick:()=>c(f.id),className:"p-2 text-red-400 hover:text-red-300 transition-colors rounded-lg hover:bg-red-400/5",title:"Delete",children:n.jsx(Cs,{className:"w-4 h-4"})})]})})]},f.id))})]})}),(!r?.submissions||r.submissions.length===0)&&n.jsx("div",{className:"text-center py-8 text-neutral-lightGray",children:"No submissions found"})]}),r&&r.totalPages>1&&n.jsxs("div",{className:"flex items-center justify-between px-4",children:[n.jsxs("div",{className:"text-sm text-neutral-lightGray",children:["Showing ",(e-1)*10+1," to ",Math.min(e*10,r.totalSubmissions)," of ",r.totalSubmissions," submissions"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:h,disabled:e===1,className:"p-2 rounded-lg bg-primary-pink/10 text-primary-pink hover:bg-primary-pink/20 transition-colors disabled:opacity-50",children:n.jsx(Lh,{className:"w-4 h-4"})}),n.jsxs("span",{className:"text-white",children:["Page ",e," of ",r.totalPages]}),n.jsx("button",{onClick:m,disabled:e===r.totalPages,className:"p-2 rounded-lg bg-primary-pink/10 text-primary-pink hover:bg-primary-pink/20 transition-colors disabled:opacity-50",children:n.jsx(Mh,{className:"w-4 h-4"})})]})]})]})},sN=()=>{const{getParallaxStyle:t}=Ay();return n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-sand-50 to-sand-100 dark:from-background-900 dark:to-background-950",children:[n.jsx("div",{className:"fixed inset-0 pointer-events-none",children:n.jsx("div",{className:`absolute inset-0 opacity-30 dark:opacity-30
          [background-image:linear-gradient(rgba(249,115,22,0.3)_1px,transparent_1px),linear-gradient(to_right,rgba(249,115,22,0.3)_1px,transparent_1px)]
          dark:[background-image:linear-gradient(rgba(249,115,22,0.5)_1px,transparent_1px),linear-gradient(to_right,rgba(249,115,22,0.5)_1px,transparent_1px)]
          [background-size:50px_50px]
          [filter:drop-shadow(0_0_10px_rgba(249,115,22,0.2))]
          dark:[filter:drop-shadow(0_0_15px_rgba(249,115,22,0.3))]`,style:t(.02)})}),n.jsxs("div",{className:"relative flex flex-col min-h-screen pt-[var(--header-height)] bg-white/30 dark:bg-black/30",children:[n.jsx(tf,{}),n.jsx(Zp,{}),n.jsx("main",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 max-w-7xl",children:n.jsxs("div",{className:`glass-panel rounded-3xl overflow-hidden bg-white/15 dark:bg-black/15 backdrop-blur-sm 
               border border-primary-500/30 dark:border-primary-500/20
               shadow-[0_0_15px_rgba(249,115,22,0.1)] dark:shadow-[0_0_20px_rgba(249,115,22,0.15)]`,children:[n.jsx("div",{className:"section-background"}),n.jsx("div",{className:"p-6 sm:p-8 relative z-10",children:n.jsxs(Gu,{children:[n.jsx(xe,{path:"/",element:n.jsx(Nb,{})}),n.jsx(xe,{path:"/gallery",element:n.jsx(ou,{})}),n.jsx(xe,{path:"/info",element:n.jsx(bw,{})}),n.jsx(xe,{path:"/settings",element:n.jsx(vw,{})}),n.jsx(xe,{path:"/raid",element:n.jsx(Fw,{})}),n.jsx(xe,{path:"/nft-builder",element:n.jsx(Hw,{})}),n.jsx(xe,{path:"/admin",element:n.jsx(tj,{})}),n.jsx(xe,{path:"/admin/subs",element:n.jsx(tN,{})}),n.jsx(xe,{path:"/leaderboards",element:n.jsx(Bj,{})}),n.jsx(xe,{path:"/guild",element:n.jsx(Xj,{})}),n.jsx(xe,{path:"/profile",element:n.jsx(eN,{})}),n.jsx(xe,{path:"*",element:n.jsx(Zo,{to:"/",replace:!0})})]})})]})}),n.jsx(Cy,{}),n.jsx(Ty,{})]})]})},rN=()=>(p.useEffect(()=>{const t=Ey();console.log("Environment Status:",{supabase:t.SUPABASE_URL&&t.SUPABASE_KEY?"configured":"missing",solana:t.SOLANA_RPC&&t.SOLANA_NETWORK?"configured":"missing",helius:t.HELIUS_API_KEY?"configured":"missing"})},[]),n.jsx(Yp,{children:n.jsx(qh,{children:n.jsx(Qp,{children:n.jsx(Wh,{children:n.jsx(zh,{children:n.jsx(sN,{})})})})})})),$u=document.getElementById("root");if(!$u)throw new Error("Failed to find the root element");const nN=yl($u);nN.render(n.jsx(p.StrictMode,{children:n.jsx(qu,{children:n.jsx(rN,{})})}));

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-C_IQfxsv.js","assets/react-vendor-CCReqj_h.js","assets/index-BP1bu3YT.js"])))=>i.map(i=>d[i]);
import{g as Do,c as cn,a as rr,r as J,R as G,b as Rl}from"./react-vendor-CCReqj_h.js";var ve={},Oi={};Oi.byteLength=jl;Oi.toByteArray=Ul;Oi.fromByteArray=Wl;var fn=[],Qe=[],Dl=typeof Uint8Array<"u"?Uint8Array:Array,xs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ur=0,Ol=xs.length;ur<Ol;++ur)fn[ur]=xs[ur],Qe[xs.charCodeAt(ur)]=ur;Qe[45]=62;Qe[95]=63;function _c(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");e===-1&&(e=t);var n=e===t?0:4-e%4;return[e,n]}function jl(r){var t=_c(r),e=t[0],n=t[1];return(e+n)*3/4-n}function zl(r,t,e){return(t+e)*3/4-e}function Ul(r){var t,e=_c(r),n=e[0],s=e[1],i=new Dl(zl(r,n,s)),o=0,a=s>0?n-4:n,c;for(c=0;c<a;c+=4)t=Qe[r.charCodeAt(c)]<<18|Qe[r.charCodeAt(c+1)]<<12|Qe[r.charCodeAt(c+2)]<<6|Qe[r.charCodeAt(c+3)],i[o++]=t>>16&255,i[o++]=t>>8&255,i[o++]=t&255;return s===2&&(t=Qe[r.charCodeAt(c)]<<2|Qe[r.charCodeAt(c+1)]>>4,i[o++]=t&255),s===1&&(t=Qe[r.charCodeAt(c)]<<10|Qe[r.charCodeAt(c+1)]<<4|Qe[r.charCodeAt(c+2)]>>2,i[o++]=t>>8&255,i[o++]=t&255),i}function Pl(r){return fn[r>>18&63]+fn[r>>12&63]+fn[r>>6&63]+fn[r&63]}function Fl(r,t,e){for(var n,s=[],i=t;i<e;i+=3)n=(r[i]<<16&16711680)+(r[i+1]<<8&65280)+(r[i+2]&255),s.push(Pl(n));return s.join("")}function Wl(r){for(var t,e=r.length,n=e%3,s=[],i=16383,o=0,a=e-n;o<a;o+=i)s.push(Fl(r,o,o+i>a?a:o+i));return n===1?(t=r[e-1],s.push(fn[t>>2]+fn[t<<4&63]+"==")):n===2&&(t=(r[e-2]<<8)+r[e-1],s.push(fn[t>>10]+fn[t>>4&63]+fn[t<<2&63]+"=")),s.join("")}var Oo={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Oo.read=function(r,t,e,n,s){var i,o,a=s*8-n-1,c=(1<<a)-1,p=c>>1,f=-7,y=e?s-1:0,x=e?-1:1,M=r[t+y];for(y+=x,i=M&(1<<-f)-1,M>>=-f,f+=a;f>0;i=i*256+r[t+y],y+=x,f-=8);for(o=i&(1<<-f)-1,i>>=-f,f+=n;f>0;o=o*256+r[t+y],y+=x,f-=8);if(i===0)i=1-p;else{if(i===c)return o?NaN:(M?-1:1)*(1/0);o=o+Math.pow(2,n),i=i-p}return(M?-1:1)*o*Math.pow(2,i-n)};Oo.write=function(r,t,e,n,s,i){var o,a,c,p=i*8-s-1,f=(1<<p)-1,y=f>>1,x=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,M=n?0:i-1,L=n?1:-1,B=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=f):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+y>=1?t+=x/c:t+=x*Math.pow(2,1-y),t*c>=2&&(o++,c/=2),o+y>=f?(a=0,o=f):o+y>=1?(a=(t*c-1)*Math.pow(2,s),o=o+y):(a=t*Math.pow(2,y-1)*Math.pow(2,s),o=0));s>=8;r[e+M]=a&255,M+=L,a/=256,s-=8);for(o=o<<s|a,p+=s;p>0;r[e+M]=o&255,M+=L,o/=256,p-=8);r[e+M-L]|=B*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const t=Oi,e=Oo,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=f,r.SlowBuffer=P,r.INSPECT_MAX_BYTES=50;const s=2147483647;r.kMaxLength=s;const{Uint8Array:i,ArrayBuffer:o,SharedArrayBuffer:a}=globalThis;f.TYPED_ARRAY_SUPPORT=c(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const b=new i(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,i.prototype),Object.setPrototypeOf(b,l),b.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function p(b){if(b>s)throw new RangeError('The value "'+b+'" is invalid for option "size"');const l=new i(b);return Object.setPrototypeOf(l,f.prototype),l}function f(b,l,h){if(typeof b=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return L(b)}return y(b,l,h)}f.poolSize=8192;function y(b,l,h){if(typeof b=="string")return B(b,l);if(o.isView(b))return k(b);if(b==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b);if(Te(b,o)||b&&Te(b.buffer,o)||typeof a<"u"&&(Te(b,a)||b&&Te(b.buffer,a)))return C(b,l,h);if(typeof b=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const _=b.valueOf&&b.valueOf();if(_!=null&&_!==b)return f.from(_,l,h);const D=I(b);if(D)return D;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof b[Symbol.toPrimitive]=="function")return f.from(b[Symbol.toPrimitive]("string"),l,h);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b)}f.from=function(b,l,h){return y(b,l,h)},Object.setPrototypeOf(f.prototype,i.prototype),Object.setPrototypeOf(f,i);function x(b){if(typeof b!="number")throw new TypeError('"size" argument must be of type number');if(b<0)throw new RangeError('The value "'+b+'" is invalid for option "size"')}function M(b,l,h){return x(b),b<=0?p(b):l!==void 0?typeof h=="string"?p(b).fill(l,h):p(b).fill(l):p(b)}f.alloc=function(b,l,h){return M(b,l,h)};function L(b){return x(b),p(b<0?0:O(b)|0)}f.allocUnsafe=function(b){return L(b)},f.allocUnsafeSlow=function(b){return L(b)};function B(b,l){if((typeof l!="string"||l==="")&&(l="utf8"),!f.isEncoding(l))throw new TypeError("Unknown encoding: "+l);const h=U(b,l)|0;let _=p(h);const D=_.write(b,l);return D!==h&&(_=_.slice(0,D)),_}function v(b){const l=b.length<0?0:O(b.length)|0,h=p(l);for(let _=0;_<l;_+=1)h[_]=b[_]&255;return h}function k(b){if(Te(b,i)){const l=new i(b);return C(l.buffer,l.byteOffset,l.byteLength)}return v(b)}function C(b,l,h){if(l<0||b.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(b.byteLength<l+(h||0))throw new RangeError('"length" is outside of buffer bounds');let _;return l===void 0&&h===void 0?_=new i(b):h===void 0?_=new i(b,l):_=new i(b,l,h),Object.setPrototypeOf(_,f.prototype),_}function I(b){if(f.isBuffer(b)){const l=O(b.length)|0,h=p(l);return h.length===0||b.copy(h,0,0,l),h}if(b.length!==void 0)return typeof b.length!="number"||jt(b.length)?p(0):v(b);if(b.type==="Buffer"&&Array.isArray(b.data))return v(b.data)}function O(b){if(b>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return b|0}function P(b){return+b!=b&&(b=0),f.alloc(+b)}f.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==f.prototype},f.compare=function(l,h){if(Te(l,i)&&(l=f.from(l,l.offset,l.byteLength)),Te(h,i)&&(h=f.from(h,h.offset,h.byteLength)),!f.isBuffer(l)||!f.isBuffer(h))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===h)return 0;let _=l.length,D=h.length;for(let j=0,W=Math.min(_,D);j<W;++j)if(l[j]!==h[j]){_=l[j],D=h[j];break}return _<D?-1:D<_?1:0},f.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(l,h){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return f.alloc(0);let _;if(h===void 0)for(h=0,_=0;_<l.length;++_)h+=l[_].length;const D=f.allocUnsafe(h);let j=0;for(_=0;_<l.length;++_){let W=l[_];if(Te(W,i))j+W.length>D.length?(f.isBuffer(W)||(W=f.from(W)),W.copy(D,j)):i.prototype.set.call(D,W,j);else if(f.isBuffer(W))W.copy(D,j);else throw new TypeError('"list" argument must be an Array of Buffers');j+=W.length}return D};function U(b,l){if(f.isBuffer(b))return b.length;if(o.isView(b)||Te(b,o))return b.byteLength;if(typeof b!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof b);const h=b.length,_=arguments.length>2&&arguments[2]===!0;if(!_&&h===0)return 0;let D=!1;for(;;)switch(l){case"ascii":case"latin1":case"binary":return h;case"utf8":case"utf-8":return Ot(b).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h*2;case"hex":return h>>>1;case"base64":return zt(b).length;default:if(D)return _?-1:Ot(b).length;l=(""+l).toLowerCase(),D=!0}}f.byteLength=U;function $(b,l,h){let _=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((h===void 0||h>this.length)&&(h=this.length),h<=0)||(h>>>=0,l>>>=0,h<=l))return"";for(b||(b="utf8");;)switch(b){case"hex":return d(this,l,h);case"utf8":case"utf-8":return m(this,l,h);case"ascii":return R(this,l,h);case"latin1":case"binary":return S(this,l,h);case"base64":return w(this,l,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,l,h);default:if(_)throw new TypeError("Unknown encoding: "+b);b=(b+"").toLowerCase(),_=!0}}f.prototype._isBuffer=!0;function K(b,l,h){const _=b[l];b[l]=b[h],b[h]=_}f.prototype.swap16=function(){const l=this.length;if(l%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let h=0;h<l;h+=2)K(this,h,h+1);return this},f.prototype.swap32=function(){const l=this.length;if(l%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let h=0;h<l;h+=4)K(this,h,h+3),K(this,h+1,h+2);return this},f.prototype.swap64=function(){const l=this.length;if(l%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let h=0;h<l;h+=8)K(this,h,h+7),K(this,h+1,h+6),K(this,h+2,h+5),K(this,h+3,h+4);return this},f.prototype.toString=function(){const l=this.length;return l===0?"":arguments.length===0?m(this,0,l):$.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(l){if(!f.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:f.compare(this,l)===0},f.prototype.inspect=function(){let l="";const h=r.INSPECT_MAX_BYTES;return l=this.toString("hex",0,h).replace(/(.{2})/g,"$1 ").trim(),this.length>h&&(l+=" ... "),"<Buffer "+l+">"},n&&(f.prototype[n]=f.prototype.inspect),f.prototype.compare=function(l,h,_,D,j){if(Te(l,i)&&(l=f.from(l,l.offset,l.byteLength)),!f.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(h===void 0&&(h=0),_===void 0&&(_=l?l.length:0),D===void 0&&(D=0),j===void 0&&(j=this.length),h<0||_>l.length||D<0||j>this.length)throw new RangeError("out of range index");if(D>=j&&h>=_)return 0;if(D>=j)return-1;if(h>=_)return 1;if(h>>>=0,_>>>=0,D>>>=0,j>>>=0,this===l)return 0;let W=j-D,bt=_-h;const wt=Math.min(W,bt),gt=this.slice(D,j),Wt=l.slice(h,_);for(let lt=0;lt<wt;++lt)if(gt[lt]!==Wt[lt]){W=gt[lt],bt=Wt[lt];break}return W<bt?-1:bt<W?1:0};function Q(b,l,h,_,D){if(b.length===0)return-1;if(typeof h=="string"?(_=h,h=0):h>2147483647?h=2147483647:h<-2147483648&&(h=-2147483648),h=+h,jt(h)&&(h=D?0:b.length-1),h<0&&(h=b.length+h),h>=b.length){if(D)return-1;h=b.length-1}else if(h<0)if(D)h=0;else return-1;if(typeof l=="string"&&(l=f.from(l,_)),f.isBuffer(l))return l.length===0?-1:dt(b,l,h,_,D);if(typeof l=="number")return l=l&255,typeof i.prototype.indexOf=="function"?D?i.prototype.indexOf.call(b,l,h):i.prototype.lastIndexOf.call(b,l,h):dt(b,[l],h,_,D);throw new TypeError("val must be string, number or Buffer")}function dt(b,l,h,_,D){let j=1,W=b.length,bt=l.length;if(_!==void 0&&(_=String(_).toLowerCase(),_==="ucs2"||_==="ucs-2"||_==="utf16le"||_==="utf-16le")){if(b.length<2||l.length<2)return-1;j=2,W/=2,bt/=2,h/=2}function wt(Wt,lt){return j===1?Wt[lt]:Wt.readUInt16BE(lt*j)}let gt;if(D){let Wt=-1;for(gt=h;gt<W;gt++)if(wt(b,gt)===wt(l,Wt===-1?0:gt-Wt)){if(Wt===-1&&(Wt=gt),gt-Wt+1===bt)return Wt*j}else Wt!==-1&&(gt-=gt-Wt),Wt=-1}else for(h+bt>W&&(h=W-bt),gt=h;gt>=0;gt--){let Wt=!0;for(let lt=0;lt<bt;lt++)if(wt(b,gt+lt)!==wt(l,lt)){Wt=!1;break}if(Wt)return gt}return-1}f.prototype.includes=function(l,h,_){return this.indexOf(l,h,_)!==-1},f.prototype.indexOf=function(l,h,_){return Q(this,l,h,_,!0)},f.prototype.lastIndexOf=function(l,h,_){return Q(this,l,h,_,!1)};function nt(b,l,h,_){h=Number(h)||0;const D=b.length-h;_?(_=Number(_),_>D&&(_=D)):_=D;const j=l.length;_>j/2&&(_=j/2);let W;for(W=0;W<_;++W){const bt=parseInt(l.substr(W*2,2),16);if(jt(bt))return W;b[h+W]=bt}return W}function rt(b,l,h,_){return Rt(Ot(l,b.length-h),b,h,_)}function T(b,l,h,_){return Rt(Pt(l),b,h,_)}function u(b,l,h,_){return Rt(zt(l),b,h,_)}function g(b,l,h,_){return Rt(Bn(l,b.length-h),b,h,_)}f.prototype.write=function(l,h,_,D){if(h===void 0)D="utf8",_=this.length,h=0;else if(_===void 0&&typeof h=="string")D=h,_=this.length,h=0;else if(isFinite(h))h=h>>>0,isFinite(_)?(_=_>>>0,D===void 0&&(D="utf8")):(D=_,_=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const j=this.length-h;if((_===void 0||_>j)&&(_=j),l.length>0&&(_<0||h<0)||h>this.length)throw new RangeError("Attempt to write outside buffer bounds");D||(D="utf8");let W=!1;for(;;)switch(D){case"hex":return nt(this,l,h,_);case"utf8":case"utf-8":return rt(this,l,h,_);case"ascii":case"latin1":case"binary":return T(this,l,h,_);case"base64":return u(this,l,h,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g(this,l,h,_);default:if(W)throw new TypeError("Unknown encoding: "+D);D=(""+D).toLowerCase(),W=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function w(b,l,h){return l===0&&h===b.length?t.fromByteArray(b):t.fromByteArray(b.slice(l,h))}function m(b,l,h){h=Math.min(b.length,h);const _=[];let D=l;for(;D<h;){const j=b[D];let W=null,bt=j>239?4:j>223?3:j>191?2:1;if(D+bt<=h){let wt,gt,Wt,lt;switch(bt){case 1:j<128&&(W=j);break;case 2:wt=b[D+1],(wt&192)===128&&(lt=(j&31)<<6|wt&63,lt>127&&(W=lt));break;case 3:wt=b[D+1],gt=b[D+2],(wt&192)===128&&(gt&192)===128&&(lt=(j&15)<<12|(wt&63)<<6|gt&63,lt>2047&&(lt<55296||lt>57343)&&(W=lt));break;case 4:wt=b[D+1],gt=b[D+2],Wt=b[D+3],(wt&192)===128&&(gt&192)===128&&(Wt&192)===128&&(lt=(j&15)<<18|(wt&63)<<12|(gt&63)<<6|Wt&63,lt>65535&&lt<1114112&&(W=lt))}}W===null?(W=65533,bt=1):W>65535&&(W-=65536,_.push(W>>>10&1023|55296),W=56320|W&1023),_.push(W),D+=bt}return N(_)}const E=4096;function N(b){const l=b.length;if(l<=E)return String.fromCharCode.apply(String,b);let h="",_=0;for(;_<l;)h+=String.fromCharCode.apply(String,b.slice(_,_+=E));return h}function R(b,l,h){let _="";h=Math.min(b.length,h);for(let D=l;D<h;++D)_+=String.fromCharCode(b[D]&127);return _}function S(b,l,h){let _="";h=Math.min(b.length,h);for(let D=l;D<h;++D)_+=String.fromCharCode(b[D]);return _}function d(b,l,h){const _=b.length;(!l||l<0)&&(l=0),(!h||h<0||h>_)&&(h=_);let D="";for(let j=l;j<h;++j)D+=Ft[b[j]];return D}function A(b,l,h){const _=b.slice(l,h);let D="";for(let j=0;j<_.length-1;j+=2)D+=String.fromCharCode(_[j]+_[j+1]*256);return D}f.prototype.slice=function(l,h){const _=this.length;l=~~l,h=h===void 0?_:~~h,l<0?(l+=_,l<0&&(l=0)):l>_&&(l=_),h<0?(h+=_,h<0&&(h=0)):h>_&&(h=_),h<l&&(h=l);const D=this.subarray(l,h);return Object.setPrototypeOf(D,f.prototype),D};function H(b,l,h){if(b%1!==0||b<0)throw new RangeError("offset is not uint");if(b+l>h)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(l,h,_){l=l>>>0,h=h>>>0,_||H(l,h,this.length);let D=this[l],j=1,W=0;for(;++W<h&&(j*=256);)D+=this[l+W]*j;return D},f.prototype.readUintBE=f.prototype.readUIntBE=function(l,h,_){l=l>>>0,h=h>>>0,_||H(l,h,this.length);let D=this[l+--h],j=1;for(;h>0&&(j*=256);)D+=this[l+--h]*j;return D},f.prototype.readUint8=f.prototype.readUInt8=function(l,h){return l=l>>>0,h||H(l,1,this.length),this[l]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(l,h){return l=l>>>0,h||H(l,2,this.length),this[l]|this[l+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(l,h){return l=l>>>0,h||H(l,2,this.length),this[l]<<8|this[l+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(l,h){return l=l>>>0,h||H(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(l,h){return l=l>>>0,h||H(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},f.prototype.readBigUInt64LE=$e(function(l){l=l>>>0,en(l,"offset");const h=this[l],_=this[l+7];(h===void 0||_===void 0)&&Ct(l,this.length-8);const D=h+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24,j=this[++l]+this[++l]*2**8+this[++l]*2**16+_*2**24;return BigInt(D)+(BigInt(j)<<BigInt(32))}),f.prototype.readBigUInt64BE=$e(function(l){l=l>>>0,en(l,"offset");const h=this[l],_=this[l+7];(h===void 0||_===void 0)&&Ct(l,this.length-8);const D=h*2**24+this[++l]*2**16+this[++l]*2**8+this[++l],j=this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+_;return(BigInt(D)<<BigInt(32))+BigInt(j)}),f.prototype.readIntLE=function(l,h,_){l=l>>>0,h=h>>>0,_||H(l,h,this.length);let D=this[l],j=1,W=0;for(;++W<h&&(j*=256);)D+=this[l+W]*j;return j*=128,D>=j&&(D-=Math.pow(2,8*h)),D},f.prototype.readIntBE=function(l,h,_){l=l>>>0,h=h>>>0,_||H(l,h,this.length);let D=h,j=1,W=this[l+--D];for(;D>0&&(j*=256);)W+=this[l+--D]*j;return j*=128,W>=j&&(W-=Math.pow(2,8*h)),W},f.prototype.readInt8=function(l,h){return l=l>>>0,h||H(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},f.prototype.readInt16LE=function(l,h){l=l>>>0,h||H(l,2,this.length);const _=this[l]|this[l+1]<<8;return _&32768?_|4294901760:_},f.prototype.readInt16BE=function(l,h){l=l>>>0,h||H(l,2,this.length);const _=this[l+1]|this[l]<<8;return _&32768?_|4294901760:_},f.prototype.readInt32LE=function(l,h){return l=l>>>0,h||H(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},f.prototype.readInt32BE=function(l,h){return l=l>>>0,h||H(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},f.prototype.readBigInt64LE=$e(function(l){l=l>>>0,en(l,"offset");const h=this[l],_=this[l+7];(h===void 0||_===void 0)&&Ct(l,this.length-8);const D=this[l+4]+this[l+5]*2**8+this[l+6]*2**16+(_<<24);return(BigInt(D)<<BigInt(32))+BigInt(h+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24)}),f.prototype.readBigInt64BE=$e(function(l){l=l>>>0,en(l,"offset");const h=this[l],_=this[l+7];(h===void 0||_===void 0)&&Ct(l,this.length-8);const D=(h<<24)+this[++l]*2**16+this[++l]*2**8+this[++l];return(BigInt(D)<<BigInt(32))+BigInt(this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+_)}),f.prototype.readFloatLE=function(l,h){return l=l>>>0,h||H(l,4,this.length),e.read(this,l,!0,23,4)},f.prototype.readFloatBE=function(l,h){return l=l>>>0,h||H(l,4,this.length),e.read(this,l,!1,23,4)},f.prototype.readDoubleLE=function(l,h){return l=l>>>0,h||H(l,8,this.length),e.read(this,l,!0,52,8)},f.prototype.readDoubleBE=function(l,h){return l=l>>>0,h||H(l,8,this.length),e.read(this,l,!1,52,8)};function Y(b,l,h,_,D,j){if(!f.isBuffer(b))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>D||l<j)throw new RangeError('"value" argument is out of bounds');if(h+_>b.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(l,h,_,D){if(l=+l,h=h>>>0,_=_>>>0,!D){const bt=Math.pow(2,8*_)-1;Y(this,l,h,_,bt,0)}let j=1,W=0;for(this[h]=l&255;++W<_&&(j*=256);)this[h+W]=l/j&255;return h+_},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(l,h,_,D){if(l=+l,h=h>>>0,_=_>>>0,!D){const bt=Math.pow(2,8*_)-1;Y(this,l,h,_,bt,0)}let j=_-1,W=1;for(this[h+j]=l&255;--j>=0&&(W*=256);)this[h+j]=l/W&255;return h+_},f.prototype.writeUint8=f.prototype.writeUInt8=function(l,h,_){return l=+l,h=h>>>0,_||Y(this,l,h,1,255,0),this[h]=l&255,h+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(l,h,_){return l=+l,h=h>>>0,_||Y(this,l,h,2,65535,0),this[h]=l&255,this[h+1]=l>>>8,h+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(l,h,_){return l=+l,h=h>>>0,_||Y(this,l,h,2,65535,0),this[h]=l>>>8,this[h+1]=l&255,h+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(l,h,_){return l=+l,h=h>>>0,_||Y(this,l,h,4,4294967295,0),this[h+3]=l>>>24,this[h+2]=l>>>16,this[h+1]=l>>>8,this[h]=l&255,h+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(l,h,_){return l=+l,h=h>>>0,_||Y(this,l,h,4,4294967295,0),this[h]=l>>>24,this[h+1]=l>>>16,this[h+2]=l>>>8,this[h+3]=l&255,h+4};function tt(b,l,h,_,D){Bt(l,_,D,b,h,7);let j=Number(l&BigInt(4294967295));b[h++]=j,j=j>>8,b[h++]=j,j=j>>8,b[h++]=j,j=j>>8,b[h++]=j;let W=Number(l>>BigInt(32)&BigInt(4294967295));return b[h++]=W,W=W>>8,b[h++]=W,W=W>>8,b[h++]=W,W=W>>8,b[h++]=W,h}function St(b,l,h,_,D){Bt(l,_,D,b,h,7);let j=Number(l&BigInt(4294967295));b[h+7]=j,j=j>>8,b[h+6]=j,j=j>>8,b[h+5]=j,j=j>>8,b[h+4]=j;let W=Number(l>>BigInt(32)&BigInt(4294967295));return b[h+3]=W,W=W>>8,b[h+2]=W,W=W>>8,b[h+1]=W,W=W>>8,b[h]=W,h+8}f.prototype.writeBigUInt64LE=$e(function(l,h=0){return tt(this,l,h,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=$e(function(l,h=0){return St(this,l,h,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(l,h,_,D){if(l=+l,h=h>>>0,!D){const wt=Math.pow(2,8*_-1);Y(this,l,h,_,wt-1,-wt)}let j=0,W=1,bt=0;for(this[h]=l&255;++j<_&&(W*=256);)l<0&&bt===0&&this[h+j-1]!==0&&(bt=1),this[h+j]=(l/W>>0)-bt&255;return h+_},f.prototype.writeIntBE=function(l,h,_,D){if(l=+l,h=h>>>0,!D){const wt=Math.pow(2,8*_-1);Y(this,l,h,_,wt-1,-wt)}let j=_-1,W=1,bt=0;for(this[h+j]=l&255;--j>=0&&(W*=256);)l<0&&bt===0&&this[h+j+1]!==0&&(bt=1),this[h+j]=(l/W>>0)-bt&255;return h+_},f.prototype.writeInt8=function(l,h,_){return l=+l,h=h>>>0,_||Y(this,l,h,1,127,-128),l<0&&(l=255+l+1),this[h]=l&255,h+1},f.prototype.writeInt16LE=function(l,h,_){return l=+l,h=h>>>0,_||Y(this,l,h,2,32767,-32768),this[h]=l&255,this[h+1]=l>>>8,h+2},f.prototype.writeInt16BE=function(l,h,_){return l=+l,h=h>>>0,_||Y(this,l,h,2,32767,-32768),this[h]=l>>>8,this[h+1]=l&255,h+2},f.prototype.writeInt32LE=function(l,h,_){return l=+l,h=h>>>0,_||Y(this,l,h,4,2147483647,-2147483648),this[h]=l&255,this[h+1]=l>>>8,this[h+2]=l>>>16,this[h+3]=l>>>24,h+4},f.prototype.writeInt32BE=function(l,h,_){return l=+l,h=h>>>0,_||Y(this,l,h,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[h]=l>>>24,this[h+1]=l>>>16,this[h+2]=l>>>8,this[h+3]=l&255,h+4},f.prototype.writeBigInt64LE=$e(function(l,h=0){return tt(this,l,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=$e(function(l,h=0){return St(this,l,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ft(b,l,h,_,D,j){if(h+_>b.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("Index out of range")}function pt(b,l,h,_,D){return l=+l,h=h>>>0,D||ft(b,l,h,4),e.write(b,l,h,_,23,4),h+4}f.prototype.writeFloatLE=function(l,h,_){return pt(this,l,h,!0,_)},f.prototype.writeFloatBE=function(l,h,_){return pt(this,l,h,!1,_)};function Xt(b,l,h,_,D){return l=+l,h=h>>>0,D||ft(b,l,h,8),e.write(b,l,h,_,52,8),h+8}f.prototype.writeDoubleLE=function(l,h,_){return Xt(this,l,h,!0,_)},f.prototype.writeDoubleBE=function(l,h,_){return Xt(this,l,h,!1,_)},f.prototype.copy=function(l,h,_,D){if(!f.isBuffer(l))throw new TypeError("argument should be a Buffer");if(_||(_=0),!D&&D!==0&&(D=this.length),h>=l.length&&(h=l.length),h||(h=0),D>0&&D<_&&(D=_),D===_||l.length===0||this.length===0)return 0;if(h<0)throw new RangeError("targetStart out of bounds");if(_<0||_>=this.length)throw new RangeError("Index out of range");if(D<0)throw new RangeError("sourceEnd out of bounds");D>this.length&&(D=this.length),l.length-h<D-_&&(D=l.length-h+_);const j=D-_;return this===l&&typeof i.prototype.copyWithin=="function"?this.copyWithin(h,_,D):i.prototype.set.call(l,this.subarray(_,D),h),j},f.prototype.fill=function(l,h,_,D){if(typeof l=="string"){if(typeof h=="string"?(D=h,h=0,_=this.length):typeof _=="string"&&(D=_,_=this.length),D!==void 0&&typeof D!="string")throw new TypeError("encoding must be a string");if(typeof D=="string"&&!f.isEncoding(D))throw new TypeError("Unknown encoding: "+D);if(l.length===1){const W=l.charCodeAt(0);(D==="utf8"&&W<128||D==="latin1")&&(l=W)}}else typeof l=="number"?l=l&255:typeof l=="boolean"&&(l=Number(l));if(h<0||this.length<h||this.length<_)throw new RangeError("Out of range index");if(_<=h)return this;h=h>>>0,_=_===void 0?this.length:_>>>0,l||(l=0);let j;if(typeof l=="number")for(j=h;j<_;++j)this[j]=l;else{const W=f.isBuffer(l)?l:f.from(l,D),bt=W.length;if(bt===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(j=0;j<_-h;++j)this[j+h]=W[j%bt]}return this};const ht={};function Et(b,l,h){ht[b]=class extends h{constructor(){super(),Object.defineProperty(this,"message",{value:l.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${b}]`,this.stack,delete this.name}get code(){return b}set code(D){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:D,writable:!0})}toString(){return`${this.name} [${b}]: ${this.message}`}}}Et("ERR_BUFFER_OUT_OF_BOUNDS",function(b){return b?`${b} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Et("ERR_INVALID_ARG_TYPE",function(b,l){return`The "${b}" argument must be of type number. Received type ${typeof l}`},TypeError),Et("ERR_OUT_OF_RANGE",function(b,l,h){let _=`The value of "${b}" is out of range.`,D=h;return Number.isInteger(h)&&Math.abs(h)>2**32?D=je(String(h)):typeof h=="bigint"&&(D=String(h),(h>BigInt(2)**BigInt(32)||h<-(BigInt(2)**BigInt(32)))&&(D=je(D)),D+="n"),_+=` It must be ${l}. Received ${D}`,_},RangeError);function je(b){let l="",h=b.length;const _=b[0]==="-"?1:0;for(;h>=_+4;h-=3)l=`_${b.slice(h-3,h)}${l}`;return`${b.slice(0,h)}${l}`}function kt(b,l,h){en(l,"offset"),(b[l]===void 0||b[l+h]===void 0)&&Ct(l,b.length-(h+1))}function Bt(b,l,h,_,D,j){if(b>h||b<l){const W=typeof l=="bigint"?"n":"";let bt;throw l===0||l===BigInt(0)?bt=`>= 0${W} and < 2${W} ** ${(j+1)*8}${W}`:bt=`>= -(2${W} ** ${(j+1)*8-1}${W}) and < 2 ** ${(j+1)*8-1}${W}`,new ht.ERR_OUT_OF_RANGE("value",bt,b)}kt(_,D,j)}function en(b,l){if(typeof b!="number")throw new ht.ERR_INVALID_ARG_TYPE(l,"number",b)}function Ct(b,l,h){throw Math.floor(b)!==b?(en(b,h),new ht.ERR_OUT_OF_RANGE("offset","an integer",b)):l<0?new ht.ERR_BUFFER_OUT_OF_BOUNDS:new ht.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${l}`,b)}const Kt=/[^+/0-9A-Za-z-_]/g;function cr(b){if(b=b.split("=")[0],b=b.trim().replace(Kt,""),b.length<2)return"";for(;b.length%4!==0;)b=b+"=";return b}function Ot(b,l){l=l||1/0;let h;const _=b.length;let D=null;const j=[];for(let W=0;W<_;++W){if(h=b.charCodeAt(W),h>55295&&h<57344){if(!D){if(h>56319){(l-=3)>-1&&j.push(239,191,189);continue}else if(W+1===_){(l-=3)>-1&&j.push(239,191,189);continue}D=h;continue}if(h<56320){(l-=3)>-1&&j.push(239,191,189),D=h;continue}h=(D-55296<<10|h-56320)+65536}else D&&(l-=3)>-1&&j.push(239,191,189);if(D=null,h<128){if((l-=1)<0)break;j.push(h)}else if(h<2048){if((l-=2)<0)break;j.push(h>>6|192,h&63|128)}else if(h<65536){if((l-=3)<0)break;j.push(h>>12|224,h>>6&63|128,h&63|128)}else if(h<1114112){if((l-=4)<0)break;j.push(h>>18|240,h>>12&63|128,h>>6&63|128,h&63|128)}else throw new Error("Invalid code point")}return j}function Pt(b){const l=[];for(let h=0;h<b.length;++h)l.push(b.charCodeAt(h)&255);return l}function Bn(b,l){let h,_,D;const j=[];for(let W=0;W<b.length&&!((l-=2)<0);++W)h=b.charCodeAt(W),_=h>>8,D=h%256,j.push(D),j.push(_);return j}function zt(b){return t.toByteArray(cr(b))}function Rt(b,l,h,_){let D;for(D=0;D<_&&!(D+h>=l.length||D>=b.length);++D)l[D+h]=b[D];return D}function Te(b,l){return b instanceof l||b!=null&&b.constructor!=null&&b.constructor.name!=null&&b.constructor.name===l.name}function jt(b){return b!==b}const Ft=function(){const b="0123456789abcdef",l=new Array(256);for(let h=0;h<16;++h){const _=h*16;for(let D=0;D<16;++D)l[_+D]=b[h]+b[D]}return l}();function $e(b){return typeof BigInt>"u"?qt:b}function qt(){throw new Error("BigInt not supported")}})(ve);const ye=ve.Buffer,$l=ve.Blob,Kl=ve.BlobOptions,yt=ve.Buffer,ql=ve.File,Hl=ve.FileOptions,Gl=ve.INSPECT_MAX_BYTES,Yl=ve.SlowBuffer,Vl=ve.TranscodeEncoding,Zl=ve.atob,Ql=ve.btoa,Jl=ve.constants,Xl=ve.isAscii,tf=ve.isUtf8,ef=ve.kMaxLength,nf=ve.kStringMaxLength,rf=ve.resolveObjectURL,sf=ve.transcode,of=Object.freeze(Object.defineProperty({__proto__:null,Blob:$l,BlobOptions:Kl,Buffer:yt,File:ql,FileOptions:Hl,INSPECT_MAX_BYTES:Gl,SlowBuffer:Yl,TranscodeEncoding:Vl,atob:Zl,btoa:Ql,constants:Jl,default:ye,isAscii:Xl,isUtf8:tf,kMaxLength:ef,kStringMaxLength:nf,resolveObjectURL:rf,transcode:sf},Symbol.toStringTag,{value:"Module"}));function Ba(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`positive integer expected, not ${r}`)}function af(r){return r instanceof Uint8Array||r!=null&&typeof r=="object"&&r.constructor.name==="Uint8Array"}function ji(r,...t){if(!af(r))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(r.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${r.length}`)}function cf(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ba(r.outputLen),Ba(r.blockLen)}function Ei(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}function uf(r,t){ji(r);const e=t.outputLen;if(r.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}const lr=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Is=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),ln=(r,t)=>r<<32-t|r>>>t;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function lf(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function jo(r){return typeof r=="string"&&(r=lf(r)),ji(r),r}function ff(...r){let t=0;for(let n=0;n<r.length;n++){const s=r[n];ji(s),t+=s.length}const e=new Uint8Array(t);for(let n=0,s=0;n<r.length;n++){const i=r[n];e.set(i,s),s+=i.length}return e}class Ac{clone(){return this._cloneInto()}}function Lc(r){const t=n=>r().update(jo(n)).digest(),e=r();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>r(),t}function Bc(r=32){if(lr&&typeof lr.getRandomValues=="function")return lr.getRandomValues(new Uint8Array(r));if(lr&&typeof lr.randomBytes=="function")return lr.randomBytes(r);throw new Error("crypto.getRandomValues must be defined")}function hf(r,t,e,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(t,e,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(e>>s&i),a=Number(e&i),c=n?4:0,p=n?0:4;r.setUint32(t+c,o,n),r.setUint32(t+p,a,n)}const df=(r,t,e)=>r&t^~r&e,gf=(r,t,e)=>r&t^r&e^t&e;class Tc extends Ac{constructor(t,e,n,s){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Is(this.buffer)}update(t){Ei(this);const{view:e,buffer:n,blockLen:s}=this;t=jo(t);const i=t.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=Is(t);for(;s<=i-o;o+=s)this.process(c,o);continue}n.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ei(this),uf(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:s,isLE:i}=this;let{pos:o}=this;e[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(n,0),o=0);for(let y=o;y<s;y++)e[y]=0;hf(n,s-8,BigInt(this.length*8),i),this.process(n,0);const a=Is(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=c/4,f=this.get();if(p>f.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<p;y++)a.setUint32(4*y,f[y],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:s,finished:i,destroyed:o,pos:a}=this;return t.length=s,t.pos=a,t.finished=i,t.destroyed=o,s%e&&t.buffer.set(n),t}}const ii=BigInt(2**32-1),no=BigInt(32);function Nc(r,t=!1){return t?{h:Number(r&ii),l:Number(r>>no&ii)}:{h:Number(r>>no&ii)|0,l:Number(r&ii)|0}}function pf(r,t=!1){let e=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let s=0;s<r.length;s++){const{h:i,l:o}=Nc(r[s],t);[e[s],n[s]]=[i,o]}return[e,n]}const wf=(r,t)=>BigInt(r>>>0)<<no|BigInt(t>>>0),mf=(r,t,e)=>r>>>e,yf=(r,t,e)=>r<<32-e|t>>>e,bf=(r,t,e)=>r>>>e|t<<32-e,vf=(r,t,e)=>r<<32-e|t>>>e,Mf=(r,t,e)=>r<<64-e|t>>>e-32,Ef=(r,t,e)=>r>>>e-32|t<<64-e,Sf=(r,t)=>t,xf=(r,t)=>r,If=(r,t,e)=>r<<e|t>>>32-e,_f=(r,t,e)=>t<<e|r>>>32-e,Af=(r,t,e)=>t<<e-32|r>>>64-e,Lf=(r,t,e)=>r<<e-32|t>>>64-e;function Bf(r,t,e,n){const s=(t>>>0)+(n>>>0);return{h:r+e+(s/2**32|0)|0,l:s|0}}const Tf=(r,t,e)=>(r>>>0)+(t>>>0)+(e>>>0),Nf=(r,t,e,n)=>t+e+n+(r/2**32|0)|0,kf=(r,t,e,n)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0),Cf=(r,t,e,n,s)=>t+e+n+s+(r/2**32|0)|0,Rf=(r,t,e,n,s)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0)+(s>>>0),Df=(r,t,e,n,s,i)=>t+e+n+s+i+(r/2**32|0)|0,vt={fromBig:Nc,split:pf,toBig:wf,shrSH:mf,shrSL:yf,rotrSH:bf,rotrSL:vf,rotrBH:Mf,rotrBL:Ef,rotr32H:Sf,rotr32L:xf,rotlSH:If,rotlSL:_f,rotlBH:Af,rotlBL:Lf,add:Bf,add3L:Tf,add3H:Nf,add4L:kf,add4H:Cf,add5H:Df,add5L:Rf},[Of,jf]=vt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),Tn=new Uint32Array(80),Nn=new Uint32Array(80);class zf extends Tc{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:n,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:p,El:f,Fh:y,Fl:x,Gh:M,Gl:L,Hh:B,Hl:v}=this;return[t,e,n,s,i,o,a,c,p,f,y,x,M,L,B,v]}set(t,e,n,s,i,o,a,c,p,f,y,x,M,L,B,v){this.Ah=t|0,this.Al=e|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=p|0,this.El=f|0,this.Fh=y|0,this.Fl=x|0,this.Gh=M|0,this.Gl=L|0,this.Hh=B|0,this.Hl=v|0}process(t,e){for(let I=0;I<16;I++,e+=4)Tn[I]=t.getUint32(e),Nn[I]=t.getUint32(e+=4);for(let I=16;I<80;I++){const O=Tn[I-15]|0,P=Nn[I-15]|0,U=vt.rotrSH(O,P,1)^vt.rotrSH(O,P,8)^vt.shrSH(O,P,7),$=vt.rotrSL(O,P,1)^vt.rotrSL(O,P,8)^vt.shrSL(O,P,7),K=Tn[I-2]|0,Q=Nn[I-2]|0,dt=vt.rotrSH(K,Q,19)^vt.rotrBH(K,Q,61)^vt.shrSH(K,Q,6),nt=vt.rotrSL(K,Q,19)^vt.rotrBL(K,Q,61)^vt.shrSL(K,Q,6),rt=vt.add4L($,nt,Nn[I-7],Nn[I-16]),T=vt.add4H(rt,U,dt,Tn[I-7],Tn[I-16]);Tn[I]=T|0,Nn[I]=rt|0}let{Ah:n,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:p,Dl:f,Eh:y,El:x,Fh:M,Fl:L,Gh:B,Gl:v,Hh:k,Hl:C}=this;for(let I=0;I<80;I++){const O=vt.rotrSH(y,x,14)^vt.rotrSH(y,x,18)^vt.rotrBH(y,x,41),P=vt.rotrSL(y,x,14)^vt.rotrSL(y,x,18)^vt.rotrBL(y,x,41),U=y&M^~y&B,$=x&L^~x&v,K=vt.add5L(C,P,$,jf[I],Nn[I]),Q=vt.add5H(K,k,O,U,Of[I],Tn[I]),dt=K|0,nt=vt.rotrSH(n,s,28)^vt.rotrBH(n,s,34)^vt.rotrBH(n,s,39),rt=vt.rotrSL(n,s,28)^vt.rotrBL(n,s,34)^vt.rotrBL(n,s,39),T=n&i^n&a^i&a,u=s&o^s&c^o&c;k=B|0,C=v|0,B=M|0,v=L|0,M=y|0,L=x|0,{h:y,l:x}=vt.add(p|0,f|0,Q|0,dt|0),p=a|0,f=c|0,a=i|0,c=o|0,i=n|0,o=s|0;const g=vt.add3L(dt,rt,u);n=vt.add3H(g,Q,nt,T),s=g|0}({h:n,l:s}=vt.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:o}=vt.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=vt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:p,l:f}=vt.add(this.Dh|0,this.Dl|0,p|0,f|0),{h:y,l:x}=vt.add(this.Eh|0,this.El|0,y|0,x|0),{h:M,l:L}=vt.add(this.Fh|0,this.Fl|0,M|0,L|0),{h:B,l:v}=vt.add(this.Gh|0,this.Gl|0,B|0,v|0),{h:k,l:C}=vt.add(this.Hh|0,this.Hl|0,k|0,C|0),this.set(n,s,i,o,a,c,p,f,y,x,M,L,B,v,k,C)}roundClean(){Tn.fill(0),Nn.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Uf=Lc(()=>new zf);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zo=BigInt(0),zi=BigInt(1),Pf=BigInt(2);function tr(r){return r instanceof Uint8Array||r!=null&&typeof r=="object"&&r.constructor.name==="Uint8Array"}function Jr(r){if(!tr(r))throw new Error("Uint8Array expected")}function In(r,t){if(typeof t!="boolean")throw new Error(`${r} must be valid boolean, got "${t}".`)}const Ff=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function er(r){Jr(r);let t="";for(let e=0;e<r.length;e++)t+=Ff[r[e]];return t}function gr(r){const t=r.toString(16);return t.length&1?`0${t}`:t}function Uo(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return BigInt(r===""?"0":`0x${r}`)}const mn={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Ta(r){if(r>=mn._0&&r<=mn._9)return r-mn._0;if(r>=mn._A&&r<=mn._F)return r-(mn._A-10);if(r>=mn._a&&r<=mn._f)return r-(mn._a-10)}function Er(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);const t=r.length,e=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(e);for(let s=0,i=0;s<e;s++,i+=2){const o=Ta(r.charCodeAt(i)),a=Ta(r.charCodeAt(i+1));if(o===void 0||a===void 0){const c=r[i]+r[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[s]=o*16+a}return n}function Jn(r){return Uo(er(r))}function yr(r){return Jr(r),Uo(er(Uint8Array.from(r).reverse()))}function Sr(r,t){return Er(r.toString(16).padStart(t*2,"0"))}function Kr(r,t){return Sr(r,t).reverse()}function Wf(r){return Er(gr(r))}function be(r,t,e){let n;if(typeof t=="string")try{n=Er(t)}catch(i){throw new Error(`${r} must be valid hex string, got "${t}". Cause: ${i}`)}else if(tr(t))n=Uint8Array.from(t);else throw new Error(`${r} must be hex string or Uint8Array`);const s=n.length;if(typeof e=="number"&&s!==e)throw new Error(`${r} expected ${e} bytes, got ${s}`);return n}function nr(...r){let t=0;for(let n=0;n<r.length;n++){const s=r[n];Jr(s),t+=s.length}const e=new Uint8Array(t);for(let n=0,s=0;n<r.length;n++){const i=r[n];e.set(i,s),s+=i.length}return e}function $f(r,t){if(r.length!==t.length)return!1;let e=0;for(let n=0;n<r.length;n++)e|=r[n]^t[n];return e===0}function Kf(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}const _s=r=>typeof r=="bigint"&&zo<=r;function Ui(r,t,e){return _s(r)&&_s(t)&&_s(e)&&t<=r&&r<e}function Xe(r,t,e,n){if(!Ui(t,e,n))throw new Error(`expected valid ${r}: ${e} <= n < ${n}, got ${typeof t} ${t}`)}function kc(r){let t;for(t=0;r>zo;r>>=zi,t+=1);return t}function qf(r,t){return r>>BigInt(t)&zi}function Hf(r,t,e){return r|(e?zi:zo)<<BigInt(t)}const Po=r=>(Pf<<BigInt(r-1))-zi,As=r=>new Uint8Array(r),Na=r=>Uint8Array.from(r);function Cc(r,t,e){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof e!="function")throw new Error("hmacFn must be a function");let n=As(r),s=As(r),i=0;const o=()=>{n.fill(1),s.fill(0),i=0},a=(...y)=>e(s,n,...y),c=(y=As())=>{s=a(Na([0]),y),n=a(),y.length!==0&&(s=a(Na([1]),y),n=a())},p=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let y=0;const x=[];for(;y<t;){n=a();const M=n.slice();x.push(M),y+=n.length}return nr(...x)};return(y,x)=>{o(),c(y);let M;for(;!(M=x(p()));)c();return o(),M}}const Gf={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||tr(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,t)=>t.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function kr(r,t,e={}){const n=(s,i,o)=>{const a=Gf[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=r[s];if(!(o&&c===void 0)&&!a(c,r))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(t))n(s,i,!1);for(const[s,i]of Object.entries(e))n(s,i,!0);return r}const Yf=()=>{throw new Error("not implemented")};function qr(r){const t=new WeakMap;return(e,...n)=>{const s=t.get(e);if(s!==void 0)return s;const i=r(e,...n);return t.set(e,i),i}}const Vf=Object.freeze(Object.defineProperty({__proto__:null,aInRange:Xe,abool:In,abytes:Jr,bitGet:qf,bitLen:kc,bitMask:Po,bitSet:Hf,bytesToHex:er,bytesToNumberBE:Jn,bytesToNumberLE:yr,concatBytes:nr,createHmacDrbg:Cc,ensureBytes:be,equalBytes:$f,hexToBytes:Er,hexToNumber:Uo,inRange:Ui,isBytes:tr,memoized:qr,notImplemented:Yf,numberToBytesBE:Sr,numberToBytesLE:Kr,numberToHexUnpadded:gr,numberToVarBytesBE:Wf,utf8ToBytes:Kf,validateObject:kr},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Se=BigInt(0),Vt=BigInt(1),Kn=BigInt(2),Zf=BigInt(3),ro=BigInt(4),ka=BigInt(5),Ca=BigInt(8);BigInt(9);BigInt(16);function Gt(r,t){const e=r%t;return e>=Se?e:t+e}function Qf(r,t,e){if(e<=Se||t<Se)throw new Error("Expected power/modulo > 0");if(e===Vt)return Se;let n=Vt;for(;t>Se;)t&Vt&&(n=n*r%e),r=r*r%e,t>>=Vt;return n}function Qt(r,t,e){let n=r;for(;t-- >Se;)n*=n,n%=e;return n}function io(r,t){if(r===Se||t<=Se)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let e=Gt(r,t),n=t,s=Se,i=Vt;for(;e!==Se;){const a=n/e,c=n%e,p=s-i*a;n=e,e=c,s=i,i=p}if(n!==Vt)throw new Error("invert: does not exist");return Gt(s,t)}function Jf(r){const t=(r-Vt)/Kn;let e,n,s;for(e=r-Vt,n=0;e%Kn===Se;e/=Kn,n++);for(s=Kn;s<r&&Qf(s,t,r)!==r-Vt;s++);if(n===1){const o=(r+Vt)/ro;return function(c,p){const f=c.pow(p,o);if(!c.eql(c.sqr(f),p))throw new Error("Cannot find square root");return f}}const i=(e+Vt)/Kn;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let p=n,f=a.pow(a.mul(a.ONE,s),e),y=a.pow(c,i),x=a.pow(c,e);for(;!a.eql(x,a.ONE);){if(a.eql(x,a.ZERO))return a.ZERO;let M=1;for(let B=a.sqr(x);M<p&&!a.eql(B,a.ONE);M++)B=a.sqr(B);const L=a.pow(f,Vt<<BigInt(p-M-1));f=a.sqr(L),y=a.mul(y,L),x=a.mul(x,f),p=M}return y}}function Xf(r){if(r%ro===Zf){const t=(r+Vt)/ro;return function(n,s){const i=n.pow(s,t);if(!n.eql(n.sqr(i),s))throw new Error("Cannot find square root");return i}}if(r%Ca===ka){const t=(r-ka)/Ca;return function(n,s){const i=n.mul(s,Kn),o=n.pow(i,t),a=n.mul(s,o),c=n.mul(n.mul(a,Kn),o),p=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(p),s))throw new Error("Cannot find square root");return p}}return Jf(r)}const th=(r,t)=>(Gt(r,t)&Vt)===Vt,eh=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function nh(r){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},e=eh.reduce((n,s)=>(n[s]="function",n),t);return kr(r,e)}function rh(r,t,e){if(e<Se)throw new Error("Expected power > 0");if(e===Se)return r.ONE;if(e===Vt)return t;let n=r.ONE,s=t;for(;e>Se;)e&Vt&&(n=r.mul(n,s)),s=r.sqr(s),e>>=Vt;return n}function ih(r,t){const e=new Array(t.length),n=t.reduce((i,o,a)=>r.is0(o)?i:(e[a]=i,r.mul(i,o)),r.ONE),s=r.inv(n);return t.reduceRight((i,o,a)=>r.is0(o)?i:(e[a]=r.mul(i,e[a]),r.mul(i,o)),s),e}function Rc(r,t){const e=t!==void 0?t:r.toString(2).length,n=Math.ceil(e/8);return{nBitLength:e,nByteLength:n}}function Pi(r,t,e=!1,n={}){if(r<=Se)throw new Error(`Expected Field ORDER > 0, got ${r}`);const{nBitLength:s,nByteLength:i}=Rc(r,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=Xf(r),a=Object.freeze({ORDER:r,BITS:s,BYTES:i,MASK:Po(s),ZERO:Se,ONE:Vt,create:c=>Gt(c,r),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Se<=c&&c<r},is0:c=>c===Se,isOdd:c=>(c&Vt)===Vt,neg:c=>Gt(-c,r),eql:(c,p)=>c===p,sqr:c=>Gt(c*c,r),add:(c,p)=>Gt(c+p,r),sub:(c,p)=>Gt(c-p,r),mul:(c,p)=>Gt(c*p,r),pow:(c,p)=>rh(a,c,p),div:(c,p)=>Gt(c*io(p,r),r),sqrN:c=>c*c,addN:(c,p)=>c+p,subN:(c,p)=>c-p,mulN:(c,p)=>c*p,inv:c=>io(c,r),sqrt:n.sqrt||(c=>o(a,c)),invertBatch:c=>ih(a,c),cmov:(c,p,f)=>f?p:c,toBytes:c=>e?Kr(c,i):Sr(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return e?yr(c):Jn(c)}});return Object.freeze(a)}function Dc(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const t=r.toString(2).length;return Math.ceil(t/8)}function Oc(r){const t=Dc(r);return t+Math.ceil(t/2)}function sh(r,t,e=!1){const n=r.length,s=Dc(t),i=Oc(t);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);const o=e?Jn(r):yr(r),a=Gt(o,t-Vt)+Vt;return e?Kr(a,s):Sr(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const oh=BigInt(0),Ls=BigInt(1),Bs=new WeakMap,Ra=new WeakMap;function jc(r,t){const e=(i,o)=>{const a=o.negate();return i?a:o},n=i=>{if(!Number.isSafeInteger(i)||i<=0||i>t)throw new Error(`Wrong window size=${i}, should be [1..${t}]`)},s=i=>{n(i);const o=Math.ceil(t/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:e,unsafeLadder(i,o){let a=r.ZERO,c=i;for(;o>oh;)o&Ls&&(a=a.add(c)),c=c.double(),o>>=Ls;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),p=[];let f=i,y=f;for(let x=0;x<a;x++){y=f,p.push(y);for(let M=1;M<c;M++)y=y.add(f),p.push(y);f=y.double()}return p},wNAF(i,o,a){const{windows:c,windowSize:p}=s(i);let f=r.ZERO,y=r.BASE;const x=BigInt(2**i-1),M=2**i,L=BigInt(i);for(let B=0;B<c;B++){const v=B*p;let k=Number(a&x);a>>=L,k>p&&(k-=M,a+=Ls);const C=v,I=v+Math.abs(k)-1,O=B%2!==0,P=k<0;k===0?y=y.add(e(O,o[C])):f=f.add(e(P,o[I]))}return{p:f,f:y}},wNAFCached(i,o,a){const c=Ra.get(i)||1;let p=Bs.get(i);return p||(p=this.precomputeWindow(i,c),c!==1&&Bs.set(i,a(p))),this.wNAF(c,p,o)},setWindowSize(i,o){n(o),Ra.set(i,o),Bs.delete(i)}}}function zc(r,t,e,n){if(!Array.isArray(e)||!Array.isArray(n)||n.length!==e.length)throw new Error("arrays of points and scalars must have equal length");n.forEach((f,y)=>{if(!t.isValid(f))throw new Error(`wrong scalar at index ${y}`)}),e.forEach((f,y)=>{if(!(f instanceof r))throw new Error(`wrong point at index ${y}`)});const s=kc(BigInt(e.length)),i=s>12?s-3:s>4?s-2:s?2:1,o=(1<<i)-1,a=new Array(o+1).fill(r.ZERO),c=Math.floor((t.BITS-1)/i)*i;let p=r.ZERO;for(let f=c;f>=0;f-=i){a.fill(r.ZERO);for(let x=0;x<n.length;x++){const M=n[x],L=Number(M>>BigInt(f)&BigInt(o));a[L]=a[L].add(e[x])}let y=r.ZERO;for(let x=a.length-1,M=r.ZERO;x>0;x--)M=M.add(a[x]),y=y.add(M);if(p=p.add(y),f!==0)for(let x=0;x<i;x++)p=p.double()}return p}function Fo(r){return nh(r.Fp),kr(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Rc(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nn=BigInt(0),Pe=BigInt(1),si=BigInt(2),ah=BigInt(8),ch={zip215:!0};function uh(r){const t=Fo(r);return kr(r,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function lh(r){const t=uh(r),{Fp:e,n,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=t,p=si<<BigInt(a*8)-Pe,f=e.create,y=Pi(t.n,t.nBitLength),x=t.uvRatio||((w,m)=>{try{return{isValid:!0,value:e.sqrt(w*e.inv(m))}}catch{return{isValid:!1,value:nn}}}),M=t.adjustScalarBytes||(w=>w),L=t.domain||((w,m,E)=>{if(In("phflag",E),m.length||E)throw new Error("Contexts/pre-hash are not supported");return w});function B(w,m){Xe("coordinate "+w,m,nn,p)}function v(w){if(!(w instanceof I))throw new Error("ExtendedPoint expected")}const k=qr((w,m)=>{const{ex:E,ey:N,ez:R}=w,S=w.is0();m==null&&(m=S?ah:e.inv(R));const d=f(E*m),A=f(N*m),H=f(R*m);if(S)return{x:nn,y:Pe};if(H!==Pe)throw new Error("invZ was invalid");return{x:d,y:A}}),C=qr(w=>{const{a:m,d:E}=t;if(w.is0())throw new Error("bad point: ZERO");const{ex:N,ey:R,ez:S,et:d}=w,A=f(N*N),H=f(R*R),Y=f(S*S),tt=f(Y*Y),St=f(A*m),ft=f(Y*f(St+H)),pt=f(tt+f(E*f(A*H)));if(ft!==pt)throw new Error("bad point: equation left != right (1)");const Xt=f(N*R),ht=f(S*d);if(Xt!==ht)throw new Error("bad point: equation left != right (2)");return!0});class I{constructor(m,E,N,R){this.ex=m,this.ey=E,this.ez=N,this.et=R,B("x",m),B("y",E),B("z",N),B("t",R),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(m){if(m instanceof I)throw new Error("extended point not allowed");const{x:E,y:N}=m||{};return B("x",E),B("y",N),new I(E,N,Pe,f(E*N))}static normalizeZ(m){const E=e.invertBatch(m.map(N=>N.ez));return m.map((N,R)=>N.toAffine(E[R])).map(I.fromAffine)}static msm(m,E){return zc(I,y,m,E)}_setWindowSize(m){U.setWindowSize(this,m)}assertValidity(){C(this)}equals(m){v(m);const{ex:E,ey:N,ez:R}=this,{ex:S,ey:d,ez:A}=m,H=f(E*A),Y=f(S*R),tt=f(N*A),St=f(d*R);return H===Y&&tt===St}is0(){return this.equals(I.ZERO)}negate(){return new I(f(-this.ex),this.ey,this.ez,f(-this.et))}double(){const{a:m}=t,{ex:E,ey:N,ez:R}=this,S=f(E*E),d=f(N*N),A=f(si*f(R*R)),H=f(m*S),Y=E+N,tt=f(f(Y*Y)-S-d),St=H+d,ft=St-A,pt=H-d,Xt=f(tt*ft),ht=f(St*pt),Et=f(tt*pt),je=f(ft*St);return new I(Xt,ht,je,Et)}add(m){v(m);const{a:E,d:N}=t,{ex:R,ey:S,ez:d,et:A}=this,{ex:H,ey:Y,ez:tt,et:St}=m;if(E===BigInt(-1)){const Ot=f((S-R)*(Y+H)),Pt=f((S+R)*(Y-H)),Bn=f(Pt-Ot);if(Bn===nn)return this.double();const zt=f(d*si*St),Rt=f(A*si*tt),Te=Rt+zt,jt=Pt+Ot,Ft=Rt-zt,$e=f(Te*Bn),qt=f(jt*Ft),b=f(Te*Ft),l=f(Bn*jt);return new I($e,qt,l,b)}const ft=f(R*H),pt=f(S*Y),Xt=f(A*N*St),ht=f(d*tt),Et=f((R+S)*(H+Y)-ft-pt),je=ht-Xt,kt=ht+Xt,Bt=f(pt-E*ft),en=f(Et*je),Ct=f(kt*Bt),Kt=f(Et*Bt),cr=f(je*kt);return new I(en,Ct,cr,Kt)}subtract(m){return this.add(m.negate())}wNAF(m){return U.wNAFCached(this,m,I.normalizeZ)}multiply(m){const E=m;Xe("scalar",E,Pe,n);const{p:N,f:R}=this.wNAF(E);return I.normalizeZ([N,R])[0]}multiplyUnsafe(m){const E=m;return Xe("scalar",E,nn,n),E===nn?P:this.equals(P)||E===Pe?this:this.equals(O)?this.wNAF(E).p:U.unsafeLadder(this,E)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return U.unsafeLadder(this,n).is0()}toAffine(m){return k(this,m)}clearCofactor(){const{h:m}=t;return m===Pe?this:this.multiplyUnsafe(m)}static fromHex(m,E=!1){const{d:N,a:R}=t,S=e.BYTES;m=be("pointHex",m,S),In("zip215",E);const d=m.slice(),A=m[S-1];d[S-1]=A&-129;const H=yr(d),Y=E?p:e.ORDER;Xe("pointHex.y",H,nn,Y);const tt=f(H*H),St=f(tt-Pe),ft=f(N*tt-R);let{isValid:pt,value:Xt}=x(St,ft);if(!pt)throw new Error("Point.fromHex: invalid y coordinate");const ht=(Xt&Pe)===Pe,Et=(A&128)!==0;if(!E&&Xt===nn&&Et)throw new Error("Point.fromHex: x=0 and x_0=1");return Et!==ht&&(Xt=f(-Xt)),I.fromAffine({x:Xt,y:H})}static fromPrivateKey(m){return Q(m).point}toRawBytes(){const{x:m,y:E}=this.toAffine(),N=Kr(E,e.BYTES);return N[N.length-1]|=m&Pe?128:0,N}toHex(){return er(this.toRawBytes())}}I.BASE=new I(t.Gx,t.Gy,Pe,f(t.Gx*t.Gy)),I.ZERO=new I(nn,Pe,Pe,nn);const{BASE:O,ZERO:P}=I,U=jc(I,a*8);function $(w){return Gt(w,n)}function K(w){return $(yr(w))}function Q(w){const m=a;w=be("private key",w,m);const E=be("hashed private key",i(w),2*m),N=M(E.slice(0,m)),R=E.slice(m,2*m),S=K(N),d=O.multiply(S),A=d.toRawBytes();return{head:N,prefix:R,scalar:S,point:d,pointBytes:A}}function dt(w){return Q(w).pointBytes}function nt(w=new Uint8Array,...m){const E=nr(...m);return K(i(L(E,be("context",w),!!s)))}function rt(w,m,E={}){w=be("message",w),s&&(w=s(w));const{prefix:N,scalar:R,pointBytes:S}=Q(m),d=nt(E.context,N,w),A=O.multiply(d).toRawBytes(),H=nt(E.context,A,S,w),Y=$(d+H*R);Xe("signature.s",Y,nn,n);const tt=nr(A,Kr(Y,e.BYTES));return be("result",tt,a*2)}const T=ch;function u(w,m,E,N=T){const{context:R,zip215:S}=N,d=e.BYTES;w=be("signature",w,2*d),m=be("message",m),S!==void 0&&In("zip215",S),s&&(m=s(m));const A=yr(w.slice(d,2*d));let H,Y,tt;try{H=I.fromHex(E,S),Y=I.fromHex(w.slice(0,d),S),tt=O.multiplyUnsafe(A)}catch{return!1}if(!S&&H.isSmallOrder())return!1;const St=nt(R,Y.toRawBytes(),H.toRawBytes(),m);return Y.add(H.multiplyUnsafe(St)).subtract(tt).clearCofactor().equals(I.ZERO)}return O._setWindowSize(8),{CURVE:t,getPublicKey:dt,sign:rt,verify:u,ExtendedPoint:I,utils:{getExtendedPublicKey:Q,randomPrivateKey:()=>o(e.BYTES),precompute(w=8,m=I.BASE){return m._setWindowSize(w),m.multiply(BigInt(3)),m}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Wo=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Da=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const fh=BigInt(1),Oa=BigInt(2);BigInt(3);const hh=BigInt(5),dh=BigInt(8);function gh(r){const t=BigInt(10),e=BigInt(20),n=BigInt(40),s=BigInt(80),i=Wo,a=r*r%i*r%i,c=Qt(a,Oa,i)*a%i,p=Qt(c,fh,i)*r%i,f=Qt(p,hh,i)*p%i,y=Qt(f,t,i)*f%i,x=Qt(y,e,i)*y%i,M=Qt(x,n,i)*x%i,L=Qt(M,s,i)*M%i,B=Qt(L,s,i)*M%i,v=Qt(B,t,i)*f%i;return{pow_p_5_8:Qt(v,Oa,i)*r%i,b2:a}}function ph(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}function wh(r,t){const e=Wo,n=Gt(t*t*t,e),s=Gt(n*n*t,e),i=gh(r*s).pow_p_5_8;let o=Gt(r*n*i,e);const a=Gt(t*o*o,e),c=o,p=Gt(o*Da,e),f=a===r,y=a===Gt(-r,e),x=a===Gt(-r*Da,e);return f&&(o=c),(y||x)&&(o=p),th(o,e)&&(o=Gt(-o,e)),{isValid:f||y,value:o}}const mh=Pi(Wo,void 0,!0),yh={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:mh,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:dh,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Uf,randomBytes:Bc,adjustScalarBytes:ph,uvRatio:wh},$o=lh(yh);var Ko={exports:{}};const qo=Do(of);Ko.exports;(function(r){(function(t,e){function n(T,u){if(!T)throw new Error(u||"Assertion failed")}function s(T,u){T.super_=u;var g=function(){};g.prototype=u.prototype,T.prototype=new g,T.prototype.constructor=T}function i(T,u,g){if(i.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&((u==="le"||u==="be")&&(g=u,u=10),this._init(T||0,u||10,g||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=qo.Buffer}catch{}i.isBN=function(u){return u instanceof i?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===i.wordSize&&Array.isArray(u.words)},i.max=function(u,g){return u.cmp(g)>0?u:g},i.min=function(u,g){return u.cmp(g)<0?u:g},i.prototype._init=function(u,g,w){if(typeof u=="number")return this._initNumber(u,g,w);if(typeof u=="object")return this._initArray(u,g,w);g==="hex"&&(g=16),n(g===(g|0)&&g>=2&&g<=36),u=u.toString().replace(/\s+/g,"");var m=0;u[0]==="-"&&(m++,this.negative=1),m<u.length&&(g===16?this._parseHex(u,m,w):(this._parseBase(u,g,m),w==="le"&&this._initArray(this.toArray(),g,w)))},i.prototype._initNumber=function(u,g,w){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(n(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),w==="le"&&this._initArray(this.toArray(),g,w)},i.prototype._initArray=function(u,g,w){if(n(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var E,N,R=0;if(w==="be")for(m=u.length-1,E=0;m>=0;m-=3)N=u[m]|u[m-1]<<8|u[m-2]<<16,this.words[E]|=N<<R&67108863,this.words[E+1]=N>>>26-R&67108863,R+=24,R>=26&&(R-=26,E++);else if(w==="le")for(m=0,E=0;m<u.length;m+=3)N=u[m]|u[m+1]<<8|u[m+2]<<16,this.words[E]|=N<<R&67108863,this.words[E+1]=N>>>26-R&67108863,R+=24,R>=26&&(R-=26,E++);return this._strip()};function a(T,u){var g=T.charCodeAt(u);if(g>=48&&g<=57)return g-48;if(g>=65&&g<=70)return g-55;if(g>=97&&g<=102)return g-87;n(!1,"Invalid character in "+T)}function c(T,u,g){var w=a(T,g);return g-1>=u&&(w|=a(T,g-1)<<4),w}i.prototype._parseHex=function(u,g,w){this.length=Math.ceil((u.length-g)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var E=0,N=0,R;if(w==="be")for(m=u.length-1;m>=g;m-=2)R=c(u,g,m)<<E,this.words[N]|=R&67108863,E>=18?(E-=18,N+=1,this.words[N]|=R>>>26):E+=8;else{var S=u.length-g;for(m=S%2===0?g+1:g;m<u.length;m+=2)R=c(u,g,m)<<E,this.words[N]|=R&67108863,E>=18?(E-=18,N+=1,this.words[N]|=R>>>26):E+=8}this._strip()};function p(T,u,g,w){for(var m=0,E=0,N=Math.min(T.length,g),R=u;R<N;R++){var S=T.charCodeAt(R)-48;m*=w,S>=49?E=S-49+10:S>=17?E=S-17+10:E=S,n(S>=0&&E<w,"Invalid character"),m+=E}return m}i.prototype._parseBase=function(u,g,w){this.words=[0],this.length=1;for(var m=0,E=1;E<=67108863;E*=g)m++;m--,E=E/g|0;for(var N=u.length-w,R=N%m,S=Math.min(N,N-R)+w,d=0,A=w;A<S;A+=m)d=p(u,A,A+m,g),this.imuln(E),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(R!==0){var H=1;for(d=p(u,A,u.length,g),A=0;A<R;A++)H*=g;this.imuln(H),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this._strip()},i.prototype.copy=function(u){u.words=new Array(this.length);for(var g=0;g<this.length;g++)u.words[g]=this.words[g];u.length=this.length,u.negative=this.negative,u.red=this.red};function f(T,u){T.words=u.words,T.length=u.length,T.negative=u.negative,T.red=u.red}if(i.prototype._move=function(u){f(u,this)},i.prototype.clone=function(){var u=new i(null);return this.copy(u),u},i.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{i.prototype.inspect=y}else i.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],M=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],L=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(u,g){u=u||10,g=g|0||1;var w;if(u===16||u==="hex"){w="";for(var m=0,E=0,N=0;N<this.length;N++){var R=this.words[N],S=((R<<m|E)&16777215).toString(16);E=R>>>24-m&16777215,m+=2,m>=26&&(m-=26,N--),E!==0||N!==this.length-1?w=x[6-S.length]+S+w:w=S+w}for(E!==0&&(w=E.toString(16)+w);w.length%g!==0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}if(u===(u|0)&&u>=2&&u<=36){var d=M[u],A=L[u];w="";var H=this.clone();for(H.negative=0;!H.isZero();){var Y=H.modrn(A).toString(u);H=H.idivn(A),H.isZero()?w=Y+w:w=x[d-Y.length]+Y+w}for(this.isZero()&&(w="0"+w);w.length%g!==0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(u,g){return this.toArrayLike(o,u,g)}),i.prototype.toArray=function(u,g){return this.toArrayLike(Array,u,g)};var B=function(u,g){return u.allocUnsafe?u.allocUnsafe(g):new u(g)};i.prototype.toArrayLike=function(u,g,w){this._strip();var m=this.byteLength(),E=w||Math.max(1,m);n(m<=E,"byte array longer than desired length"),n(E>0,"Requested array length <= 0");var N=B(u,E),R=g==="le"?"LE":"BE";return this["_toArrayLike"+R](N,m),N},i.prototype._toArrayLikeLE=function(u,g){for(var w=0,m=0,E=0,N=0;E<this.length;E++){var R=this.words[E]<<N|m;u[w++]=R&255,w<u.length&&(u[w++]=R>>8&255),w<u.length&&(u[w++]=R>>16&255),N===6?(w<u.length&&(u[w++]=R>>24&255),m=0,N=0):(m=R>>>24,N+=2)}if(w<u.length)for(u[w++]=m;w<u.length;)u[w++]=0},i.prototype._toArrayLikeBE=function(u,g){for(var w=u.length-1,m=0,E=0,N=0;E<this.length;E++){var R=this.words[E]<<N|m;u[w--]=R&255,w>=0&&(u[w--]=R>>8&255),w>=0&&(u[w--]=R>>16&255),N===6?(w>=0&&(u[w--]=R>>24&255),m=0,N=0):(m=R>>>24,N+=2)}if(w>=0)for(u[w--]=m;w>=0;)u[w--]=0},Math.clz32?i.prototype._countBits=function(u){return 32-Math.clz32(u)}:i.prototype._countBits=function(u){var g=u,w=0;return g>=4096&&(w+=13,g>>>=13),g>=64&&(w+=7,g>>>=7),g>=8&&(w+=4,g>>>=4),g>=2&&(w+=2,g>>>=2),w+g},i.prototype._zeroBits=function(u){if(u===0)return 26;var g=u,w=0;return g&8191||(w+=13,g>>>=13),g&127||(w+=7,g>>>=7),g&15||(w+=4,g>>>=4),g&3||(w+=2,g>>>=2),g&1||w++,w},i.prototype.bitLength=function(){var u=this.words[this.length-1],g=this._countBits(u);return(this.length-1)*26+g};function v(T){for(var u=new Array(T.bitLength()),g=0;g<u.length;g++){var w=g/26|0,m=g%26;u[g]=T.words[w]>>>m&1}return u}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,g=0;g<this.length;g++){var w=this._zeroBits(this.words[g]);if(u+=w,w!==26)break}return u},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},i.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var g=0;g<u.length;g++)this.words[g]=this.words[g]|u.words[g];return this._strip()},i.prototype.ior=function(u){return n((this.negative|u.negative)===0),this.iuor(u)},i.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},i.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},i.prototype.iuand=function(u){var g;this.length>u.length?g=u:g=this;for(var w=0;w<g.length;w++)this.words[w]=this.words[w]&u.words[w];return this.length=g.length,this._strip()},i.prototype.iand=function(u){return n((this.negative|u.negative)===0),this.iuand(u)},i.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},i.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},i.prototype.iuxor=function(u){var g,w;this.length>u.length?(g=this,w=u):(g=u,w=this);for(var m=0;m<w.length;m++)this.words[m]=g.words[m]^w.words[m];if(this!==g)for(;m<g.length;m++)this.words[m]=g.words[m];return this.length=g.length,this._strip()},i.prototype.ixor=function(u){return n((this.negative|u.negative)===0),this.iuxor(u)},i.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},i.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},i.prototype.inotn=function(u){n(typeof u=="number"&&u>=0);var g=Math.ceil(u/26)|0,w=u%26;this._expand(g),w>0&&g--;for(var m=0;m<g;m++)this.words[m]=~this.words[m]&67108863;return w>0&&(this.words[m]=~this.words[m]&67108863>>26-w),this._strip()},i.prototype.notn=function(u){return this.clone().inotn(u)},i.prototype.setn=function(u,g){n(typeof u=="number"&&u>=0);var w=u/26|0,m=u%26;return this._expand(w+1),g?this.words[w]=this.words[w]|1<<m:this.words[w]=this.words[w]&~(1<<m),this._strip()},i.prototype.iadd=function(u){var g;if(this.negative!==0&&u.negative===0)return this.negative=0,g=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,g=this.isub(u),u.negative=1,g._normSign();var w,m;this.length>u.length?(w=this,m=u):(w=u,m=this);for(var E=0,N=0;N<m.length;N++)g=(w.words[N]|0)+(m.words[N]|0)+E,this.words[N]=g&67108863,E=g>>>26;for(;E!==0&&N<w.length;N++)g=(w.words[N]|0)+E,this.words[N]=g&67108863,E=g>>>26;if(this.length=w.length,E!==0)this.words[this.length]=E,this.length++;else if(w!==this)for(;N<w.length;N++)this.words[N]=w.words[N];return this},i.prototype.add=function(u){var g;return u.negative!==0&&this.negative===0?(u.negative=0,g=this.sub(u),u.negative^=1,g):u.negative===0&&this.negative!==0?(this.negative=0,g=u.sub(this),this.negative=1,g):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},i.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var g=this.iadd(u);return u.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var w=this.cmp(u);if(w===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,E;w>0?(m=this,E=u):(m=u,E=this);for(var N=0,R=0;R<E.length;R++)g=(m.words[R]|0)-(E.words[R]|0)+N,N=g>>26,this.words[R]=g&67108863;for(;N!==0&&R<m.length;R++)g=(m.words[R]|0)+N,N=g>>26,this.words[R]=g&67108863;if(N===0&&R<m.length&&m!==this)for(;R<m.length;R++)this.words[R]=m.words[R];return this.length=Math.max(this.length,R),m!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(u){return this.clone().isub(u)};function k(T,u,g){g.negative=u.negative^T.negative;var w=T.length+u.length|0;g.length=w,w=w-1|0;var m=T.words[0]|0,E=u.words[0]|0,N=m*E,R=N&67108863,S=N/67108864|0;g.words[0]=R;for(var d=1;d<w;d++){for(var A=S>>>26,H=S&67108863,Y=Math.min(d,u.length-1),tt=Math.max(0,d-T.length+1);tt<=Y;tt++){var St=d-tt|0;m=T.words[St]|0,E=u.words[tt]|0,N=m*E+H,A+=N/67108864|0,H=N&67108863}g.words[d]=H|0,S=A|0}return S!==0?g.words[d]=S|0:g.length--,g._strip()}var C=function(u,g,w){var m=u.words,E=g.words,N=w.words,R=0,S,d,A,H=m[0]|0,Y=H&8191,tt=H>>>13,St=m[1]|0,ft=St&8191,pt=St>>>13,Xt=m[2]|0,ht=Xt&8191,Et=Xt>>>13,je=m[3]|0,kt=je&8191,Bt=je>>>13,en=m[4]|0,Ct=en&8191,Kt=en>>>13,cr=m[5]|0,Ot=cr&8191,Pt=cr>>>13,Bn=m[6]|0,zt=Bn&8191,Rt=Bn>>>13,Te=m[7]|0,jt=Te&8191,Ft=Te>>>13,$e=m[8]|0,qt=$e&8191,b=$e>>>13,l=m[9]|0,h=l&8191,_=l>>>13,D=E[0]|0,j=D&8191,W=D>>>13,bt=E[1]|0,wt=bt&8191,gt=bt>>>13,Wt=E[2]|0,lt=Wt&8191,ee=Wt>>>13,Ea=E[3]|0,ne=Ea&8191,re=Ea>>>13,Sa=E[4]|0,ie=Sa&8191,se=Sa>>>13,xa=E[5]|0,oe=xa&8191,ae=xa>>>13,Ia=E[6]|0,ce=Ia&8191,ue=Ia>>>13,_a=E[7]|0,le=_a&8191,fe=_a>>>13,Aa=E[8]|0,he=Aa&8191,de=Aa>>>13,La=E[9]|0,ge=La&8191,pe=La>>>13;w.negative=u.negative^g.negative,w.length=19,S=Math.imul(Y,j),d=Math.imul(Y,W),d=d+Math.imul(tt,j)|0,A=Math.imul(tt,W);var ss=(R+S|0)+((d&8191)<<13)|0;R=(A+(d>>>13)|0)+(ss>>>26)|0,ss&=67108863,S=Math.imul(ft,j),d=Math.imul(ft,W),d=d+Math.imul(pt,j)|0,A=Math.imul(pt,W),S=S+Math.imul(Y,wt)|0,d=d+Math.imul(Y,gt)|0,d=d+Math.imul(tt,wt)|0,A=A+Math.imul(tt,gt)|0;var os=(R+S|0)+((d&8191)<<13)|0;R=(A+(d>>>13)|0)+(os>>>26)|0,os&=67108863,S=Math.imul(ht,j),d=Math.imul(ht,W),d=d+Math.imul(Et,j)|0,A=Math.imul(Et,W),S=S+Math.imul(ft,wt)|0,d=d+Math.imul(ft,gt)|0,d=d+Math.imul(pt,wt)|0,A=A+Math.imul(pt,gt)|0,S=S+Math.imul(Y,lt)|0,d=d+Math.imul(Y,ee)|0,d=d+Math.imul(tt,lt)|0,A=A+Math.imul(tt,ee)|0;var as=(R+S|0)+((d&8191)<<13)|0;R=(A+(d>>>13)|0)+(as>>>26)|0,as&=67108863,S=Math.imul(kt,j),d=Math.imul(kt,W),d=d+Math.imul(Bt,j)|0,A=Math.imul(Bt,W),S=S+Math.imul(ht,wt)|0,d=d+Math.imul(ht,gt)|0,d=d+Math.imul(Et,wt)|0,A=A+Math.imul(Et,gt)|0,S=S+Math.imul(ft,lt)|0,d=d+Math.imul(ft,ee)|0,d=d+Math.imul(pt,lt)|0,A=A+Math.imul(pt,ee)|0,S=S+Math.imul(Y,ne)|0,d=d+Math.imul(Y,re)|0,d=d+Math.imul(tt,ne)|0,A=A+Math.imul(tt,re)|0;var cs=(R+S|0)+((d&8191)<<13)|0;R=(A+(d>>>13)|0)+(cs>>>26)|0,cs&=67108863,S=Math.imul(Ct,j),d=Math.imul(Ct,W),d=d+Math.imul(Kt,j)|0,A=Math.imul(Kt,W),S=S+Math.imul(kt,wt)|0,d=d+Math.imul(kt,gt)|0,d=d+Math.imul(Bt,wt)|0,A=A+Math.imul(Bt,gt)|0,S=S+Math.imul(ht,lt)|0,d=d+Math.imul(ht,ee)|0,d=d+Math.imul(Et,lt)|0,A=A+Math.imul(Et,ee)|0,S=S+Math.imul(ft,ne)|0,d=d+Math.imul(ft,re)|0,d=d+Math.imul(pt,ne)|0,A=A+Math.imul(pt,re)|0,S=S+Math.imul(Y,ie)|0,d=d+Math.imul(Y,se)|0,d=d+Math.imul(tt,ie)|0,A=A+Math.imul(tt,se)|0;var us=(R+S|0)+((d&8191)<<13)|0;R=(A+(d>>>13)|0)+(us>>>26)|0,us&=67108863,S=Math.imul(Ot,j),d=Math.imul(Ot,W),d=d+Math.imul(Pt,j)|0,A=Math.imul(Pt,W),S=S+Math.imul(Ct,wt)|0,d=d+Math.imul(Ct,gt)|0,d=d+Math.imul(Kt,wt)|0,A=A+Math.imul(Kt,gt)|0,S=S+Math.imul(kt,lt)|0,d=d+Math.imul(kt,ee)|0,d=d+Math.imul(Bt,lt)|0,A=A+Math.imul(Bt,ee)|0,S=S+Math.imul(ht,ne)|0,d=d+Math.imul(ht,re)|0,d=d+Math.imul(Et,ne)|0,A=A+Math.imul(Et,re)|0,S=S+Math.imul(ft,ie)|0,d=d+Math.imul(ft,se)|0,d=d+Math.imul(pt,ie)|0,A=A+Math.imul(pt,se)|0,S=S+Math.imul(Y,oe)|0,d=d+Math.imul(Y,ae)|0,d=d+Math.imul(tt,oe)|0,A=A+Math.imul(tt,ae)|0;var ls=(R+S|0)+((d&8191)<<13)|0;R=(A+(d>>>13)|0)+(ls>>>26)|0,ls&=67108863,S=Math.imul(zt,j),d=Math.imul(zt,W),d=d+Math.imul(Rt,j)|0,A=Math.imul(Rt,W),S=S+Math.imul(Ot,wt)|0,d=d+Math.imul(Ot,gt)|0,d=d+Math.imul(Pt,wt)|0,A=A+Math.imul(Pt,gt)|0,S=S+Math.imul(Ct,lt)|0,d=d+Math.imul(Ct,ee)|0,d=d+Math.imul(Kt,lt)|0,A=A+Math.imul(Kt,ee)|0,S=S+Math.imul(kt,ne)|0,d=d+Math.imul(kt,re)|0,d=d+Math.imul(Bt,ne)|0,A=A+Math.imul(Bt,re)|0,S=S+Math.imul(ht,ie)|0,d=d+Math.imul(ht,se)|0,d=d+Math.imul(Et,ie)|0,A=A+Math.imul(Et,se)|0,S=S+Math.imul(ft,oe)|0,d=d+Math.imul(ft,ae)|0,d=d+Math.imul(pt,oe)|0,A=A+Math.imul(pt,ae)|0,S=S+Math.imul(Y,ce)|0,d=d+Math.imul(Y,ue)|0,d=d+Math.imul(tt,ce)|0,A=A+Math.imul(tt,ue)|0;var fs=(R+S|0)+((d&8191)<<13)|0;R=(A+(d>>>13)|0)+(fs>>>26)|0,fs&=67108863,S=Math.imul(jt,j),d=Math.imul(jt,W),d=d+Math.imul(Ft,j)|0,A=Math.imul(Ft,W),S=S+Math.imul(zt,wt)|0,d=d+Math.imul(zt,gt)|0,d=d+Math.imul(Rt,wt)|0,A=A+Math.imul(Rt,gt)|0,S=S+Math.imul(Ot,lt)|0,d=d+Math.imul(Ot,ee)|0,d=d+Math.imul(Pt,lt)|0,A=A+Math.imul(Pt,ee)|0,S=S+Math.imul(Ct,ne)|0,d=d+Math.imul(Ct,re)|0,d=d+Math.imul(Kt,ne)|0,A=A+Math.imul(Kt,re)|0,S=S+Math.imul(kt,ie)|0,d=d+Math.imul(kt,se)|0,d=d+Math.imul(Bt,ie)|0,A=A+Math.imul(Bt,se)|0,S=S+Math.imul(ht,oe)|0,d=d+Math.imul(ht,ae)|0,d=d+Math.imul(Et,oe)|0,A=A+Math.imul(Et,ae)|0,S=S+Math.imul(ft,ce)|0,d=d+Math.imul(ft,ue)|0,d=d+Math.imul(pt,ce)|0,A=A+Math.imul(pt,ue)|0,S=S+Math.imul(Y,le)|0,d=d+Math.imul(Y,fe)|0,d=d+Math.imul(tt,le)|0,A=A+Math.imul(tt,fe)|0;var hs=(R+S|0)+((d&8191)<<13)|0;R=(A+(d>>>13)|0)+(hs>>>26)|0,hs&=67108863,S=Math.imul(qt,j),d=Math.imul(qt,W),d=d+Math.imul(b,j)|0,A=Math.imul(b,W),S=S+Math.imul(jt,wt)|0,d=d+Math.imul(jt,gt)|0,d=d+Math.imul(Ft,wt)|0,A=A+Math.imul(Ft,gt)|0,S=S+Math.imul(zt,lt)|0,d=d+Math.imul(zt,ee)|0,d=d+Math.imul(Rt,lt)|0,A=A+Math.imul(Rt,ee)|0,S=S+Math.imul(Ot,ne)|0,d=d+Math.imul(Ot,re)|0,d=d+Math.imul(Pt,ne)|0,A=A+Math.imul(Pt,re)|0,S=S+Math.imul(Ct,ie)|0,d=d+Math.imul(Ct,se)|0,d=d+Math.imul(Kt,ie)|0,A=A+Math.imul(Kt,se)|0,S=S+Math.imul(kt,oe)|0,d=d+Math.imul(kt,ae)|0,d=d+Math.imul(Bt,oe)|0,A=A+Math.imul(Bt,ae)|0,S=S+Math.imul(ht,ce)|0,d=d+Math.imul(ht,ue)|0,d=d+Math.imul(Et,ce)|0,A=A+Math.imul(Et,ue)|0,S=S+Math.imul(ft,le)|0,d=d+Math.imul(ft,fe)|0,d=d+Math.imul(pt,le)|0,A=A+Math.imul(pt,fe)|0,S=S+Math.imul(Y,he)|0,d=d+Math.imul(Y,de)|0,d=d+Math.imul(tt,he)|0,A=A+Math.imul(tt,de)|0;var ds=(R+S|0)+((d&8191)<<13)|0;R=(A+(d>>>13)|0)+(ds>>>26)|0,ds&=67108863,S=Math.imul(h,j),d=Math.imul(h,W),d=d+Math.imul(_,j)|0,A=Math.imul(_,W),S=S+Math.imul(qt,wt)|0,d=d+Math.imul(qt,gt)|0,d=d+Math.imul(b,wt)|0,A=A+Math.imul(b,gt)|0,S=S+Math.imul(jt,lt)|0,d=d+Math.imul(jt,ee)|0,d=d+Math.imul(Ft,lt)|0,A=A+Math.imul(Ft,ee)|0,S=S+Math.imul(zt,ne)|0,d=d+Math.imul(zt,re)|0,d=d+Math.imul(Rt,ne)|0,A=A+Math.imul(Rt,re)|0,S=S+Math.imul(Ot,ie)|0,d=d+Math.imul(Ot,se)|0,d=d+Math.imul(Pt,ie)|0,A=A+Math.imul(Pt,se)|0,S=S+Math.imul(Ct,oe)|0,d=d+Math.imul(Ct,ae)|0,d=d+Math.imul(Kt,oe)|0,A=A+Math.imul(Kt,ae)|0,S=S+Math.imul(kt,ce)|0,d=d+Math.imul(kt,ue)|0,d=d+Math.imul(Bt,ce)|0,A=A+Math.imul(Bt,ue)|0,S=S+Math.imul(ht,le)|0,d=d+Math.imul(ht,fe)|0,d=d+Math.imul(Et,le)|0,A=A+Math.imul(Et,fe)|0,S=S+Math.imul(ft,he)|0,d=d+Math.imul(ft,de)|0,d=d+Math.imul(pt,he)|0,A=A+Math.imul(pt,de)|0,S=S+Math.imul(Y,ge)|0,d=d+Math.imul(Y,pe)|0,d=d+Math.imul(tt,ge)|0,A=A+Math.imul(tt,pe)|0;var gs=(R+S|0)+((d&8191)<<13)|0;R=(A+(d>>>13)|0)+(gs>>>26)|0,gs&=67108863,S=Math.imul(h,wt),d=Math.imul(h,gt),d=d+Math.imul(_,wt)|0,A=Math.imul(_,gt),S=S+Math.imul(qt,lt)|0,d=d+Math.imul(qt,ee)|0,d=d+Math.imul(b,lt)|0,A=A+Math.imul(b,ee)|0,S=S+Math.imul(jt,ne)|0,d=d+Math.imul(jt,re)|0,d=d+Math.imul(Ft,ne)|0,A=A+Math.imul(Ft,re)|0,S=S+Math.imul(zt,ie)|0,d=d+Math.imul(zt,se)|0,d=d+Math.imul(Rt,ie)|0,A=A+Math.imul(Rt,se)|0,S=S+Math.imul(Ot,oe)|0,d=d+Math.imul(Ot,ae)|0,d=d+Math.imul(Pt,oe)|0,A=A+Math.imul(Pt,ae)|0,S=S+Math.imul(Ct,ce)|0,d=d+Math.imul(Ct,ue)|0,d=d+Math.imul(Kt,ce)|0,A=A+Math.imul(Kt,ue)|0,S=S+Math.imul(kt,le)|0,d=d+Math.imul(kt,fe)|0,d=d+Math.imul(Bt,le)|0,A=A+Math.imul(Bt,fe)|0,S=S+Math.imul(ht,he)|0,d=d+Math.imul(ht,de)|0,d=d+Math.imul(Et,he)|0,A=A+Math.imul(Et,de)|0,S=S+Math.imul(ft,ge)|0,d=d+Math.imul(ft,pe)|0,d=d+Math.imul(pt,ge)|0,A=A+Math.imul(pt,pe)|0;var ps=(R+S|0)+((d&8191)<<13)|0;R=(A+(d>>>13)|0)+(ps>>>26)|0,ps&=67108863,S=Math.imul(h,lt),d=Math.imul(h,ee),d=d+Math.imul(_,lt)|0,A=Math.imul(_,ee),S=S+Math.imul(qt,ne)|0,d=d+Math.imul(qt,re)|0,d=d+Math.imul(b,ne)|0,A=A+Math.imul(b,re)|0,S=S+Math.imul(jt,ie)|0,d=d+Math.imul(jt,se)|0,d=d+Math.imul(Ft,ie)|0,A=A+Math.imul(Ft,se)|0,S=S+Math.imul(zt,oe)|0,d=d+Math.imul(zt,ae)|0,d=d+Math.imul(Rt,oe)|0,A=A+Math.imul(Rt,ae)|0,S=S+Math.imul(Ot,ce)|0,d=d+Math.imul(Ot,ue)|0,d=d+Math.imul(Pt,ce)|0,A=A+Math.imul(Pt,ue)|0,S=S+Math.imul(Ct,le)|0,d=d+Math.imul(Ct,fe)|0,d=d+Math.imul(Kt,le)|0,A=A+Math.imul(Kt,fe)|0,S=S+Math.imul(kt,he)|0,d=d+Math.imul(kt,de)|0,d=d+Math.imul(Bt,he)|0,A=A+Math.imul(Bt,de)|0,S=S+Math.imul(ht,ge)|0,d=d+Math.imul(ht,pe)|0,d=d+Math.imul(Et,ge)|0,A=A+Math.imul(Et,pe)|0;var ws=(R+S|0)+((d&8191)<<13)|0;R=(A+(d>>>13)|0)+(ws>>>26)|0,ws&=67108863,S=Math.imul(h,ne),d=Math.imul(h,re),d=d+Math.imul(_,ne)|0,A=Math.imul(_,re),S=S+Math.imul(qt,ie)|0,d=d+Math.imul(qt,se)|0,d=d+Math.imul(b,ie)|0,A=A+Math.imul(b,se)|0,S=S+Math.imul(jt,oe)|0,d=d+Math.imul(jt,ae)|0,d=d+Math.imul(Ft,oe)|0,A=A+Math.imul(Ft,ae)|0,S=S+Math.imul(zt,ce)|0,d=d+Math.imul(zt,ue)|0,d=d+Math.imul(Rt,ce)|0,A=A+Math.imul(Rt,ue)|0,S=S+Math.imul(Ot,le)|0,d=d+Math.imul(Ot,fe)|0,d=d+Math.imul(Pt,le)|0,A=A+Math.imul(Pt,fe)|0,S=S+Math.imul(Ct,he)|0,d=d+Math.imul(Ct,de)|0,d=d+Math.imul(Kt,he)|0,A=A+Math.imul(Kt,de)|0,S=S+Math.imul(kt,ge)|0,d=d+Math.imul(kt,pe)|0,d=d+Math.imul(Bt,ge)|0,A=A+Math.imul(Bt,pe)|0;var ms=(R+S|0)+((d&8191)<<13)|0;R=(A+(d>>>13)|0)+(ms>>>26)|0,ms&=67108863,S=Math.imul(h,ie),d=Math.imul(h,se),d=d+Math.imul(_,ie)|0,A=Math.imul(_,se),S=S+Math.imul(qt,oe)|0,d=d+Math.imul(qt,ae)|0,d=d+Math.imul(b,oe)|0,A=A+Math.imul(b,ae)|0,S=S+Math.imul(jt,ce)|0,d=d+Math.imul(jt,ue)|0,d=d+Math.imul(Ft,ce)|0,A=A+Math.imul(Ft,ue)|0,S=S+Math.imul(zt,le)|0,d=d+Math.imul(zt,fe)|0,d=d+Math.imul(Rt,le)|0,A=A+Math.imul(Rt,fe)|0,S=S+Math.imul(Ot,he)|0,d=d+Math.imul(Ot,de)|0,d=d+Math.imul(Pt,he)|0,A=A+Math.imul(Pt,de)|0,S=S+Math.imul(Ct,ge)|0,d=d+Math.imul(Ct,pe)|0,d=d+Math.imul(Kt,ge)|0,A=A+Math.imul(Kt,pe)|0;var ys=(R+S|0)+((d&8191)<<13)|0;R=(A+(d>>>13)|0)+(ys>>>26)|0,ys&=67108863,S=Math.imul(h,oe),d=Math.imul(h,ae),d=d+Math.imul(_,oe)|0,A=Math.imul(_,ae),S=S+Math.imul(qt,ce)|0,d=d+Math.imul(qt,ue)|0,d=d+Math.imul(b,ce)|0,A=A+Math.imul(b,ue)|0,S=S+Math.imul(jt,le)|0,d=d+Math.imul(jt,fe)|0,d=d+Math.imul(Ft,le)|0,A=A+Math.imul(Ft,fe)|0,S=S+Math.imul(zt,he)|0,d=d+Math.imul(zt,de)|0,d=d+Math.imul(Rt,he)|0,A=A+Math.imul(Rt,de)|0,S=S+Math.imul(Ot,ge)|0,d=d+Math.imul(Ot,pe)|0,d=d+Math.imul(Pt,ge)|0,A=A+Math.imul(Pt,pe)|0;var bs=(R+S|0)+((d&8191)<<13)|0;R=(A+(d>>>13)|0)+(bs>>>26)|0,bs&=67108863,S=Math.imul(h,ce),d=Math.imul(h,ue),d=d+Math.imul(_,ce)|0,A=Math.imul(_,ue),S=S+Math.imul(qt,le)|0,d=d+Math.imul(qt,fe)|0,d=d+Math.imul(b,le)|0,A=A+Math.imul(b,fe)|0,S=S+Math.imul(jt,he)|0,d=d+Math.imul(jt,de)|0,d=d+Math.imul(Ft,he)|0,A=A+Math.imul(Ft,de)|0,S=S+Math.imul(zt,ge)|0,d=d+Math.imul(zt,pe)|0,d=d+Math.imul(Rt,ge)|0,A=A+Math.imul(Rt,pe)|0;var vs=(R+S|0)+((d&8191)<<13)|0;R=(A+(d>>>13)|0)+(vs>>>26)|0,vs&=67108863,S=Math.imul(h,le),d=Math.imul(h,fe),d=d+Math.imul(_,le)|0,A=Math.imul(_,fe),S=S+Math.imul(qt,he)|0,d=d+Math.imul(qt,de)|0,d=d+Math.imul(b,he)|0,A=A+Math.imul(b,de)|0,S=S+Math.imul(jt,ge)|0,d=d+Math.imul(jt,pe)|0,d=d+Math.imul(Ft,ge)|0,A=A+Math.imul(Ft,pe)|0;var Ms=(R+S|0)+((d&8191)<<13)|0;R=(A+(d>>>13)|0)+(Ms>>>26)|0,Ms&=67108863,S=Math.imul(h,he),d=Math.imul(h,de),d=d+Math.imul(_,he)|0,A=Math.imul(_,de),S=S+Math.imul(qt,ge)|0,d=d+Math.imul(qt,pe)|0,d=d+Math.imul(b,ge)|0,A=A+Math.imul(b,pe)|0;var Es=(R+S|0)+((d&8191)<<13)|0;R=(A+(d>>>13)|0)+(Es>>>26)|0,Es&=67108863,S=Math.imul(h,ge),d=Math.imul(h,pe),d=d+Math.imul(_,ge)|0,A=Math.imul(_,pe);var Ss=(R+S|0)+((d&8191)<<13)|0;return R=(A+(d>>>13)|0)+(Ss>>>26)|0,Ss&=67108863,N[0]=ss,N[1]=os,N[2]=as,N[3]=cs,N[4]=us,N[5]=ls,N[6]=fs,N[7]=hs,N[8]=ds,N[9]=gs,N[10]=ps,N[11]=ws,N[12]=ms,N[13]=ys,N[14]=bs,N[15]=vs,N[16]=Ms,N[17]=Es,N[18]=Ss,R!==0&&(N[19]=R,w.length++),w};Math.imul||(C=k);function I(T,u,g){g.negative=u.negative^T.negative,g.length=T.length+u.length;for(var w=0,m=0,E=0;E<g.length-1;E++){var N=m;m=0;for(var R=w&67108863,S=Math.min(E,u.length-1),d=Math.max(0,E-T.length+1);d<=S;d++){var A=E-d,H=T.words[A]|0,Y=u.words[d]|0,tt=H*Y,St=tt&67108863;N=N+(tt/67108864|0)|0,St=St+R|0,R=St&67108863,N=N+(St>>>26)|0,m+=N>>>26,N&=67108863}g.words[E]=R,w=N,N=m}return w!==0?g.words[E]=w:g.length--,g._strip()}function O(T,u,g){return I(T,u,g)}i.prototype.mulTo=function(u,g){var w,m=this.length+u.length;return this.length===10&&u.length===10?w=C(this,u,g):m<63?w=k(this,u,g):m<1024?w=I(this,u,g):w=O(this,u,g),w},i.prototype.mul=function(u){var g=new i(null);return g.words=new Array(this.length+u.length),this.mulTo(u,g)},i.prototype.mulf=function(u){var g=new i(null);return g.words=new Array(this.length+u.length),O(this,u,g)},i.prototype.imul=function(u){return this.clone().mulTo(u,this)},i.prototype.imuln=function(u){var g=u<0;g&&(u=-u),n(typeof u=="number"),n(u<67108864);for(var w=0,m=0;m<this.length;m++){var E=(this.words[m]|0)*u,N=(E&67108863)+(w&67108863);w>>=26,w+=E/67108864|0,w+=N>>>26,this.words[m]=N&67108863}return w!==0&&(this.words[m]=w,this.length++),g?this.ineg():this},i.prototype.muln=function(u){return this.clone().imuln(u)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(u){var g=v(u);if(g.length===0)return new i(1);for(var w=this,m=0;m<g.length&&g[m]===0;m++,w=w.sqr());if(++m<g.length)for(var E=w.sqr();m<g.length;m++,E=E.sqr())g[m]!==0&&(w=w.mul(E));return w},i.prototype.iushln=function(u){n(typeof u=="number"&&u>=0);var g=u%26,w=(u-g)/26,m=67108863>>>26-g<<26-g,E;if(g!==0){var N=0;for(E=0;E<this.length;E++){var R=this.words[E]&m,S=(this.words[E]|0)-R<<g;this.words[E]=S|N,N=R>>>26-g}N&&(this.words[E]=N,this.length++)}if(w!==0){for(E=this.length-1;E>=0;E--)this.words[E+w]=this.words[E];for(E=0;E<w;E++)this.words[E]=0;this.length+=w}return this._strip()},i.prototype.ishln=function(u){return n(this.negative===0),this.iushln(u)},i.prototype.iushrn=function(u,g,w){n(typeof u=="number"&&u>=0);var m;g?m=(g-g%26)/26:m=0;var E=u%26,N=Math.min((u-E)/26,this.length),R=67108863^67108863>>>E<<E,S=w;if(m-=N,m=Math.max(0,m),S){for(var d=0;d<N;d++)S.words[d]=this.words[d];S.length=N}if(N!==0)if(this.length>N)for(this.length-=N,d=0;d<this.length;d++)this.words[d]=this.words[d+N];else this.words[0]=0,this.length=1;var A=0;for(d=this.length-1;d>=0&&(A!==0||d>=m);d--){var H=this.words[d]|0;this.words[d]=A<<26-E|H>>>E,A=H&R}return S&&A!==0&&(S.words[S.length++]=A),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(u,g,w){return n(this.negative===0),this.iushrn(u,g,w)},i.prototype.shln=function(u){return this.clone().ishln(u)},i.prototype.ushln=function(u){return this.clone().iushln(u)},i.prototype.shrn=function(u){return this.clone().ishrn(u)},i.prototype.ushrn=function(u){return this.clone().iushrn(u)},i.prototype.testn=function(u){n(typeof u=="number"&&u>=0);var g=u%26,w=(u-g)/26,m=1<<g;if(this.length<=w)return!1;var E=this.words[w];return!!(E&m)},i.prototype.imaskn=function(u){n(typeof u=="number"&&u>=0);var g=u%26,w=(u-g)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=w)return this;if(g!==0&&w++,this.length=Math.min(w,this.length),g!==0){var m=67108863^67108863>>>g<<g;this.words[this.length-1]&=m}return this._strip()},i.prototype.maskn=function(u){return this.clone().imaskn(u)},i.prototype.iaddn=function(u){return n(typeof u=="number"),n(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},i.prototype._iaddn=function(u){this.words[0]+=u;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},i.prototype.isubn=function(u){if(n(typeof u=="number"),n(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this._strip()},i.prototype.addn=function(u){return this.clone().iaddn(u)},i.prototype.subn=function(u){return this.clone().isubn(u)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(u,g,w){var m=u.length+w,E;this._expand(m);var N,R=0;for(E=0;E<u.length;E++){N=(this.words[E+w]|0)+R;var S=(u.words[E]|0)*g;N-=S&67108863,R=(N>>26)-(S/67108864|0),this.words[E+w]=N&67108863}for(;E<this.length-w;E++)N=(this.words[E+w]|0)+R,R=N>>26,this.words[E+w]=N&67108863;if(R===0)return this._strip();for(n(R===-1),R=0,E=0;E<this.length;E++)N=-(this.words[E]|0)+R,R=N>>26,this.words[E]=N&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(u,g){var w=this.length-u.length,m=this.clone(),E=u,N=E.words[E.length-1]|0,R=this._countBits(N);w=26-R,w!==0&&(E=E.ushln(w),m.iushln(w),N=E.words[E.length-1]|0);var S=m.length-E.length,d;if(g!=="mod"){d=new i(null),d.length=S+1,d.words=new Array(d.length);for(var A=0;A<d.length;A++)d.words[A]=0}var H=m.clone()._ishlnsubmul(E,1,S);H.negative===0&&(m=H,d&&(d.words[S]=1));for(var Y=S-1;Y>=0;Y--){var tt=(m.words[E.length+Y]|0)*67108864+(m.words[E.length+Y-1]|0);for(tt=Math.min(tt/N|0,67108863),m._ishlnsubmul(E,tt,Y);m.negative!==0;)tt--,m.negative=0,m._ishlnsubmul(E,1,Y),m.isZero()||(m.negative^=1);d&&(d.words[Y]=tt)}return d&&d._strip(),m._strip(),g!=="div"&&w!==0&&m.iushrn(w),{div:d||null,mod:m}},i.prototype.divmod=function(u,g,w){if(n(!u.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var m,E,N;return this.negative!==0&&u.negative===0?(N=this.neg().divmod(u,g),g!=="mod"&&(m=N.div.neg()),g!=="div"&&(E=N.mod.neg(),w&&E.negative!==0&&E.iadd(u)),{div:m,mod:E}):this.negative===0&&u.negative!==0?(N=this.divmod(u.neg(),g),g!=="mod"&&(m=N.div.neg()),{div:m,mod:N.mod}):this.negative&u.negative?(N=this.neg().divmod(u.neg(),g),g!=="div"&&(E=N.mod.neg(),w&&E.negative!==0&&E.isub(u)),{div:N.div,mod:E}):u.length>this.length||this.cmp(u)<0?{div:new i(0),mod:this}:u.length===1?g==="div"?{div:this.divn(u.words[0]),mod:null}:g==="mod"?{div:null,mod:new i(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new i(this.modrn(u.words[0]))}:this._wordDiv(u,g)},i.prototype.div=function(u){return this.divmod(u,"div",!1).div},i.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},i.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},i.prototype.divRound=function(u){var g=this.divmod(u);if(g.mod.isZero())return g.div;var w=g.div.negative!==0?g.mod.isub(u):g.mod,m=u.ushrn(1),E=u.andln(1),N=w.cmp(m);return N<0||E===1&&N===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},i.prototype.modrn=function(u){var g=u<0;g&&(u=-u),n(u<=67108863);for(var w=(1<<26)%u,m=0,E=this.length-1;E>=0;E--)m=(w*m+(this.words[E]|0))%u;return g?-m:m},i.prototype.modn=function(u){return this.modrn(u)},i.prototype.idivn=function(u){var g=u<0;g&&(u=-u),n(u<=67108863);for(var w=0,m=this.length-1;m>=0;m--){var E=(this.words[m]|0)+w*67108864;this.words[m]=E/u|0,w=E%u}return this._strip(),g?this.ineg():this},i.prototype.divn=function(u){return this.clone().idivn(u)},i.prototype.egcd=function(u){n(u.negative===0),n(!u.isZero());var g=this,w=u.clone();g.negative!==0?g=g.umod(u):g=g.clone();for(var m=new i(1),E=new i(0),N=new i(0),R=new i(1),S=0;g.isEven()&&w.isEven();)g.iushrn(1),w.iushrn(1),++S;for(var d=w.clone(),A=g.clone();!g.isZero();){for(var H=0,Y=1;!(g.words[0]&Y)&&H<26;++H,Y<<=1);if(H>0)for(g.iushrn(H);H-- >0;)(m.isOdd()||E.isOdd())&&(m.iadd(d),E.isub(A)),m.iushrn(1),E.iushrn(1);for(var tt=0,St=1;!(w.words[0]&St)&&tt<26;++tt,St<<=1);if(tt>0)for(w.iushrn(tt);tt-- >0;)(N.isOdd()||R.isOdd())&&(N.iadd(d),R.isub(A)),N.iushrn(1),R.iushrn(1);g.cmp(w)>=0?(g.isub(w),m.isub(N),E.isub(R)):(w.isub(g),N.isub(m),R.isub(E))}return{a:N,b:R,gcd:w.iushln(S)}},i.prototype._invmp=function(u){n(u.negative===0),n(!u.isZero());var g=this,w=u.clone();g.negative!==0?g=g.umod(u):g=g.clone();for(var m=new i(1),E=new i(0),N=w.clone();g.cmpn(1)>0&&w.cmpn(1)>0;){for(var R=0,S=1;!(g.words[0]&S)&&R<26;++R,S<<=1);if(R>0)for(g.iushrn(R);R-- >0;)m.isOdd()&&m.iadd(N),m.iushrn(1);for(var d=0,A=1;!(w.words[0]&A)&&d<26;++d,A<<=1);if(d>0)for(w.iushrn(d);d-- >0;)E.isOdd()&&E.iadd(N),E.iushrn(1);g.cmp(w)>=0?(g.isub(w),m.isub(E)):(w.isub(g),E.isub(m))}var H;return g.cmpn(1)===0?H=m:H=E,H.cmpn(0)<0&&H.iadd(u),H},i.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var g=this.clone(),w=u.clone();g.negative=0,w.negative=0;for(var m=0;g.isEven()&&w.isEven();m++)g.iushrn(1),w.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;w.isEven();)w.iushrn(1);var E=g.cmp(w);if(E<0){var N=g;g=w,w=N}else if(E===0||w.cmpn(1)===0)break;g.isub(w)}while(!0);return w.iushln(m)},i.prototype.invm=function(u){return this.egcd(u).a.umod(u)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(u){return this.words[0]&u},i.prototype.bincn=function(u){n(typeof u=="number");var g=u%26,w=(u-g)/26,m=1<<g;if(this.length<=w)return this._expand(w+1),this.words[w]|=m,this;for(var E=m,N=w;E!==0&&N<this.length;N++){var R=this.words[N]|0;R+=E,E=R>>>26,R&=67108863,this.words[N]=R}return E!==0&&(this.words[N]=E,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(u){var g=u<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this._strip();var w;if(this.length>1)w=1;else{g&&(u=-u),n(u<=67108863,"Number is too big");var m=this.words[0]|0;w=m===u?0:m<u?-1:1}return this.negative!==0?-w|0:w},i.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var g=this.ucmp(u);return this.negative!==0?-g|0:g},i.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var g=0,w=this.length-1;w>=0;w--){var m=this.words[w]|0,E=u.words[w]|0;if(m!==E){m<E?g=-1:m>E&&(g=1);break}}return g},i.prototype.gtn=function(u){return this.cmpn(u)===1},i.prototype.gt=function(u){return this.cmp(u)===1},i.prototype.gten=function(u){return this.cmpn(u)>=0},i.prototype.gte=function(u){return this.cmp(u)>=0},i.prototype.ltn=function(u){return this.cmpn(u)===-1},i.prototype.lt=function(u){return this.cmp(u)===-1},i.prototype.lten=function(u){return this.cmpn(u)<=0},i.prototype.lte=function(u){return this.cmp(u)<=0},i.prototype.eqn=function(u){return this.cmpn(u)===0},i.prototype.eq=function(u){return this.cmp(u)===0},i.red=function(u){return new nt(u)},i.prototype.toRed=function(u){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(u){return this.red=u,this},i.prototype.forceRed=function(u){return n(!this.red,"Already a number in reduction context"),this._forceRed(u)},i.prototype.redAdd=function(u){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},i.prototype.redIAdd=function(u){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},i.prototype.redSub=function(u){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},i.prototype.redISub=function(u){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},i.prototype.redShl=function(u){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},i.prototype.redMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},i.prototype.redIMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(u){return n(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var P={k256:null,p224:null,p192:null,p25519:null};function U(T,u){this.name=T,this.p=new i(u,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}U.prototype._tmp=function(){var u=new i(null);return u.words=new Array(Math.ceil(this.n/13)),u},U.prototype.ireduce=function(u){var g=u,w;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),w=g.bitLength();while(w>this.n);var m=w<this.n?-1:g.ucmp(this.p);return m===0?(g.words[0]=0,g.length=1):m>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},U.prototype.split=function(u,g){u.iushrn(this.n,0,g)},U.prototype.imulK=function(u){return u.imul(this.k)};function $(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s($,U),$.prototype.split=function(u,g){for(var w=4194303,m=Math.min(u.length,9),E=0;E<m;E++)g.words[E]=u.words[E];if(g.length=m,u.length<=9){u.words[0]=0,u.length=1;return}var N=u.words[9];for(g.words[g.length++]=N&w,E=10;E<u.length;E++){var R=u.words[E]|0;u.words[E-10]=(R&w)<<4|N>>>22,N=R}N>>>=22,u.words[E-10]=N,N===0&&u.length>10?u.length-=10:u.length-=9},$.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var g=0,w=0;w<u.length;w++){var m=u.words[w]|0;g+=m*977,u.words[w]=g&67108863,g=m*64+(g/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function K(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(K,U);function Q(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(Q,U);function dt(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(dt,U),dt.prototype.imulK=function(u){for(var g=0,w=0;w<u.length;w++){var m=(u.words[w]|0)*19+g,E=m&67108863;m>>>=26,u.words[w]=E,g=m}return g!==0&&(u.words[u.length++]=g),u},i._prime=function(u){if(P[u])return P[u];var g;if(u==="k256")g=new $;else if(u==="p224")g=new K;else if(u==="p192")g=new Q;else if(u==="p25519")g=new dt;else throw new Error("Unknown prime "+u);return P[u]=g,g};function nt(T){if(typeof T=="string"){var u=i._prime(T);this.m=u.p,this.prime=u}else n(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}nt.prototype._verify1=function(u){n(u.negative===0,"red works only with positives"),n(u.red,"red works only with red numbers")},nt.prototype._verify2=function(u,g){n((u.negative|g.negative)===0,"red works only with positives"),n(u.red&&u.red===g.red,"red works only with red numbers")},nt.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(f(u,u.umod(this.m)._forceRed(this)),u)},nt.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},nt.prototype.add=function(u,g){this._verify2(u,g);var w=u.add(g);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},nt.prototype.iadd=function(u,g){this._verify2(u,g);var w=u.iadd(g);return w.cmp(this.m)>=0&&w.isub(this.m),w},nt.prototype.sub=function(u,g){this._verify2(u,g);var w=u.sub(g);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},nt.prototype.isub=function(u,g){this._verify2(u,g);var w=u.isub(g);return w.cmpn(0)<0&&w.iadd(this.m),w},nt.prototype.shl=function(u,g){return this._verify1(u),this.imod(u.ushln(g))},nt.prototype.imul=function(u,g){return this._verify2(u,g),this.imod(u.imul(g))},nt.prototype.mul=function(u,g){return this._verify2(u,g),this.imod(u.mul(g))},nt.prototype.isqr=function(u){return this.imul(u,u.clone())},nt.prototype.sqr=function(u){return this.mul(u,u)},nt.prototype.sqrt=function(u){if(u.isZero())return u.clone();var g=this.m.andln(3);if(n(g%2===1),g===3){var w=this.m.add(new i(1)).iushrn(2);return this.pow(u,w)}for(var m=this.m.subn(1),E=0;!m.isZero()&&m.andln(1)===0;)E++,m.iushrn(1);n(!m.isZero());var N=new i(1).toRed(this),R=N.redNeg(),S=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new i(2*d*d).toRed(this);this.pow(d,S).cmp(R)!==0;)d.redIAdd(R);for(var A=this.pow(d,m),H=this.pow(u,m.addn(1).iushrn(1)),Y=this.pow(u,m),tt=E;Y.cmp(N)!==0;){for(var St=Y,ft=0;St.cmp(N)!==0;ft++)St=St.redSqr();n(ft<tt);var pt=this.pow(A,new i(1).iushln(tt-ft-1));H=H.redMul(pt),A=pt.redSqr(),Y=Y.redMul(A),tt=ft}return H},nt.prototype.invm=function(u){var g=u._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},nt.prototype.pow=function(u,g){if(g.isZero())return new i(1).toRed(this);if(g.cmpn(1)===0)return u.clone();var w=4,m=new Array(1<<w);m[0]=new i(1).toRed(this),m[1]=u;for(var E=2;E<m.length;E++)m[E]=this.mul(m[E-1],u);var N=m[0],R=0,S=0,d=g.bitLength()%26;for(d===0&&(d=26),E=g.length-1;E>=0;E--){for(var A=g.words[E],H=d-1;H>=0;H--){var Y=A>>H&1;if(N!==m[0]&&(N=this.sqr(N)),Y===0&&R===0){S=0;continue}R<<=1,R|=Y,S++,!(S!==w&&(E!==0||H!==0))&&(N=this.mul(N,m[R]),S=0,R=0)}d=26}return N},nt.prototype.convertTo=function(u){var g=u.umod(this.m);return g===u?g.clone():g},nt.prototype.convertFrom=function(u){var g=u.clone();return g.red=null,g},i.mont=function(u){return new rt(u)};function rt(T){nt.call(this,T),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(rt,nt),rt.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},rt.prototype.convertFrom=function(u){var g=this.imod(u.mul(this.rinv));return g.red=null,g},rt.prototype.imul=function(u,g){if(u.isZero()||g.isZero())return u.words[0]=0,u.length=1,u;var w=u.imul(g),m=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=w.isub(m).iushrn(this.shift),N=E;return E.cmp(this.m)>=0?N=E.isub(this.m):E.cmpn(0)<0&&(N=E.iadd(this.m)),N._forceRed(this)},rt.prototype.mul=function(u,g){if(u.isZero()||g.isZero())return new i(0)._forceRed(this);var w=u.mul(g),m=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=w.isub(m).iushrn(this.shift),N=E;return E.cmp(this.m)>=0?N=E.isub(this.m):E.cmpn(0)<0&&(N=E.iadd(this.m)),N._forceRed(this)},rt.prototype.invm=function(u){var g=this.imod(u._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(r,cn)})(Ko);var Uc=Ko.exports;const ja=rr(Uc);var so={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(r,t){var e=qo,n=e.Buffer;function s(o,a){for(var c in o)a[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?r.exports=e:(s(e,t),t.Buffer=i);function i(o,a,c){return n(o,a,c)}i.prototype=Object.create(n.prototype),s(n,i),i.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,c)},i.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var p=n(o);return a!==void 0?typeof c=="string"?p.fill(a,c):p.fill(a):p.fill(0),p},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return e.SlowBuffer(o)}})(so,so.exports);var Ho=so.exports,oi=Ho.Buffer;function bh(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=n}var o=r.length,a=r.charAt(0),c=Math.log(o)/Math.log(256),p=Math.log(256)/Math.log(o);function f(M){if((Array.isArray(M)||M instanceof Uint8Array)&&(M=oi.from(M)),!oi.isBuffer(M))throw new TypeError("Expected Buffer");if(M.length===0)return"";for(var L=0,B=0,v=0,k=M.length;v!==k&&M[v]===0;)v++,L++;for(var C=(k-v)*p+1>>>0,I=new Uint8Array(C);v!==k;){for(var O=M[v],P=0,U=C-1;(O!==0||P<B)&&U!==-1;U--,P++)O+=256*I[U]>>>0,I[U]=O%o>>>0,O=O/o>>>0;if(O!==0)throw new Error("Non-zero carry");B=P,v++}for(var $=C-B;$!==C&&I[$]===0;)$++;for(var K=a.repeat(L);$<C;++$)K+=r.charAt(I[$]);return K}function y(M){if(typeof M!="string")throw new TypeError("Expected String");if(M.length===0)return oi.alloc(0);for(var L=0,B=0,v=0;M[L]===a;)B++,L++;for(var k=(M.length-L)*c+1>>>0,C=new Uint8Array(k);L<M.length;){var I=t[M.charCodeAt(L)];if(I===255)return;for(var O=0,P=k-1;(I!==0||O<v)&&P!==-1;P--,O++)I+=o*C[P]>>>0,C[P]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");v=O,L++}for(var U=k-v;U!==k&&C[U]===0;)U++;var $=oi.allocUnsafe(B+(k-U));$.fill(0,0,B);for(var K=B;U!==k;)$[K++]=C[U++];return $}function x(M){var L=y(M);if(L)return L;throw new Error("Non-base"+o+" character")}return{encode:f,decodeUnsafe:y,decode:x}}var vh=bh,Mh=vh,Eh="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Sh=Mh(Eh);const Be=rr(Sh),xh=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),kn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Cn=new Uint32Array(64);class Ih extends Tc{constructor(){super(64,32,8,!1),this.A=kn[0]|0,this.B=kn[1]|0,this.C=kn[2]|0,this.D=kn[3]|0,this.E=kn[4]|0,this.F=kn[5]|0,this.G=kn[6]|0,this.H=kn[7]|0}get(){const{A:t,B:e,C:n,D:s,E:i,F:o,G:a,H:c}=this;return[t,e,n,s,i,o,a,c]}set(t,e,n,s,i,o,a,c){this.A=t|0,this.B=e|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,e){for(let y=0;y<16;y++,e+=4)Cn[y]=t.getUint32(e,!1);for(let y=16;y<64;y++){const x=Cn[y-15],M=Cn[y-2],L=ln(x,7)^ln(x,18)^x>>>3,B=ln(M,17)^ln(M,19)^M>>>10;Cn[y]=B+Cn[y-7]+L+Cn[y-16]|0}let{A:n,B:s,C:i,D:o,E:a,F:c,G:p,H:f}=this;for(let y=0;y<64;y++){const x=ln(a,6)^ln(a,11)^ln(a,25),M=f+x+df(a,c,p)+xh[y]+Cn[y]|0,B=(ln(n,2)^ln(n,13)^ln(n,22))+gf(n,s,i)|0;f=p,p=c,c=a,a=o+M|0,o=i,i=s,s=n,n=M+B|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,p=p+this.G|0,f=f+this.H|0,this.set(n,s,i,o,a,c,p,f)}roundClean(){Cn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const oo=Lc(()=>new Ih);var Le={},ai=Ho.Buffer;function _h(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=n}var o=r.length,a=r.charAt(0),c=Math.log(o)/Math.log(256),p=Math.log(256)/Math.log(o);function f(M){if((Array.isArray(M)||M instanceof Uint8Array)&&(M=ai.from(M)),!ai.isBuffer(M))throw new TypeError("Expected Buffer");if(M.length===0)return"";for(var L=0,B=0,v=0,k=M.length;v!==k&&M[v]===0;)v++,L++;for(var C=(k-v)*p+1>>>0,I=new Uint8Array(C);v!==k;){for(var O=M[v],P=0,U=C-1;(O!==0||P<B)&&U!==-1;U--,P++)O+=256*I[U]>>>0,I[U]=O%o>>>0,O=O/o>>>0;if(O!==0)throw new Error("Non-zero carry");B=P,v++}for(var $=C-B;$!==C&&I[$]===0;)$++;for(var K=a.repeat(L);$<C;++$)K+=r.charAt(I[$]);return K}function y(M){if(typeof M!="string")throw new TypeError("Expected String");if(M.length===0)return ai.alloc(0);for(var L=0,B=0,v=0;M[L]===a;)B++,L++;for(var k=(M.length-L)*c+1>>>0,C=new Uint8Array(k);L<M.length;){var I=t[M.charCodeAt(L)];if(I===255)return;for(var O=0,P=k-1;(I!==0||O<v)&&P!==-1;P--,O++)I+=o*C[P]>>>0,C[P]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");v=O,L++}for(var U=k-v;U!==k&&C[U]===0;)U++;var $=ai.allocUnsafe(B+(k-U));$.fill(0,0,B);for(var K=B;U!==k;)$[K++]=C[U++];return $}function x(M){var L=y(M);if(L)return L;throw new Error("Non-base"+o+" character")}return{encode:f,decodeUnsafe:y,decode:x}}var Ah=_h,Lh=Ah,Bh="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Th=Lh(Bh);function bn(r,t,e){return t<=r&&r<=e}function Fi(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function Nh(r){for(var t=String(r),e=t.length,n=0,s=[];n<e;){var i=t.charCodeAt(n);if(i<55296||i>57343)s.push(i);else if(56320<=i&&i<=57343)s.push(65533);else if(55296<=i&&i<=56319)if(n===e-1)s.push(65533);else{var o=r.charCodeAt(n+1);if(56320<=o&&o<=57343){var a=i&1023,c=o&1023;s.push(65536+(a<<10)+c),n+=1}else s.push(65533)}n+=1}return s}function kh(r){for(var t="",e=0;e<r.length;++e){var n=r[e];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return t}var Si=-1;function Go(r){this.tokens=[].slice.call(r)}Go.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Si},prepend:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.push(t.shift());else this.tokens.push(r)}};var xr=-1;function Ts(r,t){if(r)throw TypeError("Decoder error");return t||65533}var xi="utf-8";function Ii(r,t){if(!(this instanceof Ii))return new Ii(r,t);if(r=r!==void 0?String(r).toLowerCase():xi,r!==xi)throw new Error("Encoding not supported. Only utf-8 is supported");t=Fi(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Ii.prototype={decode:function(t,e){var n;typeof t=="object"&&t instanceof ArrayBuffer?n=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):n=new Uint8Array(0),e=Fi(e),this._streaming||(this._decoder=new Ch({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!e.stream;for(var s=new Go(n),i=[],o;!s.endOfStream()&&(o=this._decoder.handler(s,s.read()),o!==xr);)o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));if(!this._streaming){do{if(o=this._decoder.handler(s,s.read()),o===xr)break;o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o))}while(!s.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),kh(i)}};function _i(r,t){if(!(this instanceof _i))return new _i(r,t);if(r=r!==void 0?String(r).toLowerCase():xi,r!==xi)throw new Error("Encoding not supported. Only utf-8 is supported");t=Fi(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}_i.prototype={encode:function(t,e){t=t?String(t):"",e=Fi(e),this._streaming||(this._encoder=new Rh(this._options)),this._streaming=!!e.stream;for(var n=[],s=new Go(Nh(t)),i;!s.endOfStream()&&(i=this._encoder.handler(s,s.read()),i!==xr);)Array.isArray(i)?n.push.apply(n,i):n.push(i);if(!this._streaming){for(;i=this._encoder.handler(s,s.read()),i!==xr;)Array.isArray(i)?n.push.apply(n,i):n.push(i);this._encoder=null}return new Uint8Array(n)}};function Ch(r){var t=r.fatal,e=0,n=0,s=0,i=128,o=191;this.handler=function(a,c){if(c===Si&&s!==0)return s=0,Ts(t);if(c===Si)return xr;if(s===0){if(bn(c,0,127))return c;if(bn(c,194,223))s=1,e=c-192;else if(bn(c,224,239))c===224&&(i=160),c===237&&(o=159),s=2,e=c-224;else if(bn(c,240,244))c===240&&(i=144),c===244&&(o=143),s=3,e=c-240;else return Ts(t);return e=e<<6*s,null}if(!bn(c,i,o))return e=s=n=0,i=128,o=191,a.prepend(c),Ts(t);if(i=128,o=191,n+=1,e+=c-128<<6*(s-n),n!==s)return null;var p=e;return e=s=n=0,p}}function Rh(r){r.fatal,this.handler=function(t,e){if(e===Si)return xr;if(bn(e,0,127))return e;var n,s;bn(e,128,2047)?(n=1,s=192):bn(e,2048,65535)?(n=2,s=224):bn(e,65536,1114111)&&(n=3,s=240);for(var i=[(e>>6*n)+s];n>0;){var o=e>>6*(n-1);i.push(128|o&63),n-=1}return i}}const Dh=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Ii,TextEncoder:_i},Symbol.toStringTag,{value:"Module"})),Oh=Do(Dh);var jh=cn&&cn.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),zh=cn&&cn.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),dn=cn&&cn.__decorate||function(r,t,e,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},Uh=cn&&cn.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.hasOwnProperty.call(r,e)&&jh(t,r,e);return zh(t,r),t},Pc=cn&&cn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Le,"__esModule",{value:!0});var Fc=Le.deserializeUnchecked=Gc=Le.deserialize=Hc=Le.serialize=Le.BinaryReader=Le.BinaryWriter=Le.BorshError=Le.baseDecode=Le.baseEncode=void 0;const On=Pc(Uc),Wc=Pc(Th),Ph=Uh(Oh),Fh=typeof TextDecoder!="function"?Ph.TextDecoder:TextDecoder,Wh=new Fh("utf-8",{fatal:!0});function $h(r){return typeof r=="string"&&(r=ye.from(r,"utf8")),Wc.default.encode(ye.from(r))}Le.baseEncode=$h;function Kh(r){return ye.from(Wc.default.decode(r))}Le.baseDecode=Kh;const Ns=1024;class ze extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Le.BorshError=ze;class $c{constructor(){this.buf=ye.alloc(Ns),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=ye.concat([this.buf,ye.alloc(Ns)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(ye.from(new On.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(ye.from(new On.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(ye.from(new On.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(ye.from(new On.default(t).toArray("le",64)))}writeBuffer(t){this.buf=ye.concat([ye.from(this.buf.subarray(0,this.length)),t,ye.alloc(Ns)]),this.length+=t.length}writeString(t){this.maybeResize();const e=ye.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(ye.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const n of t)this.maybeResize(),e(n)}toArray(){return this.buf.subarray(0,this.length)}}Le.BinaryWriter=$c;function gn(r,t,e){const n=e.value;e.value=function(...s){try{return n.apply(this,s)}catch(i){if(i instanceof RangeError){const o=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new ze("Reached the end of buffer when deserializing")}throw i}}}class Ve{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new On.default(t,"le")}readU128(){const t=this.readBuffer(16);return new On.default(t,"le")}readU256(){const t=this.readBuffer(32);return new On.default(t,"le")}readU512(){const t=this.readBuffer(64);return new On.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new ze(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return Wh.decode(e)}catch(n){throw new ze(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),n=Array();for(let s=0;s<e;++s)n.push(t());return n}}dn([gn],Ve.prototype,"readU8",null);dn([gn],Ve.prototype,"readU16",null);dn([gn],Ve.prototype,"readU32",null);dn([gn],Ve.prototype,"readU64",null);dn([gn],Ve.prototype,"readU128",null);dn([gn],Ve.prototype,"readU256",null);dn([gn],Ve.prototype,"readU512",null);dn([gn],Ve.prototype,"readString",null);dn([gn],Ve.prototype,"readFixedArray",null);dn([gn],Ve.prototype,"readArray",null);Le.BinaryReader=Ve;function Kc(r){return r.charAt(0).toUpperCase()+r.slice(1)}function qn(r,t,e,n,s){try{if(typeof n=="string")s[`write${Kc(n)}`](e);else if(n instanceof Array)if(typeof n[0]=="number"){if(e.length!==n[0])throw new ze(`Expecting byte array of length ${n[0]}, but got ${e.length} bytes`);s.writeFixedArray(e)}else if(n.length===2&&typeof n[1]=="number"){if(e.length!==n[1])throw new ze(`Expecting byte array of length ${n[1]}, but got ${e.length} bytes`);for(let i=0;i<n[1];i++)qn(r,null,e[i],n[0],s)}else s.writeArray(e,i=>{qn(r,t,i,n[0],s)});else if(n.kind!==void 0)switch(n.kind){case"option":{e==null?s.writeU8(0):(s.writeU8(1),qn(r,t,e,n.type,s));break}case"map":{s.writeU32(e.size),e.forEach((i,o)=>{qn(r,t,o,n.key,s),qn(r,t,i,n.value,s)});break}default:throw new ze(`FieldType ${n} unrecognized`)}else qc(r,e,s)}catch(i){throw i instanceof ze&&i.addToFieldPath(t),i}}function qc(r,t,e){if(typeof t.borshSerialize=="function"){t.borshSerialize(e);return}const n=r.get(t.constructor);if(!n)throw new ze(`Class ${t.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([s,i])=>{qn(r,s,t[s],i,e)});else if(n.kind==="enum"){const s=t[n.field];for(let i=0;i<n.values.length;++i){const[o,a]=n.values[i];if(o===s){e.writeU8(i),qn(r,o,t[o],a,e);break}}}else throw new ze(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function qh(r,t,e=$c){const n=new e;return qc(r,t,n),n.toArray()}var Hc=Le.serialize=qh;function Hn(r,t,e,n){try{if(typeof e=="string")return n[`read${Kc(e)}`]();if(e instanceof Array){if(typeof e[0]=="number")return n.readFixedArray(e[0]);if(typeof e[1]=="number"){const s=[];for(let i=0;i<e[1];i++)s.push(Hn(r,null,e[0],n));return s}else return n.readArray(()=>Hn(r,t,e[0],n))}if(e.kind==="option")return n.readU8()?Hn(r,t,e.type,n):void 0;if(e.kind==="map"){let s=new Map;const i=n.readU32();for(let o=0;o<i;o++){const a=Hn(r,t,e.key,n),c=Hn(r,t,e.value,n);s.set(a,c)}return s}return Yo(r,e,n)}catch(s){throw s instanceof ze&&s.addToFieldPath(t),s}}function Yo(r,t,e){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(e);const n=r.get(t);if(!n)throw new ze(`Class ${t.name} is missing in schema`);if(n.kind==="struct"){const s={};for(const[i,o]of r.get(t).fields)s[i]=Hn(r,i,o,e);return new t(s)}if(n.kind==="enum"){const s=e.readU8();if(s>=n.values.length)throw new ze(`Enum index: ${s} is out of range`);const[i,o]=n.values[s],a=Hn(r,i,o,e);return new t({[i]:a})}throw new ze(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function Hh(r,t,e,n=Ve){const s=new n(e),i=Yo(r,t,s);if(s.offset<e.length)throw new ze(`Unexpected ${e.length-s.offset} bytes after deserialized data`);return i}var Gc=Le.deserialize=Hh;function Gh(r,t,e,n=Ve){const s=new n(e);return Yo(r,t,s)}Fc=Le.deserializeUnchecked=Gh;var F={};Object.defineProperty(F,"__esModule",{value:!0});F.s16=F.s8=F.nu64be=F.u48be=F.u40be=F.u32be=F.u24be=F.u16be=_e=F.nu64=F.u48=F.u40=ct=F.u32=F.u24=Je=F.u16=Lt=F.u8=Xn=F.offset=F.greedy=F.Constant=F.UTF8=F.CString=F.Blob=F.Boolean=F.BitField=F.BitStructure=F.VariantLayout=F.Union=F.UnionLayoutDiscriminator=F.UnionDiscriminator=F.Structure=F.Sequence=F.DoubleBE=F.Double=F.FloatBE=F.Float=F.NearInt64BE=F.NearInt64=F.NearUInt64BE=F.NearUInt64=F.IntBE=F.Int=F.UIntBE=F.UInt=F.OffsetLayout=F.GreedyCount=F.ExternalLayout=F.bindConstructorLayout=F.nameWithProperty=F.Layout=F.uint8ArrayToBuffer=F.checkUint8Array=void 0;F.constant=F.utf8=F.cstr=$t=F.blob=F.unionLayoutDiscriminator=F.union=Oe=F.seq=F.bits=it=F.struct=F.f64be=F.f64=F.f32be=F.f32=F.ns64be=F.s48be=F.s40be=F.s32be=F.s24be=F.s16be=qe=F.ns64=F.s48=F.s40=F.s32=F.s24=void 0;const Vo=qo;function Cr(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}F.checkUint8Array=Cr;function At(r){return Cr(r),Vo.Buffer.from(r.buffer,r.byteOffset,r.length)}F.uint8ArrayToBuffer=At;class Nt{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}F.Layout=Nt;function Zo(r,t){return t.property?r+"["+t.property+"]":r}F.nameWithProperty=Zo;function Yh(r,t){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof Nt))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=t,t.boundConstructor_=r,t.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(r,"decode",{value(e,n){return t.decode(e,n)},writable:!0})}F.bindConstructorLayout=Yh;class We extends Nt{isCount(){throw new Error("ExternalLayout is abstract")}}F.ExternalLayout=We;class Yc extends We{constructor(t=1,e){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e=0){Cr(t);const n=t.length-e;return Math.floor(n/this.elementSpan)}encode(t,e,n){return 0}}F.GreedyCount=Yc;class Qo extends We{constructor(t,e=0,n){if(!(t instanceof Nt))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof tn||this.layout instanceof an}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,n=0){return this.layout.encode(t,e,n+this.offset)}}F.OffsetLayout=Qo;class tn extends Nt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return At(t).readUIntLE(e,this.span)}encode(t,e,n=0){return At(e).writeUIntLE(t,n,this.span),this.span}}F.UInt=tn;class an extends Nt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return At(t).readUIntBE(e,this.span)}encode(t,e,n=0){return At(e).writeUIntBE(t,n,this.span),this.span}}F.UIntBE=an;class ir extends Nt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return At(t).readIntLE(e,this.span)}encode(t,e,n=0){return At(e).writeIntLE(t,n,this.span),this.span}}F.Int=ir;class Rr extends Nt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return At(t).readIntBE(e,this.span)}encode(t,e,n=0){return At(e).writeIntBE(t,n,this.span),this.span}}F.IntBE=Rr;const ao=Math.pow(2,32);function Wi(r){const t=Math.floor(r/ao),e=r-t*ao;return{hi32:t,lo32:e}}function $i(r,t){return r*ao+t}class Vc extends Nt{constructor(t){super(8,t)}decode(t,e=0){const n=At(t),s=n.readUInt32LE(e),i=n.readUInt32LE(e+4);return $i(i,s)}encode(t,e,n=0){const s=Wi(t),i=At(e);return i.writeUInt32LE(s.lo32,n),i.writeUInt32LE(s.hi32,n+4),8}}F.NearUInt64=Vc;class Zc extends Nt{constructor(t){super(8,t)}decode(t,e=0){const n=At(t),s=n.readUInt32BE(e),i=n.readUInt32BE(e+4);return $i(s,i)}encode(t,e,n=0){const s=Wi(t),i=At(e);return i.writeUInt32BE(s.hi32,n),i.writeUInt32BE(s.lo32,n+4),8}}F.NearUInt64BE=Zc;class Qc extends Nt{constructor(t){super(8,t)}decode(t,e=0){const n=At(t),s=n.readUInt32LE(e),i=n.readInt32LE(e+4);return $i(i,s)}encode(t,e,n=0){const s=Wi(t),i=At(e);return i.writeUInt32LE(s.lo32,n),i.writeInt32LE(s.hi32,n+4),8}}F.NearInt64=Qc;class Jc extends Nt{constructor(t){super(8,t)}decode(t,e=0){const n=At(t),s=n.readInt32BE(e),i=n.readUInt32BE(e+4);return $i(s,i)}encode(t,e,n=0){const s=Wi(t),i=At(e);return i.writeInt32BE(s.hi32,n),i.writeUInt32BE(s.lo32,n+4),8}}F.NearInt64BE=Jc;class Xc extends Nt{constructor(t){super(4,t)}decode(t,e=0){return At(t).readFloatLE(e)}encode(t,e,n=0){return At(e).writeFloatLE(t,n),4}}F.Float=Xc;class tu extends Nt{constructor(t){super(4,t)}decode(t,e=0){return At(t).readFloatBE(e)}encode(t,e,n=0){return At(e).writeFloatBE(t,n),4}}F.FloatBE=tu;class eu extends Nt{constructor(t){super(8,t)}decode(t,e=0){return At(t).readDoubleLE(e)}encode(t,e,n=0){return At(e).writeDoubleLE(t,n),8}}F.Double=eu;class nu extends Nt{constructor(t){super(8,t)}decode(t,e=0){return At(t).readDoubleBE(e)}encode(t,e,n=0){return At(e).writeDoubleBE(t,n),8}}F.DoubleBE=nu;class ru extends Nt{constructor(t,e,n){if(!(t instanceof Nt))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof We&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(e instanceof We)&&0<t.span&&(s=e*t.span),super(s,n),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0,s=this.count;if(s instanceof We&&(s=s.decode(t,e)),0<this.elementLayout.span)n=s*this.elementLayout.span;else{let i=0;for(;i<s;)n+=this.elementLayout.getSpan(t,e+n),++i}return n}decode(t,e=0){const n=[];let s=0,i=this.count;for(i instanceof We&&(i=i.decode(t,e));s<i;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),s+=1;return n}encode(t,e,n=0){const s=this.elementLayout,i=t.reduce((o,a)=>o+s.encode(a,e,n+o),0);return this.count instanceof We&&this.count.encode(t.length,e,n),i}}F.Sequence=ru;class iu extends Nt{constructor(t,e,n){if(!(Array.isArray(t)&&t.reduce((i,o)=>i&&o instanceof Nt,!0)))throw new TypeError("fields must be array of Layout instances");typeof e=="boolean"&&n===void 0&&(n=e,e=void 0);for(const i of t)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=t.reduce((i,o)=>i+o.getSpan(),0)}catch{}super(s,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((s,i)=>{const o=i.getSpan(t,e);return e+=o,s+o},0)}catch{throw new RangeError("indeterminate span")}return n}decode(t,e=0){Cr(t);const n=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(n[s.property]=s.decode(t,e)),e+=s.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n=0){const s=n;let i=0,o=0;for(const a of this.fields){let c=a.span;if(o=0<c?c:0,a.property!==void 0){const p=t[a.property];p!==void 0&&(o=a.encode(p,e,n),0>c&&(c=a.getSpan(e,n)))}i=n,n+=c}return i+o-s}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}F.Structure=iu;class Jo{constructor(t){this.property=t}decode(t,e){throw new Error("UnionDiscriminator is abstract")}encode(t,e,n){throw new Error("UnionDiscriminator is abstract")}}F.UnionDiscriminator=Jo;class Ai extends Jo{constructor(t,e){if(!(t instanceof We&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}F.UnionLayoutDiscriminator=Ai;class Xo extends Nt{constructor(t,e,n){let s;if(t instanceof tn||t instanceof an)s=new Ai(new Qo(t));else if(t instanceof We&&t.isCount())s=new Ai(t);else if(t instanceof Jo)s=t;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(e===void 0&&(e=null),!(e===null||e instanceof Nt))throw new TypeError("defaultLayout must be null or a Layout");if(e!==null){if(0>e.span)throw new Error("defaultLayout must have constant span");e.property===void 0&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&(t instanceof tn||t instanceof an)&&(i+=s.layout.span)),super(i,n),this.discriminator=s,this.usesPrefixDiscriminator=t instanceof tn||t instanceof an,this.defaultLayout=e,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(t,e=0){if(0<=this.span)return this.span;const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(n.property&&Object.prototype.hasOwnProperty.call(t,n.property))return n}throw new Error("unable to infer src variant")}decode(t,e=0){let n;const s=this.discriminator,i=s.decode(t,e),o=this.registry[i];if(o===void 0){const a=this.defaultLayout;let c=0;this.usesPrefixDiscriminator&&(c=s.layout.span),n=this.makeDestinationObject(),n[s.property]=i,n[a.property]=a.decode(t,e+c)}else n=o.decode(t,e);return n}encode(t,e,n=0){const s=this.getSourceVariant(t);if(s===void 0){const i=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=i.layout.span),i.encode(t[i.property],e,n),a+o.encode(t[o.property],e,n+a)}return s.encode(t,e,n)}addVariant(t,e,n){const s=new su(this,t,e,n);return this.registry[t]=s,s}getVariant(t,e=0){let n;return t instanceof Uint8Array?n=this.discriminator.decode(t,e):n=t,this.registry[n]}}F.Union=Xo;class su extends Nt{constructor(t,e,n,s){if(!(t instanceof Xo))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&s===void 0&&(s=n,n=null),n){if(!(n instanceof Nt))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=n?n.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,s),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let s=0;return this.layout&&(s=this.layout.getSpan(t,e+n)),n+s}decode(t,e=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+s):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n=0){let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=s;if(this.layout&&(this.layout.encode(t[this.property],e,n+s),i+=this.layout.getSpan(e,n+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}F.VariantLayout=su;function fr(r){return 0>r&&(r+=4294967296),r}class ta extends Nt{constructor(t,e,n){if(!(t instanceof tn||t instanceof an))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof e=="string"&&n===void 0&&(n=e,e=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!e,this.fields=[];let s=0;this._packedSetValue=function(i){return s=fr(i),this},this._packedGetValue=function(){return s}}decode(t,e=0){const n=this.makeDestinationObject(),s=this.word.decode(t,e);this._packedSetValue(s);for(const i of this.fields)i.property!==void 0&&(n[i.property]=i.decode(t));return n}encode(t,e,n=0){const s=this.word.decode(e,n);this._packedSetValue(s);for(const i of this.fields)if(i.property!==void 0){const o=t[i.property];o!==void 0&&i.encode(o)}return this.word.encode(this._packedGetValue(),e,n)}addField(t,e){const n=new ea(this,t,e);return this.fields.push(n),n}addBoolean(t){const e=new ou(this,t);return this.fields.push(e),e}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}F.BitStructure=ta;class ea{constructor(t,e,n){if(!(t instanceof ta))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const s=8*t.span,i=t.fields.reduce((o,a)=>o+a.bits,0);if(e+i>s)throw new Error("bits too long for span remainder ("+(s-i)+" of "+s+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,e===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=s-i-e),this.wordMask=fr(this.valueMask<<this.start),this.property=n}decode(t,e){const n=this.container._packedGetValue();return fr(n&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==fr(t&this.valueMask))throw new TypeError(Zo("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),n=fr(t<<this.start);this.container._packedSetValue(fr(e&~this.wordMask)|n)}}F.BitField=ea;let ou=class extends ea{constructor(t,e){super(t,1,e)}decode(t,e){return!!super.decode(t,e)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}};F.Boolean=ou;class au extends Nt{constructor(t,e){if(!(t instanceof We&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof We||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e=0){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),At(t).slice(e,e+n)}encode(t,e,n){let s=this.length;if(this.length instanceof We&&(s=t.length),!(t instanceof Uint8Array&&s===t.length))throw new TypeError(Zo("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(n+s>e.length)throw new RangeError("encoding overruns Uint8Array");const i=At(t);return At(e).write(i.toString("hex"),n,s,"hex"),this.length instanceof We&&this.length.encode(s,e,n),s}}F.Blob=au;class cu extends Nt{constructor(t){super(-1,t)}getSpan(t,e=0){Cr(t);let n=e;for(;n<t.length&&t[n]!==0;)n+=1;return 1+n-e}decode(t,e=0){const n=this.getSpan(t,e);return At(t).slice(e,e+n-1).toString("utf-8")}encode(t,e,n=0){typeof t!="string"&&(t=String(t));const s=Vo.Buffer.from(t,"utf8"),i=s.length;if(n+i>e.length)throw new RangeError("encoding overruns Buffer");const o=At(e);return s.copy(o,n),o[n+i]=0,i+1}}F.CString=cu;class uu extends Nt{constructor(t,e){if(typeof t=="string"&&e===void 0&&(e=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e=0){return Cr(t),t.length-e}decode(t,e=0){const n=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return At(t).slice(e,e+n).toString("utf-8")}encode(t,e,n=0){typeof t!="string"&&(t=String(t));const s=Vo.Buffer.from(t,"utf8"),i=s.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>e.length)throw new RangeError("encoding overruns Buffer");return s.copy(At(e),n),i}}F.UTF8=uu;class lu extends Nt{constructor(t,e){super(0,e),this.value=t}decode(t,e){return this.value}encode(t,e,n){return 0}}F.Constant=lu;F.greedy=(r,t)=>new Yc(r,t);var Xn=F.offset=(r,t,e)=>new Qo(r,t,e),Lt=F.u8=r=>new tn(1,r),Je=F.u16=r=>new tn(2,r);F.u24=r=>new tn(3,r);var ct=F.u32=r=>new tn(4,r);F.u40=r=>new tn(5,r);F.u48=r=>new tn(6,r);var _e=F.nu64=r=>new Vc(r);F.u16be=r=>new an(2,r);F.u24be=r=>new an(3,r);F.u32be=r=>new an(4,r);F.u40be=r=>new an(5,r);F.u48be=r=>new an(6,r);F.nu64be=r=>new Zc(r);F.s8=r=>new ir(1,r);F.s16=r=>new ir(2,r);F.s24=r=>new ir(3,r);F.s32=r=>new ir(4,r);F.s40=r=>new ir(5,r);F.s48=r=>new ir(6,r);var qe=F.ns64=r=>new Qc(r);F.s16be=r=>new Rr(2,r);F.s24be=r=>new Rr(3,r);F.s32be=r=>new Rr(4,r);F.s40be=r=>new Rr(5,r);F.s48be=r=>new Rr(6,r);F.ns64be=r=>new Jc(r);F.f32=r=>new Xc(r);F.f32be=r=>new tu(r);F.f64=r=>new eu(r);F.f64be=r=>new nu(r);var it=F.struct=(r,t,e)=>new iu(r,t,e);F.bits=(r,t,e)=>new ta(r,t,e);var Oe=F.seq=(r,t,e)=>new ru(r,t,e);F.union=(r,t,e)=>new Xo(r,t,e);F.unionLayoutDiscriminator=(r,t)=>new Ai(r,t);var $t=F.blob=(r,t)=>new au(r,t);F.cstr=r=>new cu(r);F.utf8=(r,t)=>new uu(r,t);F.constant=(r,t)=>new lu(r,t);var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});function Vh(r){{const t=ye.from(r);t.reverse();const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}var Zh=Xr.toBigIntLE=Vh;function Qh(r){{const t=r.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}}Xr.toBigIntBE=Qh;function Jh(r,t){{const e=r.toString(16),n=ye.from(e.padStart(t*2,"0").slice(0,t*2),"hex");return n.reverse(),n}}var Xh=Xr.toBufferLE=Jh;function td(r,t){{const e=r.toString(16);return ye.from(e.padStart(t*2,"0").slice(0,t*2),"hex")}}Xr.toBufferBE=td;class ed extends TypeError{constructor(t,e){let n;const{message:s,explanation:i,...o}=t,{path:a}=t,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...e()])}}function nd(r){return ti(r)&&typeof r[Symbol.iterator]=="function"}function ti(r){return typeof r=="object"&&r!=null}function Li(r){return ti(r)&&!Array.isArray(r)}function un(r){return typeof r=="symbol"?r.toString():typeof r=="string"?JSON.stringify(r):`${r}`}function rd(r){const{done:t,value:e}=r.next();return t?void 0:e}function id(r,t,e,n){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});const{path:s,branch:i}=t,{type:o}=e,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${un(n)}\``}=r;return{value:n,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...r,message:c}}function*za(r,t,e,n){nd(r)||(r=[r]);for(const s of r){const i=id(s,t,e,n);i&&(yield i)}}function*na(r,t,e={}){const{path:n=[],branch:s=[r],coerce:i=!1,mask:o=!1}=e,a={path:n,branch:s,mask:o};i&&(r=t.coercer(r,a));let c="valid";for(const p of t.validator(r,a))p.explanation=e.message,c="not_valid",yield[p,void 0];for(let[p,f,y]of t.entries(r,a)){const x=na(f,y,{path:p===void 0?n:[...n,p],branch:p===void 0?s:[...s,f],coerce:i,mask:o,message:e.message});for(const M of x)M[0]?(c=M[0].refinement!=null?"not_refined":"not_valid",yield[M[0],void 0]):i&&(f=M[1],p===void 0?r=f:r instanceof Map?r.set(p,f):r instanceof Set?r.add(f):ti(r)&&(f!==void 0||p in r)&&(r[p]=f))}if(c!=="not_valid")for(const p of t.refiner(r,a))p.explanation=e.message,c="not_refined",yield[p,void 0];c==="valid"&&(yield[void 0,r])}let pn=class{constructor(t){const{type:e,schema:n,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=t;this.type=e,this.schema=n,this.entries=a,this.coercer=o,s?this.validator=(c,p)=>{const f=s(c,p);return za(f,p,this,c)}:this.validator=()=>[],i?this.refiner=(c,p)=>{const f=i(c,p);return za(f,p,this,c)}:this.refiner=()=>[]}assert(t,e){return sd(t,this,e)}create(t,e){return Z(t,this,e)}is(t){return fu(t,this)}mask(t,e){return od(t,this,e)}validate(t,e={}){return ei(t,this,e)}};function sd(r,t,e){const n=ei(r,t,{message:e});if(n[0])throw n[0]}function Z(r,t,e){const n=ei(r,t,{coerce:!0,message:e});if(n[0])throw n[0];return n[1]}function od(r,t,e){const n=ei(r,t,{coerce:!0,mask:!0,message:e});if(n[0])throw n[0];return n[1]}function fu(r,t){return!ei(r,t)[0]}function ei(r,t,e={}){const n=na(r,t,e),s=rd(n);return s[0]?[new ed(s[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,s[1]]}function sr(r,t){return new pn({type:r,schema:null,validator:t})}function ad(){return sr("any",()=>!0)}function X(r){return new pn({type:"array",schema:r,*entries(t){if(r&&Array.isArray(t))for(const[e,n]of t.entries())yield[e,n,r]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${un(t)}`}})}function hn(){return sr("boolean",r=>typeof r=="boolean")}function ra(r){return sr("instance",t=>t instanceof r||`Expected a \`${r.name}\` instance, but received: ${un(t)}`)}function Yt(r){const t=un(r),e=typeof r;return new pn({type:"literal",schema:e==="string"||e==="number"||e==="boolean"?r:null,validator(n){return n===r||`Expected the literal \`${t}\`, but received: ${un(n)}`}})}function cd(){return sr("never",()=>!1)}function et(r){return new pn({...r,validator:(t,e)=>t===null||r.validator(t,e),refiner:(t,e)=>t===null||r.refiner(t,e)})}function z(){return sr("number",r=>typeof r=="number"&&!isNaN(r)||`Expected a number, but received: ${un(r)}`)}function ut(r){return new pn({...r,validator:(t,e)=>t===void 0||r.validator(t,e),refiner:(t,e)=>t===void 0||r.refiner(t,e)})}function hu(r,t){return new pn({type:"record",schema:null,*entries(e){if(ti(e))for(const n in e){const s=e[n];yield[n,n,r],yield[n,s,t]}},validator(e){return Li(e)||`Expected an object, but received: ${un(e)}`},coercer(e){return Li(e)?{...e}:e}})}function V(){return sr("string",r=>typeof r=="string"||`Expected a string, but received: ${un(r)}`)}function ia(r){const t=cd();return new pn({type:"tuple",schema:null,*entries(e){if(Array.isArray(e)){const n=Math.max(r.length,e.length);for(let s=0;s<n;s++)yield[s,e[s],r[s]||t]}},validator(e){return Array.isArray(e)||`Expected an array, but received: ${un(e)}`},coercer(e){return Array.isArray(e)?e.slice():e}})}function q(r){const t=Object.keys(r);return new pn({type:"type",schema:r,*entries(e){if(ti(e))for(const n of t)yield[n,e[n],r[n]]},validator(e){return Li(e)||`Expected an object, but received: ${un(e)}`},coercer(e){return Li(e)?{...e}:e}})}function Ue(r){const t=r.map(e=>e.type).join(" | ");return new pn({type:"union",schema:null,coercer(e,n){for(const s of r){const[i,o]=s.validate(e,{coerce:!0,mask:n.mask});if(!i)return o}return e},validator(e,n){const s=[];for(const i of r){const[...o]=na(e,i,n),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${un(e)}`,...s]}})}function Dr(){return sr("unknown",()=>!0)}function ni(r,t,e){return new pn({...r,coercer:(n,s)=>fu(n,t)?r.coercer(e(n,s),s):r.coercer(n,s)})}var ci,ud=new Uint8Array(16);function du(){if(!ci&&(ci=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ci))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ci(ud)}const ld=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Ki(r){return typeof r=="string"&&ld.test(r)}var Ie=[];for(var ks=0;ks<256;++ks)Ie.push((ks+256).toString(16).substr(1));function qi(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(Ie[r[t+0]]+Ie[r[t+1]]+Ie[r[t+2]]+Ie[r[t+3]]+"-"+Ie[r[t+4]]+Ie[r[t+5]]+"-"+Ie[r[t+6]]+Ie[r[t+7]]+"-"+Ie[r[t+8]]+Ie[r[t+9]]+"-"+Ie[r[t+10]]+Ie[r[t+11]]+Ie[r[t+12]]+Ie[r[t+13]]+Ie[r[t+14]]+Ie[r[t+15]]).toLowerCase();if(!Ki(e))throw TypeError("Stringified UUID is invalid");return e}var Ua,Cs,Rs=0,Ds=0;function fd(r,t,e){var n=t&&e||0,s=t||new Array(16);r=r||{};var i=r.node||Ua,o=r.clockseq!==void 0?r.clockseq:Cs;if(i==null||o==null){var a=r.random||(r.rng||du)();i==null&&(i=Ua=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=Cs=(a[6]<<8|a[7])&16383)}var c=r.msecs!==void 0?r.msecs:Date.now(),p=r.nsecs!==void 0?r.nsecs:Ds+1,f=c-Rs+(p-Ds)/1e4;if(f<0&&r.clockseq===void 0&&(o=o+1&16383),(f<0||c>Rs)&&r.nsecs===void 0&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Rs=c,Ds=p,Cs=o,c+=122192928e5;var y=((c&268435455)*1e4+p)%4294967296;s[n++]=y>>>24&255,s[n++]=y>>>16&255,s[n++]=y>>>8&255,s[n++]=y&255;var x=c/4294967296*1e4&268435455;s[n++]=x>>>8&255,s[n++]=x&255,s[n++]=x>>>24&15|16,s[n++]=x>>>16&255,s[n++]=o>>>8|128,s[n++]=o&255;for(var M=0;M<6;++M)s[n+M]=i[M];return t||qi(s)}function gu(r){if(!Ki(r))throw TypeError("Invalid UUID");var t,e=new Uint8Array(16);return e[0]=(t=parseInt(r.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=t&255,e[4]=(t=parseInt(r.slice(9,13),16))>>>8,e[5]=t&255,e[6]=(t=parseInt(r.slice(14,18),16))>>>8,e[7]=t&255,e[8]=(t=parseInt(r.slice(19,23),16))>>>8,e[9]=t&255,e[10]=(t=parseInt(r.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=t&255,e}function hd(r){r=unescape(encodeURIComponent(r));for(var t=[],e=0;e<r.length;++e)t.push(r.charCodeAt(e));return t}var dd="6ba7b810-9dad-11d1-80b4-00c04fd430c8",gd="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function pu(r,t,e){function n(s,i,o,a){if(typeof s=="string"&&(s=hd(s)),typeof i=="string"&&(i=gu(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+s.length);if(c.set(i),c.set(s,i.length),c=e(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,o){a=a||0;for(var p=0;p<16;++p)o[a+p]=c[p];return o}return qi(c)}try{n.name=r}catch{}return n.DNS=dd,n.URL=gd,n}function pd(r){if(typeof r=="string"){var t=unescape(encodeURIComponent(r));r=new Uint8Array(t.length);for(var e=0;e<t.length;++e)r[e]=t.charCodeAt(e)}return wd(md(yd(r),r.length*8))}function wd(r){for(var t=[],e=r.length*32,n="0123456789abcdef",s=0;s<e;s+=8){var i=r[s>>5]>>>s%32&255,o=parseInt(n.charAt(i>>>4&15)+n.charAt(i&15),16);t.push(o)}return t}function wu(r){return(r+64>>>9<<4)+14+1}function md(r,t){r[t>>5]|=128<<t%32,r[wu(t)-1]=t;for(var e=1732584193,n=-271733879,s=-1732584194,i=271733878,o=0;o<r.length;o+=16){var a=e,c=n,p=s,f=i;e=Ne(e,n,s,i,r[o],7,-680876936),i=Ne(i,e,n,s,r[o+1],12,-389564586),s=Ne(s,i,e,n,r[o+2],17,606105819),n=Ne(n,s,i,e,r[o+3],22,-1044525330),e=Ne(e,n,s,i,r[o+4],7,-176418897),i=Ne(i,e,n,s,r[o+5],12,1200080426),s=Ne(s,i,e,n,r[o+6],17,-1473231341),n=Ne(n,s,i,e,r[o+7],22,-45705983),e=Ne(e,n,s,i,r[o+8],7,1770035416),i=Ne(i,e,n,s,r[o+9],12,-1958414417),s=Ne(s,i,e,n,r[o+10],17,-42063),n=Ne(n,s,i,e,r[o+11],22,-1990404162),e=Ne(e,n,s,i,r[o+12],7,1804603682),i=Ne(i,e,n,s,r[o+13],12,-40341101),s=Ne(s,i,e,n,r[o+14],17,-1502002290),n=Ne(n,s,i,e,r[o+15],22,1236535329),e=ke(e,n,s,i,r[o+1],5,-165796510),i=ke(i,e,n,s,r[o+6],9,-1069501632),s=ke(s,i,e,n,r[o+11],14,643717713),n=ke(n,s,i,e,r[o],20,-373897302),e=ke(e,n,s,i,r[o+5],5,-701558691),i=ke(i,e,n,s,r[o+10],9,38016083),s=ke(s,i,e,n,r[o+15],14,-660478335),n=ke(n,s,i,e,r[o+4],20,-405537848),e=ke(e,n,s,i,r[o+9],5,568446438),i=ke(i,e,n,s,r[o+14],9,-1019803690),s=ke(s,i,e,n,r[o+3],14,-187363961),n=ke(n,s,i,e,r[o+8],20,1163531501),e=ke(e,n,s,i,r[o+13],5,-1444681467),i=ke(i,e,n,s,r[o+2],9,-51403784),s=ke(s,i,e,n,r[o+7],14,1735328473),n=ke(n,s,i,e,r[o+12],20,-1926607734),e=Ce(e,n,s,i,r[o+5],4,-378558),i=Ce(i,e,n,s,r[o+8],11,-2022574463),s=Ce(s,i,e,n,r[o+11],16,1839030562),n=Ce(n,s,i,e,r[o+14],23,-35309556),e=Ce(e,n,s,i,r[o+1],4,-1530992060),i=Ce(i,e,n,s,r[o+4],11,1272893353),s=Ce(s,i,e,n,r[o+7],16,-155497632),n=Ce(n,s,i,e,r[o+10],23,-1094730640),e=Ce(e,n,s,i,r[o+13],4,681279174),i=Ce(i,e,n,s,r[o],11,-358537222),s=Ce(s,i,e,n,r[o+3],16,-722521979),n=Ce(n,s,i,e,r[o+6],23,76029189),e=Ce(e,n,s,i,r[o+9],4,-640364487),i=Ce(i,e,n,s,r[o+12],11,-421815835),s=Ce(s,i,e,n,r[o+15],16,530742520),n=Ce(n,s,i,e,r[o+2],23,-995338651),e=Re(e,n,s,i,r[o],6,-198630844),i=Re(i,e,n,s,r[o+7],10,1126891415),s=Re(s,i,e,n,r[o+14],15,-1416354905),n=Re(n,s,i,e,r[o+5],21,-57434055),e=Re(e,n,s,i,r[o+12],6,1700485571),i=Re(i,e,n,s,r[o+3],10,-1894986606),s=Re(s,i,e,n,r[o+10],15,-1051523),n=Re(n,s,i,e,r[o+1],21,-2054922799),e=Re(e,n,s,i,r[o+8],6,1873313359),i=Re(i,e,n,s,r[o+15],10,-30611744),s=Re(s,i,e,n,r[o+6],15,-1560198380),n=Re(n,s,i,e,r[o+13],21,1309151649),e=Re(e,n,s,i,r[o+4],6,-145523070),i=Re(i,e,n,s,r[o+11],10,-1120210379),s=Re(s,i,e,n,r[o+2],15,718787259),n=Re(n,s,i,e,r[o+9],21,-343485551),e=jn(e,a),n=jn(n,c),s=jn(s,p),i=jn(i,f)}return[e,n,s,i]}function yd(r){if(r.length===0)return[];for(var t=r.length*8,e=new Uint32Array(wu(t)),n=0;n<t;n+=8)e[n>>5]|=(r[n/8]&255)<<n%32;return e}function jn(r,t){var e=(r&65535)+(t&65535),n=(r>>16)+(t>>16)+(e>>16);return n<<16|e&65535}function bd(r,t){return r<<t|r>>>32-t}function Hi(r,t,e,n,s,i){return jn(bd(jn(jn(t,r),jn(n,i)),s),e)}function Ne(r,t,e,n,s,i,o){return Hi(t&e|~t&n,r,t,s,i,o)}function ke(r,t,e,n,s,i,o){return Hi(t&n|e&~n,r,t,s,i,o)}function Ce(r,t,e,n,s,i,o){return Hi(t^e^n,r,t,s,i,o)}function Re(r,t,e,n,s,i,o){return Hi(e^(t|~n),r,t,s,i,o)}var vd=pu("v3",48,pd);function Md(r,t,e){r=r||{};var n=r.random||(r.rng||du)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){e=e||0;for(var s=0;s<16;++s)t[e+s]=n[s];return t}return qi(n)}function Ed(r,t,e,n){switch(r){case 0:return t&e^~t&n;case 1:return t^e^n;case 2:return t&e^t&n^e&n;case 3:return t^e^n}}function Os(r,t){return r<<t|r>>>32-t}function Sd(r){var t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var s=0;s<n.length;++s)r.push(n.charCodeAt(s))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var i=r.length/4+2,o=Math.ceil(i/16),a=new Array(o),c=0;c<o;++c){for(var p=new Uint32Array(16),f=0;f<16;++f)p[f]=r[c*64+f*4]<<24|r[c*64+f*4+1]<<16|r[c*64+f*4+2]<<8|r[c*64+f*4+3];a[c]=p}a[o-1][14]=(r.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(r.length-1)*8&4294967295;for(var y=0;y<o;++y){for(var x=new Uint32Array(80),M=0;M<16;++M)x[M]=a[y][M];for(var L=16;L<80;++L)x[L]=Os(x[L-3]^x[L-8]^x[L-14]^x[L-16],1);for(var B=e[0],v=e[1],k=e[2],C=e[3],I=e[4],O=0;O<80;++O){var P=Math.floor(O/20),U=Os(B,5)+Ed(P,v,k,C)+I+t[P]+x[O]>>>0;I=C,C=k,k=Os(v,30)>>>0,v=B,B=U}e[0]=e[0]+B>>>0,e[1]=e[1]+v>>>0,e[2]=e[2]+k>>>0,e[3]=e[3]+C>>>0,e[4]=e[4]+I>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var xd=pu("v5",80,Sd);const Id="00000000-0000-0000-0000-000000000000";function _d(r){if(!Ki(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}const Ad=Object.freeze(Object.defineProperty({__proto__:null,NIL:Id,parse:gu,stringify:qi,v1:fd,v3:vd,v4:Md,v5:xd,validate:Ki,version:_d},Symbol.toStringTag,{value:"Module"})),mu=Do(Ad),Ld=mu.v4,Bd=function(r,t,e,n){if(typeof r!="string")throw new TypeError(r+" must be a string");n=n||{};const s=typeof n.version=="number"?n.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");const i={method:r};if(s===2&&(i.jsonrpc="2.0"),t){if(typeof t!="object"&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");i.params=t}if(typeof e>"u"){const o=typeof n.generator=="function"?n.generator:function(){return Ld()};i.id=o(i,n)}else s===2&&e===null?n.notificationIdNull&&(i.id=null):i.id=e;return i};var Td=Bd;const Nd=mu.v4,kd=Td,Hr=function(r,t){if(!(this instanceof Hr))return new Hr(r,t);t||(t={}),this.options={reviver:typeof t.reviver<"u"?t.reviver:null,replacer:typeof t.replacer<"u"?t.replacer:null,generator:typeof t.generator<"u"?t.generator:function(){return Nd()},version:typeof t.version<"u"?t.version:2,notificationIdNull:typeof t.notificationIdNull=="boolean"?t.notificationIdNull:!1},this.callServer=r};var Cd=Hr;Hr.prototype.request=function(r,t,e,n){const s=this;let i=null;const o=Array.isArray(r)&&typeof t=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&r&&typeof r=="object"&&typeof t=="function")n=t,i=r;else{typeof e=="function"&&(n=e,e=void 0);const p=typeof n=="function";try{i=kd(r,t,e,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(f){if(p)return n(f);throw f}if(!p)return i}let c;try{c=JSON.stringify(i,this.options.replacer)}catch(p){return n(p)}return this.callServer(c,function(p,f){s._parseResponse(p,f,n)}),i};Hr.prototype._parseResponse=function(r,t,e){if(r){e(r);return}if(!t)return e();let n;try{n=JSON.parse(t,this.options.reviver)}catch(s){return e(s)}if(e.length===3)if(Array.isArray(n)){const s=function(o){return typeof o.error<"u"},i=function(o){return!s(o)};return e(null,n.filter(s),n.filter(i))}else return e(null,n.error,n.result);e(null,n)};const Rd=rr(Cd);var yu={exports:{}};(function(r){var t=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function s(c,p,f){this.fn=c,this.context=p,this.once=f||!1}function i(c,p,f,y,x){if(typeof f!="function")throw new TypeError("The listener must be a function");var M=new s(f,y||c,x),L=e?e+p:p;return c._events[L]?c._events[L].fn?c._events[L]=[c._events[L],M]:c._events[L].push(M):(c._events[L]=M,c._eventsCount++),c}function o(c,p){--c._eventsCount===0?c._events=new n:delete c._events[p]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var p=[],f,y;if(this._eventsCount===0)return p;for(y in f=this._events)t.call(f,y)&&p.push(e?y.slice(1):y);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(f)):p},a.prototype.listeners=function(p){var f=e?e+p:p,y=this._events[f];if(!y)return[];if(y.fn)return[y.fn];for(var x=0,M=y.length,L=new Array(M);x<M;x++)L[x]=y[x].fn;return L},a.prototype.listenerCount=function(p){var f=e?e+p:p,y=this._events[f];return y?y.fn?1:y.length:0},a.prototype.emit=function(p,f,y,x,M,L){var B=e?e+p:p;if(!this._events[B])return!1;var v=this._events[B],k=arguments.length,C,I;if(v.fn){switch(v.once&&this.removeListener(p,v.fn,void 0,!0),k){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,f),!0;case 3:return v.fn.call(v.context,f,y),!0;case 4:return v.fn.call(v.context,f,y,x),!0;case 5:return v.fn.call(v.context,f,y,x,M),!0;case 6:return v.fn.call(v.context,f,y,x,M,L),!0}for(I=1,C=new Array(k-1);I<k;I++)C[I-1]=arguments[I];v.fn.apply(v.context,C)}else{var O=v.length,P;for(I=0;I<O;I++)switch(v[I].once&&this.removeListener(p,v[I].fn,void 0,!0),k){case 1:v[I].fn.call(v[I].context);break;case 2:v[I].fn.call(v[I].context,f);break;case 3:v[I].fn.call(v[I].context,f,y);break;case 4:v[I].fn.call(v[I].context,f,y,x);break;default:if(!C)for(P=1,C=new Array(k-1);P<k;P++)C[P-1]=arguments[P];v[I].fn.apply(v[I].context,C)}}return!0},a.prototype.on=function(p,f,y){return i(this,p,f,y,!1)},a.prototype.once=function(p,f,y){return i(this,p,f,y,!0)},a.prototype.removeListener=function(p,f,y,x){var M=e?e+p:p;if(!this._events[M])return this;if(!f)return o(this,M),this;var L=this._events[M];if(L.fn)L.fn===f&&(!x||L.once)&&(!y||L.context===y)&&o(this,M);else{for(var B=0,v=[],k=L.length;B<k;B++)(L[B].fn!==f||x&&!L[B].once||y&&L[B].context!==y)&&v.push(L[B]);v.length?this._events[M]=v.length===1?v[0]:v:o(this,M)}return this},a.prototype.removeAllListeners=function(p){var f;return p?(f=e?e+p:p,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=e,a.EventEmitter=a,r.exports=a})(yu);var Dd=yu.exports;const bu=rr(Dd);var Od=class extends bu{socket;constructor(r,t,e){super(),this.socket=new window.WebSocket(r,e),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=n=>this.emit("message",n.data),this.socket.onerror=n=>this.emit("error",n),this.socket.onclose=n=>{this.emit("close",n.code,n.reason)}}send(r,t,e){const n=e||t;try{this.socket.send(r),n()}catch(s){n(s)}}close(r,t){this.socket.close(r,t)}addEventListener(r,t,e){this.socket.addEventListener(r,t,e)}};function jd(r,t){return new Od(r,t)}var zd=class{encode(r){return JSON.stringify(r)}decode(r){return JSON.parse(r)}},Ud=class extends bu{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(r,t="ws://localhost:8080",{autoconnect:e=!0,reconnect:n=!0,reconnect_interval:s=1e3,max_reconnects:i=5,...o}={},a,c){super(),this.webSocketFactory=r,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=e,this.ready=!1,this.reconnect=n,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=i,this.rest_options=o,this.current_reconnects=0,this.generate_request_id=a||(()=>++this.rpc_id),c?this.dataPack=c:this.dataPack=new zd,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(r,t,e,n){return!n&&typeof e=="object"&&(n=e,e=null),new Promise((s,i)=>{if(!this.ready)return i(new Error("socket not ready"));const o=this.generate_request_id(r,t),a={jsonrpc:"2.0",method:r,params:t||void 0,id:o};this.socket.send(this.dataPack.encode(a),n,c=>{if(c)return i(c);this.queue[o]={promise:[s,i]},e&&(this.queue[o].timeout=setTimeout(()=>{delete this.queue[o],i(new Error("reply timeout"))},e))})})}async login(r){const t=await this.call("rpc.login",r);if(!t)throw new Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(r,t){return new Promise((e,n)=>{if(!this.ready)return n(new Error("socket not ready"));const s={jsonrpc:"2.0",method:r,params:t};this.socket.send(this.dataPack.encode(s),i=>{if(i)return n(i);e()})})}async subscribe(r){typeof r=="string"&&(r=[r]);const t=await this.call("rpc.on",r);if(typeof r=="string"&&t[r]!=="ok")throw new Error("Failed subscribing to an event '"+r+"' with: "+t[r]);return t}async unsubscribe(r){typeof r=="string"&&(r=[r]);const t=await this.call("rpc.off",r);if(typeof r=="string"&&t[r]!=="ok")throw new Error("Failed unsubscribing from an event with: "+t);return t}close(r,t){this.socket.close(r||1e3,t)}setAutoReconnect(r){this.reconnect=r}setReconnectInterval(r){this.reconnect_interval=r}setMaxReconnects(r){this.max_reconnects=r}_connect(r,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(r,t),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:e})=>{e instanceof ArrayBuffer&&(e=yt.from(e).toString());try{e=this.dataPack.decode(e)}catch{return}if(e.notification&&this.listeners(e.notification).length){if(!Object.keys(e.params).length)return this.emit(e.notification);const n=[e.notification];if(e.params.constructor===Object)n.push(e.params);else for(let s=0;s<e.params.length;s++)n.push(e.params[s]);return Promise.resolve().then(()=>{this.emit.apply(this,n)})}if(!this.queue[e.id])return e.method?Promise.resolve().then(()=>{this.emit(e.method,e?.params)}):void 0;"error"in e=="result"in e&&this.queue[e.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[e.id].timeout&&clearTimeout(this.queue[e.id].timeout),e.error?this.queue[e.id].promise[1](e.error):this.queue[e.id].promise[0](e.result),delete this.queue[e.id]}),this.socket.addEventListener("error",e=>this.emit("error",e)),this.socket.addEventListener("close",({code:e,reason:n})=>{this.ready&&setTimeout(()=>this.emit("close",e,n),0),this.ready=!1,this.socket=void 0,e!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(r,t),this.reconnect_interval)))})}};class vu extends Ac{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,cf(t);const n=jo(e);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?t.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(t){return Ei(this),this.iHash.update(t),this}digestInto(t){Ei(this),ji(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:n,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=o,t.outputLen=a,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Mu=(r,t,e)=>new vu(r,t).update(e).digest();Mu.create=(r,t)=>new vu(r,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Pa(r){r.lowS!==void 0&&In("lowS",r.lowS),r.prehash!==void 0&&In("prehash",r.prehash)}function Pd(r){const t=Fo(r);kr(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:e,Fp:n,a:s}=t;if(e){if(!n.eql(s,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof e!="object"||typeof e.beta!="bigint"||typeof e.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:Fd,hexToBytes:Wd}=Vf,yn={Err:class extends Error{constructor(t=""){super(t)}},_tlv:{encode:(r,t)=>{const{Err:e}=yn;if(r<0||r>256)throw new e("tlv.encode: wrong tag");if(t.length&1)throw new e("tlv.encode: unpadded data");const n=t.length/2,s=gr(n);if(s.length/2&128)throw new e("tlv.encode: long form length too big");const i=n>127?gr(s.length/2|128):"";return`${gr(r)}${i}${s}${t}`},decode(r,t){const{Err:e}=yn;let n=0;if(r<0||r>256)throw new e("tlv.encode: wrong tag");if(t.length<2||t[n++]!==r)throw new e("tlv.decode: wrong tlv");const s=t[n++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new e("tlv.decode(long): indefinite length not supported");if(c>4)throw new e("tlv.decode(long): byte length is too big");const p=t.subarray(n,n+c);if(p.length!==c)throw new e("tlv.decode: length bytes not complete");if(p[0]===0)throw new e("tlv.decode(long): zero leftmost byte");for(const f of p)o=o<<8|f;if(n+=c,o<128)throw new e("tlv.decode(long): not minimal encoding")}const a=t.subarray(n,n+o);if(a.length!==o)throw new e("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+o)}}},_int:{encode(r){const{Err:t}=yn;if(r<vn)throw new t("integer: negative integers are not allowed");let e=gr(r);if(Number.parseInt(e[0],16)&8&&(e="00"+e),e.length&1)throw new t("unexpected assertion");return e},decode(r){const{Err:t}=yn;if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return Fd(r)}},toSig(r){const{Err:t,_int:e,_tlv:n}=yn,s=typeof r=="string"?Wd(r):r;Jr(s);const{v:i,l:o}=n.decode(48,s);if(o.length)throw new t("Invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,i),{v:p,l:f}=n.decode(2,c);if(f.length)throw new t("Invalid signature: left bytes after parsing");return{r:e.decode(a),s:e.decode(p)}},hexFromSig(r){const{_tlv:t,_int:e}=yn,n=`${t.encode(2,e.encode(r.r))}${t.encode(2,e.encode(r.s))}`;return t.encode(48,n)}},vn=BigInt(0),Me=BigInt(1);BigInt(2);const Fa=BigInt(3);BigInt(4);function $d(r){const t=Pd(r),{Fp:e}=t,n=Pi(t.n,t.nBitLength),s=t.toBytes||((B,v,k)=>{const C=v.toAffine();return nr(Uint8Array.from([4]),e.toBytes(C.x),e.toBytes(C.y))}),i=t.fromBytes||(B=>{const v=B.subarray(1),k=e.fromBytes(v.subarray(0,e.BYTES)),C=e.fromBytes(v.subarray(e.BYTES,2*e.BYTES));return{x:k,y:C}});function o(B){const{a:v,b:k}=t,C=e.sqr(B),I=e.mul(C,B);return e.add(e.add(I,e.mul(B,v)),k)}if(!e.eql(e.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function a(B){return Ui(B,Me,t.n)}function c(B){const{allowedPrivateKeyLengths:v,nByteLength:k,wrapPrivateKey:C,n:I}=t;if(v&&typeof B!="bigint"){if(tr(B)&&(B=er(B)),typeof B!="string"||!v.includes(B.length))throw new Error("Invalid key");B=B.padStart(k*2,"0")}let O;try{O=typeof B=="bigint"?B:Jn(be("private key",B,k))}catch{throw new Error(`private key must be ${k} bytes, hex or bigint, not ${typeof B}`)}return C&&(O=Gt(O,I)),Xe("private key",O,Me,I),O}function p(B){if(!(B instanceof x))throw new Error("ProjectivePoint expected")}const f=qr((B,v)=>{const{px:k,py:C,pz:I}=B;if(e.eql(I,e.ONE))return{x:k,y:C};const O=B.is0();v==null&&(v=O?e.ONE:e.inv(I));const P=e.mul(k,v),U=e.mul(C,v),$=e.mul(I,v);if(O)return{x:e.ZERO,y:e.ZERO};if(!e.eql($,e.ONE))throw new Error("invZ was invalid");return{x:P,y:U}}),y=qr(B=>{if(B.is0()){if(t.allowInfinityPoint&&!e.is0(B.py))return;throw new Error("bad point: ZERO")}const{x:v,y:k}=B.toAffine();if(!e.isValid(v)||!e.isValid(k))throw new Error("bad point: x or y not FE");const C=e.sqr(k),I=o(v);if(!e.eql(C,I))throw new Error("bad point: equation left != right");if(!B.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class x{constructor(v,k,C){if(this.px=v,this.py=k,this.pz=C,v==null||!e.isValid(v))throw new Error("x required");if(k==null||!e.isValid(k))throw new Error("y required");if(C==null||!e.isValid(C))throw new Error("z required");Object.freeze(this)}static fromAffine(v){const{x:k,y:C}=v||{};if(!v||!e.isValid(k)||!e.isValid(C))throw new Error("invalid affine point");if(v instanceof x)throw new Error("projective point not allowed");const I=O=>e.eql(O,e.ZERO);return I(k)&&I(C)?x.ZERO:new x(k,C,e.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const k=e.invertBatch(v.map(C=>C.pz));return v.map((C,I)=>C.toAffine(k[I])).map(x.fromAffine)}static fromHex(v){const k=x.fromAffine(i(be("pointHex",v)));return k.assertValidity(),k}static fromPrivateKey(v){return x.BASE.multiply(c(v))}static msm(v,k){return zc(x,n,v,k)}_setWindowSize(v){L.setWindowSize(this,v)}assertValidity(){y(this)}hasEvenY(){const{y:v}=this.toAffine();if(e.isOdd)return!e.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){p(v);const{px:k,py:C,pz:I}=this,{px:O,py:P,pz:U}=v,$=e.eql(e.mul(k,U),e.mul(O,I)),K=e.eql(e.mul(C,U),e.mul(P,I));return $&&K}negate(){return new x(this.px,e.neg(this.py),this.pz)}double(){const{a:v,b:k}=t,C=e.mul(k,Fa),{px:I,py:O,pz:P}=this;let U=e.ZERO,$=e.ZERO,K=e.ZERO,Q=e.mul(I,I),dt=e.mul(O,O),nt=e.mul(P,P),rt=e.mul(I,O);return rt=e.add(rt,rt),K=e.mul(I,P),K=e.add(K,K),U=e.mul(v,K),$=e.mul(C,nt),$=e.add(U,$),U=e.sub(dt,$),$=e.add(dt,$),$=e.mul(U,$),U=e.mul(rt,U),K=e.mul(C,K),nt=e.mul(v,nt),rt=e.sub(Q,nt),rt=e.mul(v,rt),rt=e.add(rt,K),K=e.add(Q,Q),Q=e.add(K,Q),Q=e.add(Q,nt),Q=e.mul(Q,rt),$=e.add($,Q),nt=e.mul(O,P),nt=e.add(nt,nt),Q=e.mul(nt,rt),U=e.sub(U,Q),K=e.mul(nt,dt),K=e.add(K,K),K=e.add(K,K),new x(U,$,K)}add(v){p(v);const{px:k,py:C,pz:I}=this,{px:O,py:P,pz:U}=v;let $=e.ZERO,K=e.ZERO,Q=e.ZERO;const dt=t.a,nt=e.mul(t.b,Fa);let rt=e.mul(k,O),T=e.mul(C,P),u=e.mul(I,U),g=e.add(k,C),w=e.add(O,P);g=e.mul(g,w),w=e.add(rt,T),g=e.sub(g,w),w=e.add(k,I);let m=e.add(O,U);return w=e.mul(w,m),m=e.add(rt,u),w=e.sub(w,m),m=e.add(C,I),$=e.add(P,U),m=e.mul(m,$),$=e.add(T,u),m=e.sub(m,$),Q=e.mul(dt,w),$=e.mul(nt,u),Q=e.add($,Q),$=e.sub(T,Q),Q=e.add(T,Q),K=e.mul($,Q),T=e.add(rt,rt),T=e.add(T,rt),u=e.mul(dt,u),w=e.mul(nt,w),T=e.add(T,u),u=e.sub(rt,u),u=e.mul(dt,u),w=e.add(w,u),rt=e.mul(T,w),K=e.add(K,rt),rt=e.mul(m,w),$=e.mul(g,$),$=e.sub($,rt),rt=e.mul(g,T),Q=e.mul(m,Q),Q=e.add(Q,rt),new x($,K,Q)}subtract(v){return this.add(v.negate())}is0(){return this.equals(x.ZERO)}wNAF(v){return L.wNAFCached(this,v,x.normalizeZ)}multiplyUnsafe(v){Xe("scalar",v,vn,t.n);const k=x.ZERO;if(v===vn)return k;if(v===Me)return this;const{endo:C}=t;if(!C)return L.unsafeLadder(this,v);let{k1neg:I,k1:O,k2neg:P,k2:U}=C.splitScalar(v),$=k,K=k,Q=this;for(;O>vn||U>vn;)O&Me&&($=$.add(Q)),U&Me&&(K=K.add(Q)),Q=Q.double(),O>>=Me,U>>=Me;return I&&($=$.negate()),P&&(K=K.negate()),K=new x(e.mul(K.px,C.beta),K.py,K.pz),$.add(K)}multiply(v){const{endo:k,n:C}=t;Xe("scalar",v,Me,C);let I,O;if(k){const{k1neg:P,k1:U,k2neg:$,k2:K}=k.splitScalar(v);let{p:Q,f:dt}=this.wNAF(U),{p:nt,f:rt}=this.wNAF(K);Q=L.constTimeNegate(P,Q),nt=L.constTimeNegate($,nt),nt=new x(e.mul(nt.px,k.beta),nt.py,nt.pz),I=Q.add(nt),O=dt.add(rt)}else{const{p:P,f:U}=this.wNAF(v);I=P,O=U}return x.normalizeZ([I,O])[0]}multiplyAndAddUnsafe(v,k,C){const I=x.BASE,O=(U,$)=>$===vn||$===Me||!U.equals(I)?U.multiplyUnsafe($):U.multiply($),P=O(this,k).add(O(v,C));return P.is0()?void 0:P}toAffine(v){return f(this,v)}isTorsionFree(){const{h:v,isTorsionFree:k}=t;if(v===Me)return!0;if(k)return k(x,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:k}=t;return v===Me?this:k?k(x,this):this.multiplyUnsafe(t.h)}toRawBytes(v=!0){return In("isCompressed",v),this.assertValidity(),s(x,this,v)}toHex(v=!0){return In("isCompressed",v),er(this.toRawBytes(v))}}x.BASE=new x(t.Gx,t.Gy,e.ONE),x.ZERO=new x(e.ZERO,e.ONE,e.ZERO);const M=t.nBitLength,L=jc(x,t.endo?Math.ceil(M/2):M);return{CURVE:t,ProjectivePoint:x,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function Kd(r){const t=Fo(r);return kr(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function qd(r){const t=Kd(r),{Fp:e,n}=t,s=e.BYTES+1,i=2*e.BYTES+1;function o(u){return Gt(u,n)}function a(u){return io(u,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:p,weierstrassEquation:f,isWithinCurveOrder:y}=$d({...t,toBytes(u,g,w){const m=g.toAffine(),E=e.toBytes(m.x),N=nr;return In("isCompressed",w),w?N(Uint8Array.from([g.hasEvenY()?2:3]),E):N(Uint8Array.from([4]),E,e.toBytes(m.y))},fromBytes(u){const g=u.length,w=u[0],m=u.subarray(1);if(g===s&&(w===2||w===3)){const E=Jn(m);if(!Ui(E,Me,e.ORDER))throw new Error("Point is not on curve");const N=f(E);let R;try{R=e.sqrt(N)}catch(A){const H=A instanceof Error?": "+A.message:"";throw new Error("Point is not on curve"+H)}const S=(R&Me)===Me;return(w&1)===1!==S&&(R=e.neg(R)),{x:E,y:R}}else if(g===i&&w===4){const E=e.fromBytes(m.subarray(0,e.BYTES)),N=e.fromBytes(m.subarray(e.BYTES,2*e.BYTES));return{x:E,y:N}}else throw new Error(`Point of length ${g} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),x=u=>er(Sr(u,t.nByteLength));function M(u){const g=n>>Me;return u>g}function L(u){return M(u)?o(-u):u}const B=(u,g,w)=>Jn(u.slice(g,w));class v{constructor(g,w,m){this.r=g,this.s=w,this.recovery=m,this.assertValidity()}static fromCompact(g){const w=t.nByteLength;return g=be("compactSignature",g,w*2),new v(B(g,0,w),B(g,w,2*w))}static fromDER(g){const{r:w,s:m}=yn.toSig(be("DER",g));return new v(w,m)}assertValidity(){Xe("r",this.r,Me,n),Xe("s",this.s,Me,n)}addRecoveryBit(g){return new v(this.r,this.s,g)}recoverPublicKey(g){const{r:w,s:m,recovery:E}=this,N=U(be("msgHash",g));if(E==null||![0,1,2,3].includes(E))throw new Error("recovery id invalid");const R=E===2||E===3?w+t.n:w;if(R>=e.ORDER)throw new Error("recovery id 2 or 3 invalid");const S=E&1?"03":"02",d=c.fromHex(S+x(R)),A=a(R),H=o(-N*A),Y=o(m*A),tt=c.BASE.multiplyAndAddUnsafe(d,H,Y);if(!tt)throw new Error("point at infinify");return tt.assertValidity(),tt}hasHighS(){return M(this.s)}normalizeS(){return this.hasHighS()?new v(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Er(this.toDERHex())}toDERHex(){return yn.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Er(this.toCompactHex())}toCompactHex(){return x(this.r)+x(this.s)}}const k={isValidPrivateKey(u){try{return p(u),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{const u=Oc(t.n);return sh(t.randomBytes(u),t.n)},precompute(u=8,g=c.BASE){return g._setWindowSize(u),g.multiply(BigInt(3)),g}};function C(u,g=!0){return c.fromPrivateKey(u).toRawBytes(g)}function I(u){const g=tr(u),w=typeof u=="string",m=(g||w)&&u.length;return g?m===s||m===i:w?m===2*s||m===2*i:u instanceof c}function O(u,g,w=!0){if(I(u))throw new Error("first arg must be private key");if(!I(g))throw new Error("second arg must be public key");return c.fromHex(g).multiply(p(u)).toRawBytes(w)}const P=t.bits2int||function(u){const g=Jn(u),w=u.length*8-t.nBitLength;return w>0?g>>BigInt(w):g},U=t.bits2int_modN||function(u){return o(P(u))},$=Po(t.nBitLength);function K(u){return Xe(`num < 2^${t.nBitLength}`,u,vn,$),Sr(u,t.nByteLength)}function Q(u,g,w=dt){if(["recovered","canonical"].some(ft=>ft in w))throw new Error("sign() legacy options not supported");const{hash:m,randomBytes:E}=t;let{lowS:N,prehash:R,extraEntropy:S}=w;N==null&&(N=!0),u=be("msgHash",u),Pa(w),R&&(u=be("prehashed msgHash",m(u)));const d=U(u),A=p(g),H=[K(A),K(d)];if(S!=null&&S!==!1){const ft=S===!0?E(e.BYTES):S;H.push(be("extraEntropy",ft))}const Y=nr(...H),tt=d;function St(ft){const pt=P(ft);if(!y(pt))return;const Xt=a(pt),ht=c.BASE.multiply(pt).toAffine(),Et=o(ht.x);if(Et===vn)return;const je=o(Xt*o(tt+Et*A));if(je===vn)return;let kt=(ht.x===Et?0:2)|Number(ht.y&Me),Bt=je;return N&&M(je)&&(Bt=L(je),kt^=1),new v(Et,Bt,kt)}return{seed:Y,k2sig:St}}const dt={lowS:t.lowS,prehash:!1},nt={lowS:t.lowS,prehash:!1};function rt(u,g,w=dt){const{seed:m,k2sig:E}=Q(u,g,w),N=t;return Cc(N.hash.outputLen,N.nByteLength,N.hmac)(m,E)}c.BASE._setWindowSize(8);function T(u,g,w,m=nt){const E=u;if(g=be("msgHash",g),w=be("publicKey",w),"strict"in m)throw new Error("options.strict was renamed to lowS");Pa(m);const{lowS:N,prehash:R}=m;let S,d;try{if(typeof E=="string"||tr(E))try{S=v.fromDER(E)}catch(ht){if(!(ht instanceof yn.Err))throw ht;S=v.fromCompact(E)}else if(typeof E=="object"&&typeof E.r=="bigint"&&typeof E.s=="bigint"){const{r:ht,s:Et}=E;S=new v(ht,Et)}else throw new Error("PARSE");d=c.fromHex(w)}catch(ht){if(ht.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(N&&S.hasHighS())return!1;R&&(g=t.hash(g));const{r:A,s:H}=S,Y=U(g),tt=a(H),St=o(Y*tt),ft=o(A*tt),pt=c.BASE.multiplyAndAddUnsafe(d,St,ft)?.toAffine();return pt?o(pt.x)===A:!1}return{CURVE:t,getPublicKey:C,getSharedSecret:O,sign:rt,verify:T,ProjectivePoint:c,Signature:v,utils:k}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Hd(r){return{hash:r,hmac:(t,...e)=>Mu(r,t,ff(...e)),randomBytes:Bc}}function Gd(r,t){const e=n=>qd({...r,...Hd(n)});return Object.freeze({...e(t),create:e})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Eu=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Wa=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Yd=BigInt(1),co=BigInt(2),$a=(r,t)=>(r+t/co)/t;function Vd(r){const t=Eu,e=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),p=r*r*r%t,f=p*p*r%t,y=Qt(f,e,t)*f%t,x=Qt(y,e,t)*f%t,M=Qt(x,co,t)*p%t,L=Qt(M,s,t)*M%t,B=Qt(L,i,t)*L%t,v=Qt(B,a,t)*B%t,k=Qt(v,c,t)*v%t,C=Qt(k,a,t)*B%t,I=Qt(C,e,t)*f%t,O=Qt(I,o,t)*L%t,P=Qt(O,n,t)*p%t,U=Qt(P,co,t);if(!uo.eql(uo.sqr(U),r))throw new Error("Cannot find square root");return U}const uo=Pi(Eu,void 0,void 0,{sqrt:Vd}),sa=Gd({a:BigInt(0),b:BigInt(7),Fp:uo,n:Wa,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{const t=Wa,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Yd*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=e,o=BigInt("0x100000000000000000000000000000000"),a=$a(i*r,t),c=$a(-n*r,t);let p=Gt(r-a*e-c*s,t),f=Gt(-a*n-c*i,t);const y=p>o,x=f>o;if(y&&(p=t-p),x&&(f=t-f),p>o||f>o)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:y,k1:p,k2neg:x,k2:f}}}},oo);BigInt(0);sa.ProjectivePoint;function Ka(r){try{return $o.ExtendedPoint.fromHex(r),!0}catch{return!1}}const Su=(r,t)=>$o.sign(r,t.slice(0,32)),Zd=$o.verify,Ir=r=>yt.isBuffer(r)?r:r instanceof Uint8Array?yt.from(r.buffer,r.byteOffset,r.byteLength):yt.from(r);class Qd{constructor(t){Object.assign(this,t)}encode(){return yt.from(Hc(pi,this))}static decode(t){return Gc(pi,this,t)}static decodeUnchecked(t){return Fc(pi,this,t)}}const pi=new Map;var xu;const Jd=32,Pn=32;function Xd(r){return r._bn!==void 0}let qa=1;class at extends Qd{constructor(t){if(super({}),this._bn=void 0,Xd(t))this._bn=t._bn;else{if(typeof t=="string"){const e=Be.decode(t);if(e.length!=Pn)throw new Error("Invalid public key input");this._bn=new ja(e)}else this._bn=new ja(t);if(this._bn.byteLength()>Pn)throw new Error("Invalid public key input")}}static unique(){const t=new at(qa);return qa+=1,new at(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return Be.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(yt);if(t.length===Pn)return t;const e=yt.alloc(32);return t.copy(e,32-t.length),e}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,n){const s=yt.concat([t.toBuffer(),yt.from(e),n.toBuffer()]),i=oo(s);return new at(i)}static createProgramAddressSync(t,e){let n=yt.alloc(0);t.forEach(function(i){if(i.length>Jd)throw new TypeError("Max seed length exceeded");n=yt.concat([n,Ir(i)])}),n=yt.concat([n,e.toBuffer(),yt.from("ProgramDerivedAddress")]);const s=oo(n);if(Ka(s))throw new Error("Invalid seeds, address must fall off the curve");return new at(s)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let n=255,s;for(;n!=0;){try{const i=t.concat(yt.from([n]));s=this.createProgramAddressSync(i,e)}catch(i){if(i instanceof TypeError)throw i;n--;continue}return[s,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){const e=new at(t);return Ka(e.toBytes())}}xu=at;at.default=new xu("11111111111111111111111111111111");pi.set(at,{kind:"struct",fields:[["_bn","u256"]]});new at("BPFLoader1111111111111111111111111111111111");const br=1232,oa=127,Gr=64;class Iu extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Iu.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class _u extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(_u.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Ur extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Ur.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Bi{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((i,o)=>{n.set(i.toBase58(),o)});const s=i=>{const o=n.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return t.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const xt=(r="publicKey")=>$t(32,r),t0=(r="signature")=>$t(64,r),pr=(r="string")=>{const t=it([ct("length"),ct("lengthPadding"),$t(Xn(ct(),-8),"chars")],r),e=t.decode.bind(t),n=t.encode.bind(t),s=t;return s.decode=(i,o)=>e(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:yt.from(i,"utf8")};return n(c,o,a)},s.alloc=i=>ct().span+ct().span+yt.from(i,"utf8").length,s},e0=(r="authorized")=>it([xt("staker"),xt("withdrawer")],r),n0=(r="lockup")=>it([qe("unixTimestamp"),qe("epoch"),xt("custodian")],r),r0=(r="voteInit")=>it([xt("nodePubkey"),xt("authorizedVoter"),xt("authorizedWithdrawer"),Lt("commission")],r),i0=(r="voteAuthorizeWithSeedArgs")=>it([ct("voteAuthorizationType"),xt("currentAuthorityDerivedKeyOwnerPubkey"),pr("currentAuthorityDerivedKeySeed"),xt("newAuthorized")],r);function He(r){let t=0,e=0;for(;;){let n=r.shift();if(t|=(n&127)<<e*7,e+=1,!(n&128))break}return t}function Ge(r,t){let e=t;for(;;){let n=e&127;if(e>>=7,e==0){r.push(n);break}else n|=128,r.push(n)}}function Ht(r,t){if(!r)throw new Error(t||"Assertion failed")}class Gi{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){const n=new Map,s=o=>{const a=o.toBase58();let c=n.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,c)),c},i=s(e);i.isSigner=!0,i.isWritable=!0;for(const o of t){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new Gi(e,n)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];Ht(t.length<=256,"Max static account keys length exceeded");const e=t.filter(([,c])=>c.isSigner&&c.isWritable),n=t.filter(([,c])=>c.isSigner&&!c.isWritable),s=t.filter(([,c])=>!c.isSigner&&c.isWritable),i=t.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:e.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{Ht(e.length>0,"Expected at least one writable signer key");const[c]=e[0];Ht(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...e.map(([c])=>new at(c)),...n.map(([c])=>new at(c)),...s.map(([c])=>new at(c)),...i.map(([c])=>new at(c))];return[o,a]}extractTableLookup(t){const[e,n]=this.drainKeysFoundInLookupTable(t.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(t.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(e.length===0&&s.length===0))return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:s},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(t,e){const n=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(e(o)){const a=new at(i),c=t.findIndex(p=>p.equals(a));c>=0&&(Ht(c<256,"Max lookup table index exceeded"),n.push(c),s.push(a),this.keyMetaMap.delete(i))}return[n,s]}}const Au="Reached end of buffer unexpectedly";function Mn(r){if(r.length===0)throw new Error(Au);return r.shift()}function Ye(r,...t){const[e]=t;if(t.length===2?e+(t[1]??0)>r.length:e>=r.length)throw new Error(Au);return r.splice(...t)}class _n{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(e=>new at(e)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Be.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Bi(this.staticAccountKeys)}static compile(t){const e=Gi.compile(t.instructions,t.payerKey),[n,s]=e.getMessageComponents(),o=new Bi(s).compileInstructions(t.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Be.encode(a.data)}));return new _n({header:n,accountKeys:s,recentBlockhash:t.recentBlockhash,instructions:o})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const n=t-e,i=this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts;return n<i}else{const n=e-this.header.numReadonlySignedAccounts;return t<n}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,e)=>!this.isProgramId(e))}serialize(){const t=this.accountKeys.length;let e=[];Ge(e,t);const n=this.instructions.map(y=>{const{accounts:x,programIdIndex:M}=y,L=Array.from(Be.decode(y.data));let B=[];Ge(B,x.length);let v=[];return Ge(v,L.length),{programIdIndex:M,keyIndicesCount:yt.from(B),keyIndices:x,dataLength:yt.from(v),data:L}});let s=[];Ge(s,n.length);let i=yt.alloc(br);yt.from(s).copy(i);let o=s.length;n.forEach(y=>{const M=it([Lt("programIdIndex"),$t(y.keyIndicesCount.length,"keyIndicesCount"),Oe(Lt("keyIndex"),y.keyIndices.length,"keyIndices"),$t(y.dataLength.length,"dataLength"),Oe(Lt("userdatum"),y.data.length,"data")]).encode(y,i,o);o+=M}),i=i.slice(0,o);const a=it([$t(1,"numRequiredSignatures"),$t(1,"numReadonlySignedAccounts"),$t(1,"numReadonlyUnsignedAccounts"),$t(e.length,"keyCount"),Oe(xt("key"),t,"keys"),xt("recentBlockhash")]),c={numRequiredSignatures:yt.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:yt.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:yt.from([this.header.numReadonlyUnsignedAccounts]),keyCount:yt.from(e),keys:this.accountKeys.map(y=>Ir(y.toBytes())),recentBlockhash:Be.decode(this.recentBlockhash)};let p=yt.alloc(2048);const f=a.encode(c,p);return i.copy(p,f),p.slice(0,f+i.length)}static from(t){let e=[...t];const n=Mn(e);if(n!==(n&oa))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=Mn(e),i=Mn(e),o=He(e);let a=[];for(let x=0;x<o;x++){const M=Ye(e,0,Pn);a.push(new at(yt.from(M)))}const c=Ye(e,0,Pn),p=He(e);let f=[];for(let x=0;x<p;x++){const M=Mn(e),L=He(e),B=Ye(e,0,L),v=He(e),k=Ye(e,0,v),C=Be.encode(yt.from(k));f.push({programIdIndex:M,accounts:B,data:C})}const y={header:{numRequiredSignatures:n,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Be.encode(yt.from(c)),accountKeys:a,instructions:f};return new _n(y)}}class Yr{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Bi(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(t>=n){const s=t-n,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(t>=this.header.numRequiredSignatures){const s=t-e,o=n-e-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=e-this.header.numReadonlySignedAccounts;return t<s}}resolveAddressTableLookups(t){const e={writable:[],readonly:[]};for(const n of this.addressTableLookups){const s=t.find(i=>i.key.equals(n.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const i of n.writableIndexes)if(i<s.state.addresses.length)e.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`);for(const i of n.readonlyIndexes)if(i<s.state.addresses.length)e.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`)}return e}static compile(t){const e=Gi.compile(t.instructions,t.payerKey),n=new Array,s={writable:new Array,readonly:new Array},i=t.addressLookupTableAccounts||[];for(const f of i){const y=e.extractTableLookup(f);if(y!==void 0){const[x,{writable:M,readonly:L}]=y;n.push(x),s.writable.push(...M),s.readonly.push(...L)}}const[o,a]=e.getMessageComponents(),p=new Bi(a,s).compileInstructions(t.instructions);return new Yr({header:o,staticAccountKeys:a,recentBlockhash:t.recentBlockhash,compiledInstructions:p,addressTableLookups:n})}serialize(){const t=Array();Ge(t,this.staticAccountKeys.length);const e=this.serializeInstructions(),n=Array();Ge(n,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Ge(i,this.addressTableLookups.length);const o=it([Lt("prefix"),it([Lt("numRequiredSignatures"),Lt("numReadonlySignedAccounts"),Lt("numReadonlyUnsignedAccounts")],"header"),$t(t.length,"staticAccountKeysLength"),Oe(xt(),this.staticAccountKeys.length,"staticAccountKeys"),xt("recentBlockhash"),$t(n.length,"instructionsLength"),$t(e.length,"serializedInstructions"),$t(i.length,"addressTableLookupsLength"),$t(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(br),p=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(f=>f.toBytes()),recentBlockhash:Be.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,p)}serializeInstructions(){let t=0;const e=new Uint8Array(br);for(const n of this.compiledInstructions){const s=Array();Ge(s,n.accountKeyIndexes.length);const i=Array();Ge(i,n.data.length);const o=it([Lt("programIdIndex"),$t(s.length,"encodedAccountKeyIndexesLength"),Oe(Lt(),n.accountKeyIndexes.length,"accountKeyIndexes"),$t(i.length,"encodedDataLength"),$t(n.data.length,"data")]);t+=o.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0;const e=new Uint8Array(br);for(const n of this.addressTableLookups){const s=Array();Ge(s,n.writableIndexes.length);const i=Array();Ge(i,n.readonlyIndexes.length);const o=it([xt("accountKey"),$t(s.length,"encodedWritableIndexesLength"),Oe(Lt(),n.writableIndexes.length,"writableIndexes"),$t(i.length,"encodedReadonlyIndexesLength"),Oe(Lt(),n.readonlyIndexes.length,"readonlyIndexes")]);t+=o.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t];const n=Mn(e),s=n&oa;Ht(n!==s,"Expected versioned message but received legacy message");const i=s;Ht(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:Mn(e),numReadonlySignedAccounts:Mn(e),numReadonlyUnsignedAccounts:Mn(e)},a=[],c=He(e);for(let L=0;L<c;L++)a.push(new at(Ye(e,0,Pn)));const p=Be.encode(Ye(e,0,Pn)),f=He(e),y=[];for(let L=0;L<f;L++){const B=Mn(e),v=He(e),k=Ye(e,0,v),C=He(e),I=new Uint8Array(Ye(e,0,C));y.push({programIdIndex:B,accountKeyIndexes:k,data:I})}const x=He(e),M=[];for(let L=0;L<x;L++){const B=new at(Ye(e,0,Pn)),v=He(e),k=Ye(e,0,v),C=He(e),I=Ye(e,0,C);M.push({accountKey:B,writableIndexes:k,readonlyIndexes:I})}return new Yr({header:o,staticAccountKeys:a,recentBlockhash:p,compiledInstructions:y,addressTableLookups:M})}}const aa={deserializeMessageVersion(r){const t=r[0],e=t&oa;return e===t?"legacy":e},deserialize:r=>{const t=aa.deserializeMessageVersion(r);if(t==="legacy")return _n.from(r);if(t===0)return Yr.deserialize(r);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let Rn=function(r){return r[r.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",r[r.PROCESSED=1]="PROCESSED",r[r.TIMED_OUT=2]="TIMED_OUT",r[r.NONCE_INVALID=3]="NONCE_INVALID",r}({});const s0=yt.alloc(Gr).fill(0);class Ha{constructor(t){this.keys=void 0,this.programId=void 0,this.data=yt.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:e,isWritable:n})=>({pubkey:t.toJSON(),isSigner:e,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class sn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:e,nonceInfo:n}=t;this.minNonceContextSlot=e,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:e,lastValidBlockHeight:n}=t;this.recentBlockhash=e,this.lastValidBlockHeight=n}else{const{recentBlockhash:e,nonceInfo:n}=t;n&&(this.nonceInfo=n),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new Ha(e))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?e=[this.nonceInfo.nonceInstruction,...this.instructions]:e=this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");e.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let B=0;B<e.length;B++)if(e[B].programId===void 0)throw new Error(`Transaction instruction index ${B} has undefined program id`);const s=[],i=[];e.forEach(B=>{B.keys.forEach(k=>{i.push({...k})});const v=B.programId.toString();s.includes(v)||s.push(v)}),s.forEach(B=>{i.push({pubkey:new at(B),isSigner:!1,isWritable:!1})});const o=[];i.forEach(B=>{const v=B.pubkey.toString(),k=o.findIndex(C=>C.pubkey.toString()===v);k>-1?(o[k].isWritable=o[k].isWritable||B.isWritable,o[k].isSigner=o[k].isSigner||B.isSigner):o.push(B)}),o.sort(function(B,v){if(B.isSigner!==v.isSigner)return B.isSigner?-1:1;if(B.isWritable!==v.isWritable)return B.isWritable?-1:1;const k={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return B.pubkey.toBase58().localeCompare(v.pubkey.toBase58(),"en",k)});const a=o.findIndex(B=>B.pubkey.equals(n));if(a>-1){const[B]=o.splice(a,1);B.isSigner=!0,B.isWritable=!0,o.unshift(B)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const B of this.signatures){const v=o.findIndex(k=>k.pubkey.equals(B.publicKey));if(v>-1)o[v].isSigner||(o[v].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${B.publicKey.toString()}`)}let c=0,p=0,f=0;const y=[],x=[];o.forEach(({pubkey:B,isSigner:v,isWritable:k})=>{v?(y.push(B.toString()),c+=1,k||(p+=1)):(x.push(B.toString()),k||(f+=1))});const M=y.concat(x),L=e.map(B=>{const{data:v,programId:k}=B;return{programIdIndex:M.indexOf(k.toString()),accounts:B.keys.map(C=>M.indexOf(C.pubkey.toString())),data:Be.encode(v)}});return L.forEach(B=>{Ht(B.programIdIndex>=0),B.accounts.forEach(v=>Ht(v>=0))}),new _n({header:{numRequiredSignatures:c,numReadonlySignedAccounts:p,numReadonlyUnsignedAccounts:f},accountKeys:M,recentBlockhash:t,instructions:L})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===e.length&&this.signatures.every((s,i)=>e[i].equals(s.publicKey))||(this.signatures=e.map(n=>({signature:null,publicKey:n}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const e=new Set;this.signatures=t.filter(n=>{const s=n.toString();return e.has(s)?!1:(e.add(s),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...t){if(t.length===0)throw new Error("No signers");const e=new Set,n=[];for(const i of t){const o=i.publicKey.toString();e.has(o)||(e.add(o),n.push(i))}this.signatures=n.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...n)}partialSign(...t){if(t.length===0)throw new Error("No signers");const e=new Set,n=[];for(const i of t){const o=i.publicKey.toString();e.has(o)||(e.add(o),n.push(i))}const s=this._compile();this._partialSign(s,...n)}_partialSign(t,...e){const n=t.serialize();e.forEach(s=>{const i=Su(n,s.secretKey);this._addSignature(s.publicKey,Ir(i))})}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){Ht(e.length===64);const n=this.signatures.findIndex(s=>t.equals(s.publicKey));if(n<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[n].signature=yt.from(e)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,e){const n={};for(const{signature:s,publicKey:i}of this.signatures)s===null?e&&(n.missing||=[]).push(i):Zd(s,t,i.toBytes())||(n.invalid||=[]).push(i);return n.invalid||n.missing?n:void 0}serialize(t){const{requireAllSignatures:e,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),s=this.serializeMessage();if(n){const i=this._getMessageSignednessErrors(s,e);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(t){const{signatures:e}=this,n=[];Ge(n,e.length);const s=n.length+e.length*64+t.length,i=yt.alloc(s);return Ht(e.length<256),yt.from(n).copy(i,0),e.forEach(({signature:o},a)=>{o!==null&&(Ht(o.length===64,"signature has invalid length"),yt.from(o).copy(i,n.length+a*64))}),t.copy(i,n.length+e.length*64),Ht(i.length<=br,`Transaction too large: ${i.length} > ${br}`),i}get keys(){return Ht(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return Ht(this.instructions.length===1),this.instructions[0].programId}get data(){return Ht(this.instructions.length===1),this.instructions[0].data}static from(t){let e=[...t];const n=He(e);let s=[];for(let i=0;i<n;i++){const o=Ye(e,0,Gr);s.push(Be.encode(yt.from(o)))}return sn.populate(_n.from(e),s)}static populate(t,e=[]){const n=new sn;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),e.forEach((s,i)=>{const o={signature:s==Be.encode(s0)?null:Be.decode(s),publicKey:t.accountKeys[i]};n.signatures.push(o)}),t.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=t.accountKeys[o];return{pubkey:a,isSigner:n.signatures.some(c=>c.publicKey.toString()===a.toString())||t.isAccountSigner(o),isWritable:t.isAccountWritable(o)}});n.instructions.push(new Ha({keys:i,programId:t.accountKeys[s.programIdIndex],data:Be.decode(s.data)}))}),n._message=t,n._json=n.toJSON(),n}}class Vr{get version(){return this.message.version}constructor(t,e){if(this.signatures=void 0,this.message=void 0,e!==void 0)Ht(e.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=e;else{const n=[];for(let s=0;s<t.header.numRequiredSignatures;s++)n.push(new Uint8Array(Gr));this.signatures=n}this.message=t}serialize(){const t=this.message.serialize(),e=Array();Ge(e,this.signatures.length);const n=it([$t(e.length,"encodedSignaturesLength"),Oe(t0(),this.signatures.length,"signatures"),$t(t.length,"serializedMessage")]),s=new Uint8Array(2048),i=n.encode({encodedSignaturesLength:new Uint8Array(e),signatures:this.signatures,serializedMessage:t},s);return s.slice(0,i)}static deserialize(t){let e=[...t];const n=[],s=He(e);for(let o=0;o<s;o++)n.push(new Uint8Array(Ye(e,0,Gr)));const i=aa.deserialize(new Uint8Array(e));return new Vr(i,n)}sign(t){const e=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of t){const i=n.findIndex(o=>o.equals(s.publicKey));Ht(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=Su(e,s.secretKey)}}addSignature(t,e){Ht(e.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(t));Ht(s>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=e}}const o0=160,a0=64,c0=o0/a0,u0=1e3/c0;new at("SysvarC1ock11111111111111111111111111111111");new at("SysvarEpochSchedu1e111111111111111111111111");new at("Sysvar1nstructions1111111111111111111111111");new at("SysvarRecentB1ockHashes11111111111111111111");new at("SysvarRent111111111111111111111111111111111");new at("SysvarRewards111111111111111111111111111111");new at("SysvarS1otHashes111111111111111111111111111");new at("SysvarS1otHistory11111111111111111111111111");new at("SysvarStakeHistory1111111111111111111111111");class Ga extends Error{constructor({action:t,signature:e,transactionMessage:n,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(t){case"send":a=`Transaction ${e} resulted in an error. 
${n}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${n}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(t)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=e,this.transactionMessage=n,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(!(t!=null&&typeof t=="object"&&"then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((e,n)=>{t.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,e(i)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}}class ot extends Error{constructor({code:t,message:e,data:n},s){super(s!=null?`${s}: ${e}`:e),this.code=void 0,this.data=void 0,this.code=t,this.data=n,this.name="SolanaJSONRPCError"}}function hr(r){return new Promise(t=>setTimeout(t,r))}const l0=_e("lamportsPerSignature"),Lu=it([ct("version"),ct("state"),xt("authorizedPubkey"),xt("nonce"),it([l0],"feeCalculator")]);Lu.span;class ca{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const e=Lu.decode(Ir(t),0);return new ca({authorizedPubkey:new at(e.authorizedPubkey),nonce:new at(e.nonce).toString(),feeCalculator:e.feeCalculator})}}const f0=r=>{const t=r.decode.bind(r),e=r.encode.bind(r);return{decode:t,encode:e}},h0=r=>t=>{const e=$t(r,t),{encode:n,decode:s}=f0(e),i=e;return i.decode=(o,a)=>{const c=s(o,a);return Zh(yt.from(c))},i.encode=(o,a,c)=>{const p=Xh(o,r);return n(p,a,c)},i},_r=h0(8);Object.freeze({Create:{index:0,layout:it([ct("instruction"),qe("lamports"),qe("space"),xt("programId")])},Assign:{index:1,layout:it([ct("instruction"),xt("programId")])},Transfer:{index:2,layout:it([ct("instruction"),_r("lamports")])},CreateWithSeed:{index:3,layout:it([ct("instruction"),xt("base"),pr("seed"),qe("lamports"),qe("space"),xt("programId")])},AdvanceNonceAccount:{index:4,layout:it([ct("instruction")])},WithdrawNonceAccount:{index:5,layout:it([ct("instruction"),qe("lamports")])},InitializeNonceAccount:{index:6,layout:it([ct("instruction"),xt("authorized")])},AuthorizeNonceAccount:{index:7,layout:it([ct("instruction"),xt("authorized")])},Allocate:{index:8,layout:it([ct("instruction"),qe("space")])},AllocateWithSeed:{index:9,layout:it([ct("instruction"),xt("base"),pr("seed"),qe("space"),xt("programId")])},AssignWithSeed:{index:10,layout:it([ct("instruction"),xt("base"),pr("seed"),xt("programId")])},TransferWithSeed:{index:11,layout:it([ct("instruction"),_r("lamports"),pr("seed"),xt("programId")])},UpgradeNonceAccount:{index:12,layout:it([ct("instruction")])}});new at("11111111111111111111111111111111");new at("BPFLoader2111111111111111111111111111111111");function d0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var js,Ya;function g0(){if(Ya)return js;Ya=1;var r=Object.prototype.toString,t=Object.keys||function(n){var s=[];for(var i in n)s.push(i);return s};function e(n,s){var i,o,a,c,p,f,y;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return e(n.toJSON(),s);if(y=r.call(n),y==="[object Array]"){for(a="[",o=n.length-1,i=0;i<o;i++)a+=e(n[i],!0)+",";return o>-1&&(a+=e(n[i],!0)),a+"]"}else if(y==="[object Object]"){for(c=t(n).sort(),o=c.length,a="",i=0;i<o;)p=c[i],f=e(n[p],!1),f!==void 0&&(a&&(a+=","),a+=JSON.stringify(p)+":"+f),i++;return"{"+a+"}"}else return JSON.stringify(n);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}return js=function(n){var s=e(n,!1);if(s!==void 0)return""+s},js}var p0=g0(),Va=d0(p0);const jr=32;function zs(r){let t=0;for(;r>1;)r/=2,t++;return t}function w0(r){return r===0?1:(r--,r|=r>>1,r|=r>>2,r|=r>>4,r|=r>>8,r|=r>>16,r|=r>>32,r+1)}class m0{constructor(t,e,n,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=e,this.warmup=n,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const e=zs(w0(t+jr+1))-zs(jr)-1,n=this.getSlotsInEpoch(e),s=t-(n-jr);return[e,s]}else{const e=t-this.firstNormalSlot,n=Math.floor(e/this.slotsPerEpoch),s=this.firstNormalEpoch+n,i=e%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*jr:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+zs(jr)):this.slotsPerEpoch}}var y0=globalThis.fetch;class b0 extends Ud{constructor(t,e,n){const s=i=>{const o=jd(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...e});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,t,e,n),this.underlyingSocket=void 0}call(...t){const e=this.underlyingSocket?.readyState;return e===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}notify(...t){const e=this.underlyingSocket?.readyState;return e===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}}function v0(r,t){let e;try{e=r.layout.decode(t)}catch(n){throw new Error("invalid instruction; "+n)}if(e.typeIndex!==r.index)throw new Error(`invalid account data; account type mismatch ${e.typeIndex} != ${r.index}`);return e}const Za=56;class Qa{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const e=v0(M0,t),n=t.length-Za;Ht(n>=0,"lookup table is invalid"),Ht(n%32===0,"lookup table is invalid");const s=n/32,{addresses:i}=it([Oe(xt(),s,"addresses")]).decode(t.slice(Za));return{deactivationSlot:e.deactivationSlot,lastExtendedSlot:e.lastExtendedSlot,lastExtendedSlotStartIndex:e.lastExtendedStartIndex,authority:e.authority.length!==0?new at(e.authority[0]):void 0,addresses:i.map(o=>new at(o))}}}const M0={index:1,layout:it([ct("typeIndex"),_r("deactivationSlot"),_e("lastExtendedSlot"),Lt("lastExtendedStartIndex"),Lt(),Oe(xt(),Xn(Lt(),-1),"authority")])},E0=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function S0(r){const t=r.match(E0);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${r}\``);const[e,n,s,i]=t,o=r.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${n}${c}${i}`}const Zt=ni(ra(at),V(),r=>new at(r)),Bu=ia([V(),Yt("base64")]),ua=ni(ra(yt),Bu,r=>yt.from(r[0],"base64")),x0=30*1e3;function I0(r){if(/^https?:/.test(r)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return r}function Ut(r){let t,e;if(typeof r=="string")t=r;else if(r){const{commitment:n,...s}=r;t=n,e=s}return{commitment:t,config:e}}function Ja(r){return r.map(t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t)}function Tu(r){return Ue([q({jsonrpc:Yt("2.0"),id:V(),result:r}),q({jsonrpc:Yt("2.0"),id:V(),error:q({code:Dr(),message:V(),data:ut(ad())})})])}const _0=Tu(Dr());function Mt(r){return ni(Tu(r),_0,t=>"error"in t?t:{...t,result:Z(t.result,r)})}function Jt(r){return Mt(q({context:q({slot:z()}),value:r}))}function Yi(r){return q({context:q({slot:z()}),value:r})}function Us(r,t){return r===0?new Yr({header:t.header,staticAccountKeys:t.accountKeys.map(e=>new at(e)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Be.decode(e.data)})),addressTableLookups:t.addressTableLookups}):new _n(t)}const A0=q({foundation:z(),foundationTerm:z(),initial:z(),taper:z(),terminal:z()}),L0=Mt(X(et(q({epoch:z(),effectiveSlot:z(),amount:z(),postBalance:z(),commission:ut(et(z()))})))),B0=X(q({slot:z(),prioritizationFee:z()})),T0=q({total:z(),validator:z(),foundation:z(),epoch:z()}),N0=q({epoch:z(),slotIndex:z(),slotsInEpoch:z(),absoluteSlot:z(),blockHeight:ut(z()),transactionCount:ut(z())}),k0=q({slotsPerEpoch:z(),leaderScheduleSlotOffset:z(),warmup:hn(),firstNormalEpoch:z(),firstNormalSlot:z()}),C0=hu(V(),X(z())),or=et(Ue([q({}),V()])),R0=q({err:or}),D0=Yt("receivedSignature"),O0=q({"solana-core":V(),"feature-set":ut(z())}),j0=q({program:V(),programId:Zt,parsed:Dr()}),z0=q({programId:Zt,accounts:X(Zt),data:V()}),Xa=Jt(q({err:et(Ue([q({}),V()])),logs:et(X(V())),accounts:ut(et(X(et(q({executable:hn(),owner:V(),lamports:z(),data:X(V()),rentEpoch:ut(z())}))))),unitsConsumed:ut(z()),returnData:ut(et(q({programId:V(),data:ia([V(),Yt("base64")])}))),innerInstructions:ut(et(X(q({index:z(),instructions:X(Ue([j0,z0]))}))))})),U0=Jt(q({byIdentity:hu(V(),X(z())),range:q({firstSlot:z(),lastSlot:z()})}));function P0(r,t,e,n,s,i){const o=e||y0;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return n&&(c=async(f,y)=>{const x=await new Promise((M,L)=>{try{n(f,y,(B,v)=>M([B,v]))}catch(B){L(B)}});return await o(...x)}),new Rd(async(f,y)=>{const x={method:"POST",body:f,agent:a,headers:Object.assign({"Content-Type":"application/json"},t||{},Fg)};try{let M=5,L,B=500;for(;c?L=await c(r,x):L=await o(r,x),!(L.status!==429||s===!0||(M-=1,M===0));)console.error(`Server responded with ${L.status} ${L.statusText}.  Retrying after ${B}ms delay...`),await hr(B),B*=2;const v=await L.text();L.ok?y(null,v):y(new Error(`${L.status} ${L.statusText}: ${v}`))}catch(M){M instanceof Error&&y(M)}},{})}function F0(r){return(t,e)=>new Promise((n,s)=>{r.request(t,e,(i,o)=>{if(i){s(i);return}n(o)})})}function W0(r){return t=>new Promise((e,n)=>{t.length===0&&e([]);const s=t.map(i=>r.request(i.methodName,i.args));r.request(s,(i,o)=>{if(i){n(i);return}e(o)})})}const $0=Mt(A0),K0=Mt(T0),q0=Mt(B0),H0=Mt(N0),G0=Mt(k0),Y0=Mt(C0),V0=Mt(z()),Z0=Jt(q({total:z(),circulating:z(),nonCirculating:z(),nonCirculatingAccounts:X(Zt)})),lo=q({amount:V(),uiAmount:et(z()),decimals:z(),uiAmountString:ut(V())}),Q0=Jt(X(q({address:Zt,amount:V(),uiAmount:et(z()),decimals:z(),uiAmountString:ut(V())}))),J0=Jt(X(q({pubkey:Zt,account:q({executable:hn(),owner:Zt,lamports:z(),data:ua,rentEpoch:z()})}))),fo=q({program:V(),parsed:Dr(),space:z()}),X0=Jt(X(q({pubkey:Zt,account:q({executable:hn(),owner:Zt,lamports:z(),data:fo,rentEpoch:z()})}))),tg=Jt(X(q({lamports:z(),address:Zt}))),Zr=q({executable:hn(),owner:Zt,lamports:z(),data:ua,rentEpoch:z()}),eg=q({pubkey:Zt,account:Zr}),ng=ni(Ue([ra(yt),fo]),Ue([Bu,fo]),r=>Array.isArray(r)?Z(r,ua):r),ho=q({executable:hn(),owner:Zt,lamports:z(),data:ng,rentEpoch:z()}),rg=q({pubkey:Zt,account:ho}),ig=q({state:Ue([Yt("active"),Yt("inactive"),Yt("activating"),Yt("deactivating")]),active:z(),inactive:z()}),sg=Mt(X(q({signature:V(),slot:z(),err:or,memo:et(V()),blockTime:ut(et(z()))}))),og=Mt(X(q({signature:V(),slot:z(),err:or,memo:et(V()),blockTime:ut(et(z()))}))),ag=q({subscription:z(),result:Yi(Zr)}),cg=q({pubkey:Zt,account:Zr}),ug=q({subscription:z(),result:Yi(cg)}),lg=q({parent:z(),slot:z(),root:z()}),fg=q({subscription:z(),result:lg}),hg=Ue([q({type:Ue([Yt("firstShredReceived"),Yt("completed"),Yt("optimisticConfirmation"),Yt("root")]),slot:z(),timestamp:z()}),q({type:Yt("createdBank"),parent:z(),slot:z(),timestamp:z()}),q({type:Yt("frozen"),slot:z(),timestamp:z(),stats:q({numTransactionEntries:z(),numSuccessfulTransactions:z(),numFailedTransactions:z(),maxTransactionsPerEntry:z()})}),q({type:Yt("dead"),slot:z(),timestamp:z(),err:V()})]),dg=q({subscription:z(),result:hg}),gg=q({subscription:z(),result:Yi(Ue([R0,D0]))}),pg=q({subscription:z(),result:z()}),wg=q({pubkey:V(),gossip:et(V()),tpu:et(V()),rpc:et(V()),version:et(V())}),tc=q({votePubkey:V(),nodePubkey:V(),activatedStake:z(),epochVoteAccount:hn(),epochCredits:X(ia([z(),z(),z()])),commission:z(),lastVote:z(),rootSlot:et(z())}),mg=Mt(q({current:X(tc),delinquent:X(tc)})),yg=Ue([Yt("processed"),Yt("confirmed"),Yt("finalized")]),bg=q({slot:z(),confirmations:et(z()),err:or,confirmationStatus:ut(yg)}),vg=Jt(X(et(bg))),Mg=Mt(z()),Nu=q({accountKey:Zt,writableIndexes:X(z()),readonlyIndexes:X(z())}),la=q({signatures:X(V()),message:q({accountKeys:X(V()),header:q({numRequiredSignatures:z(),numReadonlySignedAccounts:z(),numReadonlyUnsignedAccounts:z()}),instructions:X(q({accounts:X(z()),data:V(),programIdIndex:z()})),recentBlockhash:V(),addressTableLookups:ut(X(Nu))})}),ku=q({pubkey:Zt,signer:hn(),writable:hn(),source:ut(Ue([Yt("transaction"),Yt("lookupTable")]))}),Cu=q({accountKeys:X(ku),signatures:X(V())}),Ru=q({parsed:Dr(),program:V(),programId:Zt}),Du=q({accounts:X(Zt),data:V(),programId:Zt}),Eg=Ue([Du,Ru]),Sg=Ue([q({parsed:Dr(),program:V(),programId:V()}),q({accounts:X(V()),data:V(),programId:V()})]),Ou=ni(Eg,Sg,r=>"accounts"in r?Z(r,Du):Z(r,Ru)),ju=q({signatures:X(V()),message:q({accountKeys:X(ku),instructions:X(Ou),recentBlockhash:V(),addressTableLookups:ut(et(X(Nu)))})}),Ti=q({accountIndex:z(),mint:V(),owner:ut(V()),uiTokenAmount:lo}),zu=q({writable:X(Zt),readonly:X(Zt)}),Vi=q({err:or,fee:z(),innerInstructions:ut(et(X(q({index:z(),instructions:X(q({accounts:X(z()),data:V(),programIdIndex:z()}))})))),preBalances:X(z()),postBalances:X(z()),logMessages:ut(et(X(V()))),preTokenBalances:ut(et(X(Ti))),postTokenBalances:ut(et(X(Ti))),loadedAddresses:ut(zu),computeUnitsConsumed:ut(z())}),fa=q({err:or,fee:z(),innerInstructions:ut(et(X(q({index:z(),instructions:X(Ou)})))),preBalances:X(z()),postBalances:X(z()),logMessages:ut(et(X(V()))),preTokenBalances:ut(et(X(Ti))),postTokenBalances:ut(et(X(Ti))),loadedAddresses:ut(zu),computeUnitsConsumed:ut(z())}),Or=Ue([Yt(0),Yt("legacy")]),ar=q({pubkey:V(),lamports:z(),postBalance:et(z()),rewardType:et(V()),commission:ut(et(z()))}),xg=Mt(et(q({blockhash:V(),previousBlockhash:V(),parentSlot:z(),transactions:X(q({transaction:la,meta:et(Vi),version:ut(Or)})),rewards:ut(X(ar)),blockTime:et(z()),blockHeight:et(z())}))),Ig=Mt(et(q({blockhash:V(),previousBlockhash:V(),parentSlot:z(),rewards:ut(X(ar)),blockTime:et(z()),blockHeight:et(z())}))),_g=Mt(et(q({blockhash:V(),previousBlockhash:V(),parentSlot:z(),transactions:X(q({transaction:Cu,meta:et(Vi),version:ut(Or)})),rewards:ut(X(ar)),blockTime:et(z()),blockHeight:et(z())}))),Ag=Mt(et(q({blockhash:V(),previousBlockhash:V(),parentSlot:z(),transactions:X(q({transaction:ju,meta:et(fa),version:ut(Or)})),rewards:ut(X(ar)),blockTime:et(z()),blockHeight:et(z())}))),Lg=Mt(et(q({blockhash:V(),previousBlockhash:V(),parentSlot:z(),transactions:X(q({transaction:Cu,meta:et(fa),version:ut(Or)})),rewards:ut(X(ar)),blockTime:et(z()),blockHeight:et(z())}))),Bg=Mt(et(q({blockhash:V(),previousBlockhash:V(),parentSlot:z(),rewards:ut(X(ar)),blockTime:et(z()),blockHeight:et(z())}))),Tg=Mt(et(q({blockhash:V(),previousBlockhash:V(),parentSlot:z(),transactions:X(q({transaction:la,meta:et(Vi)})),rewards:ut(X(ar)),blockTime:et(z())}))),ec=Mt(et(q({blockhash:V(),previousBlockhash:V(),parentSlot:z(),signatures:X(V()),blockTime:et(z())}))),Ps=Mt(et(q({slot:z(),meta:et(Vi),blockTime:ut(et(z())),transaction:la,version:ut(Or)}))),ui=Mt(et(q({slot:z(),transaction:ju,meta:et(fa),blockTime:ut(et(z())),version:ut(Or)}))),Ng=Jt(q({blockhash:V(),feeCalculator:q({lamportsPerSignature:z()})})),kg=Jt(q({blockhash:V(),lastValidBlockHeight:z()})),Cg=Jt(hn()),Rg=q({slot:z(),numTransactions:z(),numSlots:z(),samplePeriodSecs:z()}),Dg=Mt(X(Rg)),Og=Jt(et(q({feeCalculator:q({lamportsPerSignature:z()})}))),jg=Mt(V()),zg=Mt(V()),Ug=q({err:or,logs:X(V()),signature:V()}),Pg=q({result:Yi(Ug),subscription:z()}),Fg={"solana-client":"js/1.0.0-maintenance"};class Wg{constructor(t,e){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const p={};return async f=>{const{commitment:y,config:x}=Ut(f),M=this._buildArgs([],y,void 0,x),L=Va(M);return p[L]=p[L]??(async()=>{try{const B=await this._rpcRequest("getBlockHeight",M),v=Z(B,Mt(z()));if("error"in v)throw new ot(v.error,"failed to get block height information");return v.result}finally{delete p[L]}})(),await p[L]}})();let n,s,i,o,a,c;e&&typeof e=="string"?this._commitment=e:e&&(this._commitment=e.commitment,this._confirmTransactionInitialTimeout=e.confirmTransactionInitialTimeout,n=e.wsEndpoint,s=e.httpHeaders,i=e.fetch,o=e.fetchMiddleware,a=e.disableRetryOnRateLimit,c=e.httpAgent),this._rpcEndpoint=I0(t),this._rpcWsEndpoint=n||S0(t),this._rpcClient=P0(t,s,i,o,a,c),this._rpcRequest=F0(this._rpcClient),this._rpcBatchRequest=W0(this._rpcClient),this._rpcWebSocket=new b0(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,e){const{commitment:n,config:s}=Ut(e),i=this._buildArgs([t.toBase58()],n,void 0,s),o=await this._rpcRequest("getBalance",i),a=Z(o,Jt(z()));if("error"in a)throw new ot(a.error,`failed to get balance for ${t.toBase58()}`);return a.result}async getBalance(t,e){return await this.getBalanceAndContext(t,e).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+n)})}async getBlockTime(t){const e=await this._rpcRequest("getBlockTime",[t]),n=Z(e,Mt(et(z())));if("error"in n)throw new ot(n.error,`failed to get block time for slot ${t}`);return n.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),e=Z(t,Mt(z()));if("error"in e)throw new ot(e.error,"failed to get minimum ledger slot");return e.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),e=Z(t,V0);if("error"in e)throw new ot(e.error,"failed to get first available block");return e.result}async getSupply(t){let e={};typeof t=="string"?e={commitment:t}:t?e={...t,commitment:t&&t.commitment||this.commitment}:e={commitment:this.commitment};const n=await this._rpcRequest("getSupply",[e]),s=Z(n,Z0);if("error"in s)throw new ot(s.error,"failed to get supply");return s.result}async getTokenSupply(t,e){const n=this._buildArgs([t.toBase58()],e),s=await this._rpcRequest("getTokenSupply",n),i=Z(s,Jt(lo));if("error"in i)throw new ot(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(t,e){const n=this._buildArgs([t.toBase58()],e),s=await this._rpcRequest("getTokenAccountBalance",n),i=Z(s,Jt(lo));if("error"in i)throw new ot(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(t,e,n){const{commitment:s,config:i}=Ut(n);let o=[t.toBase58()];"mint"in e?o.push({mint:e.mint.toBase58()}):o.push({programId:e.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),p=Z(c,J0);if("error"in p)throw new ot(p.error,`failed to get token accounts owned by account ${t.toBase58()}`);return p.result}async getParsedTokenAccountsByOwner(t,e,n){let s=[t.toBase58()];"mint"in e?s.push({mint:e.mint.toBase58()}):s.push({programId:e.programId.toBase58()});const i=this._buildArgs(s,n,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=Z(o,X0);if("error"in a)throw new ot(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getLargestAccounts(t){const e={...t,commitment:t&&t.commitment||this.commitment},n=e.filter||e.commitment?[e]:[],s=await this._rpcRequest("getLargestAccounts",n),i=Z(s,tg);if("error"in i)throw new ot(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(t,e){const n=this._buildArgs([t.toBase58()],e),s=await this._rpcRequest("getTokenLargestAccounts",n),i=Z(s,Q0);if("error"in i)throw new ot(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(t,e){const{commitment:n,config:s}=Ut(e),i=this._buildArgs([t.toBase58()],n,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=Z(o,Jt(et(Zr)));if("error"in a)throw new ot(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getParsedAccountInfo(t,e){const{commitment:n,config:s}=Ut(e),i=this._buildArgs([t.toBase58()],n,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=Z(o,Jt(et(ho)));if("error"in a)throw new ot(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getAccountInfo(t,e){try{return(await this.getAccountInfoAndContext(t,e)).value}catch(n){throw new Error("failed to get info about account "+t.toBase58()+": "+n)}}async getMultipleParsedAccounts(t,e){const{commitment:n,config:s}=Ut(e),i=t.map(p=>p.toBase58()),o=this._buildArgs([i],n,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=Z(a,Jt(X(et(ho))));if("error"in c)throw new ot(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(t,e){const{commitment:n,config:s}=Ut(e),i=t.map(p=>p.toBase58()),o=this._buildArgs([i],n,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=Z(a,Jt(X(et(Zr))));if("error"in c)throw new ot(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(t,e){return(await this.getMultipleAccountsInfoAndContext(t,e)).value}async getStakeActivation(t,e,n){const{commitment:s,config:i}=Ut(e),o=this._buildArgs([t.toBase58()],s,void 0,{...i,epoch:n??i?.epoch}),a=await this._rpcRequest("getStakeActivation",o),c=Z(a,Mt(ig));if("error"in c)throw new ot(c.error,`failed to get Stake Activation ${t.toBase58()}`);return c.result}async getProgramAccounts(t,e){const{commitment:n,config:s}=Ut(e),{encoding:i,...o}=s||{},a=this._buildArgs([t.toBase58()],n,i||"base64",{...o,...o.filters?{filters:Ja(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),p=X(eg),f=o.withContext===!0?Z(c,Jt(p)):Z(c,Mt(p));if("error"in f)throw new ot(f.error,`failed to get accounts owned by program ${t.toBase58()}`);return f.result}async getParsedProgramAccounts(t,e){const{commitment:n,config:s}=Ut(e),i=this._buildArgs([t.toBase58()],n,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=Z(o,Mt(X(rg)));if("error"in a)throw new ot(a.error,`failed to get accounts owned by program ${t.toBase58()}`);return a.result}async confirmTransaction(t,e){let n;if(typeof t=="string")n=t;else{const i=t;if(i.abortSignal?.aborted)return Promise.reject(i.abortSignal.reason);n=i.signature}let s;try{s=Be.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return Ht(s.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:e||this.commitment,signature:n}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:e||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((e,n)=>{t!=null&&(t.aborted?n(t.reason):t.addEventListener("abort",()=>{n(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:e}){let n,s,i=!1;const o=new Promise((c,p)=>{try{n=this.onSignature(e,(y,x)=>{n=void 0;const M={context:x,value:y};c({__type:Rn.PROCESSED,response:M})},t);const f=new Promise(y=>{n==null?y():s=this._onSubscriptionStateChange(n,x=>{x==="subscribed"&&y()})});(async()=>{if(await f,i)return;const y=await this.getSignatureStatus(e);if(i||y==null)return;const{context:x,value:M}=y;if(M!=null)if(M?.err)p(M.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(M.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(M.confirmationStatus==="processed"||M.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:Rn.PROCESSED,response:{context:x,value:M}})}})()}catch(f){p(f)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:e,lastValidBlockHeight:n,signature:s}}){let i=!1;const o=new Promise(y=>{const x=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let M=await x();if(!i){for(;M<=n;)if(await hr(1e3),i||(M=await x(),i))return;y({__type:Rn.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:t,signature:s}),p=this.getCancellationPromise(e);let f;try{const y=await Promise.race([p,c,o]);if(y.__type===Rn.PROCESSED)f=y.response;else throw new Iu(s)}finally{i=!0,a()}return f}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:e,minContextSlot:n,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(M=>{let L=i,B=null;const v=async()=>{try{const{context:k,value:C}=await this.getNonceAndContext(s,{commitment:t,minContextSlot:n});return B=k.slot,C?.nonce}catch{return L}};(async()=>{if(L=await v(),!a)for(;;){if(i!==L){M({__type:Rn.NONCE_INVALID,slotInWhichNonceDidAdvance:B});return}if(await hr(2e3),a||(L=await v(),a))return}})()}),{abortConfirmation:p,confirmationPromise:f}=this.getTransactionConfirmationPromise({commitment:t,signature:o}),y=this.getCancellationPromise(e);let x;try{const M=await Promise.race([y,f,c]);if(M.__type===Rn.PROCESSED)x=M.response;else{let L;for(;;){const B=await this.getSignatureStatus(o);if(B==null)break;if(B.context.slot<(M.slotInWhichNonceDidAdvance??n)){await hr(400);continue}L=B;break}if(L?.value){const B=t||"finalized",{confirmationStatus:v}=L.value;switch(B){case"processed":case"recent":if(v!=="processed"&&v!=="confirmed"&&v!=="finalized")throw new Ur(o);break;case"confirmed":case"single":case"singleGossip":if(v!=="confirmed"&&v!=="finalized")throw new Ur(o);break;case"finalized":case"max":case"root":if(v!=="finalized")throw new Ur(o);break;default:}x={context:L.context,value:{err:L.value.err}}}else throw new Ur(o)}}finally{a=!0,p()}return x}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:e}){let n;const s=new Promise(c=>{let p=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{p=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>c({__type:Rn.TIMED_OUT,timeoutMs:p}),p)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:t,signature:e});let a;try{const c=await Promise.race([o,s]);if(c.__type===Rn.PROCESSED)a=c.response;else throw new _u(e,c.timeoutMs/1e3)}finally{clearTimeout(n),i()}return a}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),e=Z(t,Mt(X(wg)));if("error"in e)throw new ot(e.error,"failed to get cluster nodes");return e.result}async getVoteAccounts(t){const e=this._buildArgs([],t),n=await this._rpcRequest("getVoteAccounts",e),s=Z(n,mg);if("error"in s)throw new ot(s.error,"failed to get vote accounts");return s.result}async getSlot(t){const{commitment:e,config:n}=Ut(t),s=this._buildArgs([],e,void 0,n),i=await this._rpcRequest("getSlot",s),o=Z(i,Mt(z()));if("error"in o)throw new ot(o.error,"failed to get slot");return o.result}async getSlotLeader(t){const{commitment:e,config:n}=Ut(t),s=this._buildArgs([],e,void 0,n),i=await this._rpcRequest("getSlotLeader",s),o=Z(i,Mt(V()));if("error"in o)throw new ot(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(t,e){const n=[t,e],s=await this._rpcRequest("getSlotLeaders",n),i=Z(s,Mt(X(Zt)));if("error"in i)throw new ot(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(t,e){const{context:n,value:s}=await this.getSignatureStatuses([t],e);Ht(s.length===1);const i=s[0];return{context:n,value:i}}async getSignatureStatuses(t,e){const n=[t];e&&n.push(e);const s=await this._rpcRequest("getSignatureStatuses",n),i=Z(s,vg);if("error"in i)throw new ot(i.error,"failed to get signature status");return i.result}async getTransactionCount(t){const{commitment:e,config:n}=Ut(t),s=this._buildArgs([],e,void 0,n),i=await this._rpcRequest("getTransactionCount",s),o=Z(i,Mt(z()));if("error"in o)throw new ot(o.error,"failed to get transaction count");return o.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const e=this._buildArgs([],t),n=await this._rpcRequest("getInflationGovernor",e),s=Z(n,$0);if("error"in s)throw new ot(s.error,"failed to get inflation");return s.result}async getInflationReward(t,e,n){const{commitment:s,config:i}=Ut(n),o=this._buildArgs([t.map(p=>p.toBase58())],s,void 0,{...i,epoch:e??i?.epoch}),a=await this._rpcRequest("getInflationReward",o),c=Z(a,L0);if("error"in c)throw new ot(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),e=Z(t,K0);if("error"in e)throw new ot(e.error,"failed to get inflation rate");return e.result}async getEpochInfo(t){const{commitment:e,config:n}=Ut(t),s=this._buildArgs([],e,void 0,n),i=await this._rpcRequest("getEpochInfo",s),o=Z(i,H0);if("error"in o)throw new ot(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),e=Z(t,G0);if("error"in e)throw new ot(e.error,"failed to get epoch schedule");const n=e.result;return new m0(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),e=Z(t,Y0);if("error"in e)throw new ot(e.error,"failed to get leader schedule");return e.result}async getMinimumBalanceForRentExemption(t,e){const n=this._buildArgs([t],e),s=await this._rpcRequest("getMinimumBalanceForRentExemption",n),i=Z(s,Mg);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(t){const e=this._buildArgs([],t),n=await this._rpcRequest("getRecentBlockhash",e),s=Z(n,Ng);if("error"in s)throw new ot(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(t){const e=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),n=Z(e,Dg);if("error"in n)throw new ot(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(t,e){const n=this._buildArgs([t],e),s=await this._rpcRequest("getFeeCalculatorForBlockhash",n),i=Z(s,Og);if("error"in i)throw new ot(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(t,e){const n=Ir(t.serialize()).toString("base64"),s=this._buildArgs([n],e),i=await this._rpcRequest("getFeeForMessage",s),o=Z(i,Jt(et(z())));if("error"in o)throw new ot(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(t){const e=t?.lockedWritableAccounts?.map(o=>o.toBase58()),n=e?.length?[e]:[],s=await this._rpcRequest("getRecentPrioritizationFees",n),i=Z(s,q0);if("error"in i)throw new ot(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhashAndContext(t){const{commitment:e,config:n}=Ut(t),s=this._buildArgs([],e,void 0,n),i=await this._rpcRequest("getLatestBlockhash",s),o=Z(i,kg);if("error"in o)throw new ot(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(t,e){const{commitment:n,config:s}=Ut(e),i=this._buildArgs([t],n,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=Z(o,Cg);if("error"in a)throw new ot(a.error,"failed to determine if the blockhash `"+t+"`is valid");return a.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),e=Z(t,Mt(O0));if("error"in e)throw new ot(e.error,"failed to get version");return e.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),e=Z(t,Mt(V()));if("error"in e)throw new ot(e.error,"failed to get genesis hash");return e.result}async getBlock(t,e){const{commitment:n,config:s}=Ut(e),i=this._buildArgsAtLeastConfirmed([t],n,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s?.transactionDetails){case"accounts":{const a=Z(o,_g);if("error"in a)throw a.error;return a.result}case"none":{const a=Z(o,Ig);if("error"in a)throw a.error;return a.result}default:{const a=Z(o,xg);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:p,meta:f,version:y})=>({meta:f,transaction:{...p,message:Us(y,p.message)},version:y}))}:null}}}catch(a){throw new ot(a,"failed to get confirmed block")}}async getParsedBlock(t,e){const{commitment:n,config:s}=Ut(e),i=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s?.transactionDetails){case"accounts":{const a=Z(o,Lg);if("error"in a)throw a.error;return a.result}case"none":{const a=Z(o,Bg);if("error"in a)throw a.error;return a.result}default:{const a=Z(o,Ag);if("error"in a)throw a.error;return a.result}}}catch(a){throw new ot(a,"failed to get block")}}async getBlockProduction(t){let e,n;if(typeof t=="string")n=t;else if(t){const{commitment:a,...c}=t;n=a,e=c}const s=this._buildArgs([],n,"base64",e),i=await this._rpcRequest("getBlockProduction",s),o=Z(i,U0);if("error"in o)throw new ot(o.error,"failed to get block production information");return o.result}async getTransaction(t,e){const{commitment:n,config:s}=Ut(e),i=this._buildArgsAtLeastConfirmed([t],n,void 0,s),o=await this._rpcRequest("getTransaction",i),a=Z(o,Ps);if("error"in a)throw new ot(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:Us(c.version,c.transaction.message)}}}async getParsedTransaction(t,e){const{commitment:n,config:s}=Ut(e),i=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=Z(o,ui);if("error"in a)throw new ot(a.error,"failed to get transaction");return a.result}async getParsedTransactions(t,e){const{commitment:n,config:s}=Ut(e),i=t.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,"jsonParsed",s)}));return(await this._rpcBatchRequest(i)).map(c=>{const p=Z(c,ui);if("error"in p)throw new ot(p.error,"failed to get transactions");return p.result})}async getTransactions(t,e){const{commitment:n,config:s}=Ut(e),i=t.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,void 0,s)}));return(await this._rpcBatchRequest(i)).map(c=>{const p=Z(c,Ps);if("error"in p)throw new ot(p.error,"failed to get transactions");const f=p.result;return f&&{...f,transaction:{...f.transaction,message:Us(f.version,f.transaction.message)}}})}async getConfirmedBlock(t,e){const n=this._buildArgsAtLeastConfirmed([t],e),s=await this._rpcRequest("getConfirmedBlock",n),i=Z(s,Tg);if("error"in i)throw new ot(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+t+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:p})=>{const f=new _n(c.message);return{meta:p,transaction:{...c,message:f}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:p})=>({meta:p,transaction:sn.populate(c.message,c.signatures)}))}}async getBlocks(t,e,n){const s=this._buildArgsAtLeastConfirmed(e!==void 0?[t,e]:[t],n),i=await this._rpcRequest("getBlocks",s),o=Z(i,Mt(X(z())));if("error"in o)throw new ot(o.error,"failed to get blocks");return o.result}async getBlockSignatures(t,e){const n=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",n),i=Z(s,ec);if("error"in i)throw new ot(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+t+" not found");return o}async getConfirmedBlockSignatures(t,e){const n=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",n),i=Z(s,ec);if("error"in i)throw new ot(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+t+" not found");return o}async getConfirmedTransaction(t,e){const n=this._buildArgsAtLeastConfirmed([t],e),s=await this._rpcRequest("getConfirmedTransaction",n),i=Z(s,Ps);if("error"in i)throw new ot(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new _n(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:sn.populate(a,c)}}async getParsedConfirmedTransaction(t,e){const n=this._buildArgsAtLeastConfirmed([t],e,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",n),i=Z(s,ui);if("error"in i)throw new ot(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(t,e){const n=t.map(o=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([o],e,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(o=>{const a=Z(o,ui);if("error"in a)throw new ot(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(t,e,n){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(e--,!(e<=0||e<i));)try{const c=await this.getConfirmedBlockSignatures(e,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(n++,!(n>o));)try{const c=await this.getConfirmedBlockSignatures(n);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(t,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(t,e,n){const s=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,e),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=Z(i,sg);if("error"in o)throw new ot(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(t,e,n){const s=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,e),i=await this._rpcRequest("getSignaturesForAddress",s),o=Z(i,og);if("error"in o)throw new ot(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(t,e){const{context:n,value:s}=await this.getAccountInfoAndContext(t,e);let i=null;return s!==null&&(i=new Qa({key:t,state:Qa.deserialize(s.data)})),{context:n,value:i}}async getNonceAndContext(t,e){const{context:n,value:s}=await this.getAccountInfoAndContext(t,e);let i=null;return s!==null&&(i=ca.fromAccountData(s.data)),{context:n,value:i}}async getNonce(t,e){return await this.getNonceAndContext(t,e).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+n)})}async requestAirdrop(t,e){const n=await this._rpcRequest("requestAirdrop",[t.toBase58(),e]),s=Z(n,jg);if("error"in s)throw new ot(s.error,`airdrop to ${t.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await hr(100);const n=Date.now()-this._blockhashInfo.lastFetch>=x0;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),e=this._blockhashInfo.latestBlockhash,n=e?e.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(n!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await hr(u0/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:e,config:n}=Ut(t),s=this._buildArgs([],e,"base64",n),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=Z(i,Jt(z()));if("error"in o)throw new ot(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(t,e,n){if("message"in t){const B=t.serialize(),v=yt.from(B).toString("base64");if(Array.isArray(e)||n!==void 0)throw new Error("Invalid arguments");const k=e||{};k.encoding="base64","commitment"in k||(k.commitment=this.commitment),e&&typeof e=="object"&&"innerInstructions"in e&&(k.innerInstructions=e.innerInstructions);const C=[v,k],I=await this._rpcRequest("simulateTransaction",C),O=Z(I,Xa);if("error"in O)throw new Error("failed to simulate transaction: "+O.error.message);return O.result}let s;if(t instanceof sn){let L=t;s=new sn,s.feePayer=L.feePayer,s.instructions=t.instructions,s.nonceInfo=L.nonceInfo,s.signatures=L.signatures}else s=sn.populate(t),s._message=s._json=void 0;if(e!==void 0&&!Array.isArray(e))throw new Error("Invalid arguments");const i=e;if(s.nonceInfo&&i)s.sign(...i);else{let L=this._disableBlockhashCaching;for(;;){const B=await this._blockhashWithExpiryBlockHeight(L);if(s.lastValidBlockHeight=B.lastValidBlockHeight,s.recentBlockhash=B.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const v=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(v)&&!this._blockhashInfo.transactionSignatures.includes(v)){this._blockhashInfo.simulatedSignatures.push(v);break}else L=!0}}const o=s._compile(),a=o.serialize(),p=s._serialize(a).toString("base64"),f={encoding:"base64",commitment:this.commitment};if(n){const L=(Array.isArray(n)?n:o.nonProgramIds()).map(B=>B.toBase58());f.accounts={encoding:"base64",addresses:L}}i&&(f.sigVerify=!0),e&&typeof e=="object"&&"innerInstructions"in e&&(f.innerInstructions=e.innerInstructions);const y=[p,f],x=await this._rpcRequest("simulateTransaction",y),M=Z(x,Xa);if("error"in M){let L;if("data"in M.error&&(L=M.error.data.logs,L&&Array.isArray(L))){const B=`
    `,v=B+L.join(B);console.error(M.error.message,v)}throw new Ga({action:"simulate",signature:"",transactionMessage:M.error.message,logs:L})}return M.result}async sendTransaction(t,e,n){if("version"in t){if(e&&Array.isArray(e))throw new Error("Invalid arguments");const o=t.serialize();return await this.sendRawTransaction(o,e)}if(e===void 0||!Array.isArray(e))throw new Error("Invalid arguments");const s=e;if(t.nonceInfo)t.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(t.lastValidBlockHeight=a.lastValidBlockHeight,t.recentBlockhash=a.blockhash,t.sign(...s),!t.signature)throw new Error("!signature");const c=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=t.serialize();return await this.sendRawTransaction(i,n)}async sendRawTransaction(t,e){const n=Ir(t).toString("base64");return await this.sendEncodedTransaction(n,e)}async sendEncodedTransaction(t,e){const n={encoding:"base64"},s=e&&e.skipPreflight,i=s===!0?"processed":e&&e.preflightCommitment||this.commitment;e&&e.maxRetries!=null&&(n.maxRetries=e.maxRetries),e&&e.minContextSlot!=null&&(n.minContextSlot=e.minContextSlot),s&&(n.skipPreflight=s),i&&(n.preflightCommitment=i);const o=[t,n],a=await this._rpcRequest("sendTransaction",o),c=Z(a,zg);if("error"in c){let p;throw"data"in c.error&&(p=c.error.data.logs),new Ga({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:p})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([e,n])=>{this._setSubscription(e,{...n,state:"pending"})})}_setSubscription(t,e){const n=this._subscriptionsByHash[t]?.state;if(this._subscriptionsByHash[t]=e,n!==e.state){const s=this._subscriptionStateChangeCallbacksByHash[t];s&&s.forEach(i=>{try{i(e.state)}catch{}})}}_onSubscriptionStateChange(t,e){const n=this._subscriptionHashByClientSubscriptionId[t];if(n==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return s.add(e),()=>{s.delete(e),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,e=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{const s=this._subscriptionsByHash[n];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[n],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(n,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(n,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!e())return;this._setSubscription(n,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(n,{...s,state:"unsubscribing"}),this._setSubscription(n,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!e())return;this._setSubscription(n,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,e){const n=this._subscriptionCallbacksByServerSubscriptionId[t];n!==void 0&&n.forEach(s=>{try{s(...e)}catch(i){console.error(i)}})}_wsOnAccountNotification(t){const{result:e,subscription:n}=Z(t,ag);this._handleServerNotification(n,[e.value,e.context])}_makeSubscription(t,e){const n=this._nextClientSubscriptionId++,s=Va([t.method,e]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...t,args:e,callbacks:new Set([t.callback]),state:"pending"}:i.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[n]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const o=this._subscriptionsByHash[s];Ht(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),o.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(t,e,n){const{commitment:s,config:i}=Ut(n),o=this._buildArgs([t.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:e,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:e,subscription:n}=Z(t,ug);this._handleServerNotification(n,[{accountId:e.value.pubkey,accountInfo:e.value.account},e.context])}onProgramAccountChange(t,e,n,s){const{commitment:i,config:o}=Ut(n),a=this._buildArgs([t.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:Ja(s)}:void 0));return this._makeSubscription({callback:e,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,e,n){const s=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],n||this._commitment||"finalized");return this._makeSubscription({callback:e,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:e,subscription:n}=Z(t,Pg);this._handleServerNotification(n,[e.value,e.context])}_wsOnSlotNotification(t){const{result:e,subscription:n}=Z(t,fg);this._handleServerNotification(n,[e])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:e,subscription:n}=Z(t,dg);this._handleServerNotification(n,[e])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,e){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${e}' events could not be found.`)}_buildArgs(t,e,n,s){const i=e||this._commitment;if(i||n||s){let o={};n&&(o.encoding=n),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),t.push(o)}return t}_buildArgsAtLeastConfirmed(t,e,n,s){const i=e||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,e,n,s)}_wsOnSignatureNotification(t){const{result:e,subscription:n}=Z(t,gg);e.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,e.value==="receivedSignature"?[{type:"received"},e.context]:[{type:"status",result:e.value},e.context])}onSignature(t,e,n){const s=this._buildArgs([t],n||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){e(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(t,e,n){const{commitment:s,...i}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},o=this._buildArgs([t],s,void 0,i),a=this._makeSubscription({callback:(c,p)=>{e(c,p);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:e,subscription:n}=Z(t,pg);this._handleServerNotification(n,[e])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:it([ct("instruction"),_r("recentSlot"),Lt("bumpSeed")])},FreezeLookupTable:{index:1,layout:it([ct("instruction")])},ExtendLookupTable:{index:2,layout:it([ct("instruction"),_r(),Oe(xt(),Xn(ct(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:it([ct("instruction")])},CloseLookupTable:{index:4,layout:it([ct("instruction")])}});new at("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:it([Lt("instruction"),ct("units"),ct("additionalFee")])},RequestHeapFrame:{index:1,layout:it([Lt("instruction"),ct("bytes")])},SetComputeUnitLimit:{index:2,layout:it([Lt("instruction"),ct("units")])},SetComputeUnitPrice:{index:3,layout:it([Lt("instruction"),_r("microLamports")])}});new at("ComputeBudget111111111111111111111111111111");it([Lt("numSignatures"),Lt("padding"),Je("signatureOffset"),Je("signatureInstructionIndex"),Je("publicKeyOffset"),Je("publicKeyInstructionIndex"),Je("messageDataOffset"),Je("messageDataSize"),Je("messageInstructionIndex")]);new at("Ed25519SigVerify111111111111111111111111111");sa.utils.isValidPrivateKey;sa.getPublicKey;it([Lt("numSignatures"),Je("signatureOffset"),Lt("signatureInstructionIndex"),Je("ethAddressOffset"),Lt("ethAddressInstructionIndex"),Je("messageDataOffset"),Je("messageDataSize"),Lt("messageInstructionIndex"),$t(20,"ethAddress"),$t(64,"signature"),Lt("recoveryId")]);new at("KeccakSecp256k11111111111111111111111111111");var Uu;new at("StakeConfig11111111111111111111111111111111");class Pu{constructor(t,e,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=n}}Uu=Pu;Pu.default=new Uu(0,0,at.default);Object.freeze({Initialize:{index:0,layout:it([ct("instruction"),e0(),n0()])},Authorize:{index:1,layout:it([ct("instruction"),xt("newAuthorized"),ct("stakeAuthorizationType")])},Delegate:{index:2,layout:it([ct("instruction")])},Split:{index:3,layout:it([ct("instruction"),qe("lamports")])},Withdraw:{index:4,layout:it([ct("instruction"),qe("lamports")])},Deactivate:{index:5,layout:it([ct("instruction")])},Merge:{index:7,layout:it([ct("instruction")])},AuthorizeWithSeed:{index:8,layout:it([ct("instruction"),xt("newAuthorized"),ct("stakeAuthorizationType"),pr("authoritySeed"),xt("authorityOwner")])}});new at("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:it([ct("instruction"),r0()])},Authorize:{index:1,layout:it([ct("instruction"),xt("newAuthorized"),ct("voteAuthorizationType")])},Withdraw:{index:3,layout:it([ct("instruction"),qe("lamports")])},UpdateValidatorIdentity:{index:4,layout:it([ct("instruction")])},AuthorizeWithSeed:{index:10,layout:it([ct("instruction"),i0()])}});new at("Vote111111111111111111111111111111111111111");new at("Va1idator1nfo111111111111111111111111111111");q({name:V(),website:ut(V()),details:ut(V()),iconUrl:ut(V()),keybaseUsername:ut(V())});new at("Vote111111111111111111111111111111111111111");it([xt("nodePubkey"),xt("authorizedWithdrawer"),Lt("commission"),_e(),Oe(it([_e("slot"),ct("confirmationCount")]),Xn(ct(),-8),"votes"),Lt("rootSlotValid"),_e("rootSlot"),_e(),Oe(it([_e("epoch"),xt("authorizedVoter")]),Xn(ct(),-8),"authorizedVoters"),it([Oe(it([xt("authorizedPubkey"),_e("epochOfLastAuthorizedSwitch"),_e("targetEpoch")]),32,"buf"),_e("idx"),Lt("isEmpty")],"priorVoters"),_e(),Oe(it([_e("epoch"),_e("credits"),_e("prevCredits")]),Xn(ct(),-8),"epochCredits"),it([_e("slot"),_e("timestamp")],"lastTimestamp")]);const nc={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Um(r,t){const e="https";if(!r)return nc[e].devnet;const n=nc[e][r];if(!n)throw new Error(`Unknown ${e} cluster: ${r}`);return n}const Fu=J.createContext({});function $g(){return J.useContext(Fu)}const Pm=({children:r,endpoint:t,config:e={commitment:"confirmed"}})=>{const n=J.useMemo(()=>new Wg(t,e),[t,e]);return G.createElement(Fu.Provider,{value:{connection:n}},r)};var Wu={exports:{}};(function(r){var t=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function s(c,p,f){this.fn=c,this.context=p,this.once=f||!1}function i(c,p,f,y,x){if(typeof f!="function")throw new TypeError("The listener must be a function");var M=new s(f,y||c,x),L=e?e+p:p;return c._events[L]?c._events[L].fn?c._events[L]=[c._events[L],M]:c._events[L].push(M):(c._events[L]=M,c._eventsCount++),c}function o(c,p){--c._eventsCount===0?c._events=new n:delete c._events[p]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var p=[],f,y;if(this._eventsCount===0)return p;for(y in f=this._events)t.call(f,y)&&p.push(e?y.slice(1):y);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(f)):p},a.prototype.listeners=function(p){var f=e?e+p:p,y=this._events[f];if(!y)return[];if(y.fn)return[y.fn];for(var x=0,M=y.length,L=new Array(M);x<M;x++)L[x]=y[x].fn;return L},a.prototype.listenerCount=function(p){var f=e?e+p:p,y=this._events[f];return y?y.fn?1:y.length:0},a.prototype.emit=function(p,f,y,x,M,L){var B=e?e+p:p;if(!this._events[B])return!1;var v=this._events[B],k=arguments.length,C,I;if(v.fn){switch(v.once&&this.removeListener(p,v.fn,void 0,!0),k){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,f),!0;case 3:return v.fn.call(v.context,f,y),!0;case 4:return v.fn.call(v.context,f,y,x),!0;case 5:return v.fn.call(v.context,f,y,x,M),!0;case 6:return v.fn.call(v.context,f,y,x,M,L),!0}for(I=1,C=new Array(k-1);I<k;I++)C[I-1]=arguments[I];v.fn.apply(v.context,C)}else{var O=v.length,P;for(I=0;I<O;I++)switch(v[I].once&&this.removeListener(p,v[I].fn,void 0,!0),k){case 1:v[I].fn.call(v[I].context);break;case 2:v[I].fn.call(v[I].context,f);break;case 3:v[I].fn.call(v[I].context,f,y);break;case 4:v[I].fn.call(v[I].context,f,y,x);break;default:if(!C)for(P=1,C=new Array(k-1);P<k;P++)C[P-1]=arguments[P];v[I].fn.apply(v[I].context,C)}}return!0},a.prototype.on=function(p,f,y){return i(this,p,f,y,!1)},a.prototype.once=function(p,f,y){return i(this,p,f,y,!0)},a.prototype.removeListener=function(p,f,y,x){var M=e?e+p:p;if(!this._events[M])return this;if(!f)return o(this,M),this;var L=this._events[M];if(L.fn)L.fn===f&&(!x||L.once)&&(!y||L.context===y)&&o(this,M);else{for(var B=0,v=[],k=L.length;B<k;B++)(L[B].fn!==f||x&&!L[B].once||y&&L[B].context!==y)&&v.push(L[B]);v.length?this._events[M]=v.length===1?v[0]:v:o(this,M)}return this},a.prototype.removeAllListeners=function(p){var f;return p?(f=e?e+p:p,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=e,a.EventEmitter=a,r.exports=a})(Wu);var Kg=Wu.exports;const qg=rr(Kg);class xe extends Error{constructor(t,e){super(t),this.error=e}}class Fn extends xe{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class Hg extends xe{constructor(){super(...arguments),this.name="WalletLoadError"}}class wr extends xe{constructor(){super(...arguments),this.name="WalletConfigError"}}class zn extends xe{constructor(){super(...arguments),this.name="WalletConnectionError"}}class Zi extends xe{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class ha extends xe{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class Gn extends xe{constructor(){super(...arguments),this.name="WalletAccountError"}}class Ar extends xe{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class te extends xe{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class Sn extends xe{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class on extends xe{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class Qi extends xe{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class rc extends xe{constructor(){super(...arguments),this.name="WalletSignInError"}}var mt;(function(r){r.Installed="Installed",r.NotDetected="NotDetected",r.Loadable="Loadable",r.Unsupported="Unsupported"})(mt||(mt={}));class $u extends qg{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(t,e,n={}){const s=this.publicKey;if(!s)throw new te;return t.feePayer=t.feePayer||s,t.recentBlockhash=t.recentBlockhash||(await e.getLatestBlockhash({commitment:n.preflightCommitment,minContextSlot:n.minContextSlot})).blockhash,t}}function Ku(r){if(typeof window>"u"||typeof document>"u")return;const t=[];function e(){if(r())for(const i of t)i()}const n=setInterval(e,1e3);t.push(()=>clearInterval(n)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",e,{once:!0}),t.push(()=>document.removeEventListener("DOMContentLoaded",e))),document.readyState!=="complete"&&(window.addEventListener("load",e,{once:!0}),t.push(()=>window.removeEventListener("load",e))),e()}function go(){if(!navigator)return!1;const r=navigator.userAgent.toLowerCase(),t=r.includes("iphone")||r.includes("ipad"),e=r.includes("safari");return t&&e}function xn(r){return"version"in r}class Gg extends $u{async sendTransaction(t,e,n={}){let s=!0;try{if(xn(t)){if(!this.supportedTransactionVersions)throw new Sn("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(t.version))throw new Sn(`Sending transaction version ${t.version} isn't supported by this wallet`);try{t=await this.signTransaction(t);const i=t.serialize();return await e.sendRawTransaction(i,n)}catch(i){throw i instanceof on?(s=!1,i):new Sn(i?.message,i)}}else try{const{signers:i,...o}=n;t=await this.prepareTransaction(t,e,o),i?.length&&t.partialSign(...i),t=await this.signTransaction(t);const a=t.serialize();return await e.sendRawTransaction(a,o)}catch(i){throw i instanceof on?(s=!1,i):new Sn(i?.message,i)}}catch(i){throw s&&this.emit("error",i),i}}async signAllTransactions(t){for(const n of t)if(xn(n)){if(!this.supportedTransactionVersions)throw new on("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(n.version))throw new on(`Signing transaction version ${n.version} isn't supported by this wallet`)}const e=[];for(const n of t)e.push(await this.signTransaction(n));return e}}class da extends Gg{}class Yg extends da{}const En="solana:signAndSendTransaction",Fs="solana:signIn",dr="solana:signMessage",Ee="solana:signTransaction",ga="standard:connect",po="standard:disconnect",pa="standard:events";function Vg(r){return ga in r.features&&pa in r.features&&(En in r.features||Ee in r.features)}class ic extends xe{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const Zg=[],Ji={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){rn("call","select")},connect(){return Promise.reject(rn("call","connect"))},disconnect(){return Promise.reject(rn("call","disconnect"))},sendTransaction(){return Promise.reject(rn("call","sendTransaction"))},signTransaction(){return Promise.reject(rn("call","signTransaction"))},signAllTransactions(){return Promise.reject(rn("call","signAllTransactions"))},signMessage(){return Promise.reject(rn("call","signMessage"))},signIn(){return Promise.reject(rn("call","signIn"))}};Object.defineProperty(Ji,"wallets",{get(){return rn("read","wallets"),Zg}});Object.defineProperty(Ji,"wallet",{get(){return rn("read","wallet"),null}});Object.defineProperty(Ji,"publicKey",{get(){return rn("read","publicKey"),null}});function rn(r,t){const e=new Error(`You have tried to ${r} "${t}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(e),e}const qu=J.createContext(Ji);function Hu(){return J.useContext(qu)}function Qg(r,t){const e=J.useState(()=>{try{const i=localStorage.getItem(r);if(i)return JSON.parse(i)}catch(i){typeof window<"u"&&console.error(i)}return t}),n=e[0],s=J.useRef(!0);return J.useEffect(()=>{if(s.current){s.current=!1;return}try{n===null?localStorage.removeItem(r):localStorage.setItem(r,JSON.stringify(n))}catch(i){typeof window<"u"&&console.error(i)}},[n,r]),e}function Ws(r){switch(r){case"processed":case"confirmed":case"finalized":case void 0:return r;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const wo="solana:mainnet",Gu="solana:devnet",Yu="solana:testnet",Jg="solana:localnet",Xg="https://api.mainnet-beta.solana.com";function tp(r){return r.includes(Xg)?wo:/\bdevnet\b/i.test(r)?Gu:/\btestnet\b/i.test(r)?Yu:/\blocalhost\b/i.test(r)||/\b127\.0\.0\.1\b/.test(r)?Jg:wo}function ep(r){let t=`${r.domain} wants you to sign in with your Solana account:
`;t+=`${r.address}`,r.statement&&(t+=`

${r.statement}`);const e=[];if(r.uri&&e.push(`URI: ${r.uri}`),r.version&&e.push(`Version: ${r.version}`),r.chainId&&e.push(`Chain ID: ${r.chainId}`),r.nonce&&e.push(`Nonce: ${r.nonce}`),r.issuedAt&&e.push(`Issued At: ${r.issuedAt}`),r.expirationTime&&e.push(`Expiration Time: ${r.expirationTime}`),r.notBefore&&e.push(`Not Before: ${r.notBefore}`),r.requestId&&e.push(`Request ID: ${r.requestId}`),r.resources){e.push("Resources:");for(const n of r.resources)e.push(`- ${n}`)}return e.length&&(t+=`

${e.join(`
`)}`),t}const An={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class Ln extends Error{constructor(...t){const[e,n,s]=t;super(n),this.code=e,this.data=s,this.name="SolanaMobileWalletAdapterError"}}class Vu extends Error{constructor(...t){const[e,n,s,i]=t;super(s),this.code=n,this.data=i,this.jsonRpcMessageId=e,this.name="SolanaMobileWalletAdapterProtocolError"}}function me(r,t,e,n){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function a(f){try{p(n.next(f))}catch(y){o(y)}}function c(f){try{p(n.throw(f))}catch(y){o(y)}}function p(f){f.done?i(f.value):s(f.value).then(a,c)}p((n=n.apply(r,[])).next())})}function $s(r,t){return me(this,void 0,void 0,function*(){const e=yield crypto.subtle.exportKey("raw",r),n=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},t,e),s=new Uint8Array(e.byteLength+n.byteLength);return s.set(new Uint8Array(e),0),s.set(new Uint8Array(n),e.byteLength),s})}function np(r){return window.btoa(r)}function rp(r){return ep(r)}function ip(r){return np(rp(r))}const sp="solana:signTransactions",sc="solana:cloneAuthorization";function op(r,t){return new Proxy({},{get(e,n){return e[n]==null&&(e[n]=function(s){return me(this,void 0,void 0,function*(){const{method:i,params:o}=ap(n,s,r),a=yield t(i,o);return i==="authorize"&&o.sign_in_payload&&!a.sign_in_result&&(a.sign_in_result=yield up(o.sign_in_payload,a,t)),cp(n,a,r)})}),e[n]},defineProperty(){return!1},deleteProperty(){return!1}})}function ap(r,t,e){let n=t,s=r.toString().replace(/[A-Z]/g,i=>`_${i.toLowerCase()}`).toLowerCase();switch(r){case"authorize":{let{chain:i}=n;if(e==="legacy"){switch(i){case"solana:testnet":{i="testnet";break}case"solana:devnet":{i="devnet";break}case"solana:mainnet":{i="mainnet-beta";break}default:i=n.cluster}n.cluster=i}else{switch(i){case"testnet":case"devnet":{i=`solana:${i}`;break}case"mainnet-beta":{i="solana:mainnet";break}}n.chain=i}}case"reauthorize":{const{auth_token:i,identity:o}=n;if(i)switch(e){case"legacy":{s="reauthorize",n={auth_token:i,identity:o};break}default:{s="authorize";break}}break}}return{method:s,params:n}}function cp(r,t,e){switch(r){case"getCapabilities":{const n=t;switch(e){case"legacy":{const s=[sp];return n.supports_clone_authorization===!0&&s.push(sc),Object.assign(Object.assign({},n),{features:s})}case"v1":return Object.assign(Object.assign({},n),{supports_sign_and_send_transactions:!0,supports_clone_authorization:n.features.includes(sc)})}}}return t}function up(r,t,e){var n;return me(this,void 0,void 0,function*(){const s=(n=r.domain)!==null&&n!==void 0?n:window.location.host,i=t.accounts[0].address,o=ip(Object.assign(Object.assign({},r),{domain:s,address:i})),a=yield e("sign_messages",{addresses:[i],payloads:[o]});return{address:i,signed_message:o,signature:a.signed_payloads[0].slice(o.length)}})}const Yn=4;function lp(r){if(r>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const t=new ArrayBuffer(Yn);return new DataView(t).setUint32(0,r,!1),new Uint8Array(t)}const mo=12,Zu=65;function fp(r,t,e){return me(this,void 0,void 0,function*(){const n=lp(t),s=new Uint8Array(mo);crypto.getRandomValues(s);const i=yield crypto.subtle.encrypt(Ju(n,s),e,new TextEncoder().encode(r)),o=new Uint8Array(n.byteLength+s.byteLength+i.byteLength);return o.set(new Uint8Array(n),0),o.set(new Uint8Array(s),n.byteLength),o.set(new Uint8Array(i),n.byteLength+s.byteLength),o})}function Qu(r,t){return me(this,void 0,void 0,function*(){const e=r.slice(0,Yn),n=r.slice(Yn,Yn+mo),s=r.slice(Yn+mo),i=yield crypto.subtle.decrypt(Ju(e,n),t,s);return hp().decode(i)})}function Ju(r,t){return{additionalData:r,iv:t,name:"AES-GCM",tagLength:128}}let Ks;function hp(){return Ks===void 0&&(Ks=new TextDecoder("utf-8")),Ks}function dp(){return me(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function qs(){return me(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function gp(r,t){return me(this,void 0,void 0,function*(){const e=JSON.stringify(r),n=r.id;return fp(e,n,t)})}function pp(r,t){return me(this,void 0,void 0,function*(){const e=yield Qu(r,t),n=JSON.parse(e);if(Object.hasOwnProperty.call(n,"error"))throw new Vu(n.id,n.error.code,n.error.message);return n})}function wp(r,t,e){return me(this,void 0,void 0,function*(){const[n,s]=yield Promise.all([crypto.subtle.exportKey("raw",t),crypto.subtle.importKey("raw",r.slice(0,Zu),{name:"ECDH",namedCurve:"P-256"},!1,[])]),i=yield crypto.subtle.deriveBits({name:"ECDH",public:s},e,256),o=yield crypto.subtle.importKey("raw",i,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(n),info:new Uint8Array},o,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function mp(r,t){return me(this,void 0,void 0,function*(){const e=yield Qu(r,t),n=JSON.parse(e);let s="legacy";if(Object.hasOwnProperty.call(n,"v"))switch(n.v){case 1:case"1":case"v1":s="v1";break;case"legacy":s="legacy";break;default:throw new Ln(An.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${n.v}`)}return{protocol_version:s}})}function yp(){return Xu(49152+Math.floor(Math.random()*16384))}function Xu(r){if(r<49152||r>65535)throw new Ln(An.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${r} given.`,{port:r});return r}function bp(r){let t="";const e=new Uint8Array(r),n=e.byteLength;for(let s=0;s<n;s++)t+=String.fromCharCode(e[s]);return window.btoa(t)}function vp(r){return r.replace(/[/+=]/g,t=>({"/":"_","+":"-","=":"."})[t])}const Mp="solana-wallet";function oc(r){return r.replace(/(^\/+|\/+$)/g,"").split("/")}function Ep(r,t){let e=null;if(t){try{e=new URL(t)}catch{}if(e?.protocol!=="https:")throw new Ln(An.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}e||(e=new URL(`${Mp}:/`));const n=r.startsWith("/")?r:[...oc(e.pathname),...oc(r)].join("/");return new URL(n,e)}function Sp(r,t,e,n=["v1"]){return me(this,void 0,void 0,function*(){const s=Xu(t),i=yield crypto.subtle.exportKey("raw",r),o=bp(i),a=Ep("v1/associate/local",e);return a.searchParams.set("association",vp(o)),a.searchParams.set("port",`${s}`),n.forEach(c=>{a.searchParams.set("v",c)}),a})}const Ni={Firefox:0,Other:1};function xp(){return navigator.userAgent.indexOf("Firefox/")!==-1?Ni.Firefox:Ni.Other}function Ip(){return new Promise((r,t)=>{function e(){clearTimeout(s),window.removeEventListener("blur",n)}function n(){e(),r()}window.addEventListener("blur",n);const s=setTimeout(()=>{e(),t()},2e3)})}let zr=null;function _p(r){zr==null&&(zr=document.createElement("iframe"),zr.style.display="none",document.body.appendChild(zr)),zr.contentWindow.location.href=r.toString()}function Ap(r){return me(this,void 0,void 0,function*(){if(r.protocol==="https:")window.location.assign(r);else try{const t=xp();switch(t){case Ni.Firefox:_p(r);break;case Ni.Other:{const e=Ip();window.location.assign(r),yield e;break}default:}}catch{throw new Ln(An.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function Lp(r,t){return me(this,void 0,void 0,function*(){const e=yp(),n=yield Sp(r,e,t);return yield Ap(n),e})}const ac={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},Bp="com.solana.mobilewalletadapter.v1";function Tp(){if(typeof window>"u"||window.isSecureContext!==!0)throw new Ln(An.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function Np(r){let t;try{t=new URL(r)}catch{throw new Ln(An.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(t.protocol!=="https:")throw new Ln(An.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function cc(r){return new DataView(r).getUint32(0,!1)}function kp(r,t){return me(this,void 0,void 0,function*(){Tp();const e=yield dp(),s=`ws://localhost:${yield Lp(e.publicKey,t?.baseUri)}/solana-wallet`;let i;const o=(()=>{const f=[...ac.retryDelayScheduleMs];return()=>f.length>1?f.shift():f[0]})();let a=1,c=0,p={__type:"disconnected"};return new Promise((f,y)=>{let x;const M={},L=()=>me(this,void 0,void 0,function*(){if(p.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${p.__type}\`.`);return}x.removeEventListener("open",L);const{associationKeypair:P}=p,U=yield qs();x.send(yield $s(U.publicKey,P.privateKey)),p={__type:"hello_req_sent",associationPublicKey:P.publicKey,ecdhPrivateKey:U.privateKey}}),B=P=>{P.wasClean?p={__type:"disconnected"}:y(new Ln(An.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${P.code}: ${P.reason}).`,{closeEvent:P})),C()},v=P=>me(this,void 0,void 0,function*(){C(),Date.now()-i>=ac.timeoutMs?y(new Ln(An.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${s}.`)):(yield new Promise(U=>{const $=o();I=window.setTimeout(U,$)}),O())}),k=P=>me(this,void 0,void 0,function*(){const U=yield P.data.arrayBuffer();switch(p.__type){case"connecting":if(U.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const $=yield qs();x.send(yield $s($.publicKey,e.privateKey)),p={__type:"hello_req_sent",associationPublicKey:e.publicKey,ecdhPrivateKey:$.privateKey};break;case"connected":try{const K=U.slice(0,Yn),Q=cc(K);if(Q!==c+1)throw new Error("Encrypted message has invalid sequence number");c=Q;const dt=yield pp(U,p.sharedSecret),nt=M[dt.id];delete M[dt.id],nt.resolve(dt.result)}catch(K){if(K instanceof Vu){const Q=M[K.jsonRpcMessageId];delete M[K.jsonRpcMessageId],Q.reject(K)}else throw K}break;case"hello_req_sent":{if(U.byteLength===0){const rt=yield qs();x.send(yield $s(rt.publicKey,e.privateKey)),p={__type:"hello_req_sent",associationPublicKey:e.publicKey,ecdhPrivateKey:rt.privateKey};break}const K=yield wp(U,p.associationPublicKey,p.ecdhPrivateKey),Q=U.slice(Zu),dt=Q.byteLength!==0?yield me(this,void 0,void 0,function*(){const rt=Q.slice(0,Yn),T=cc(rt);if(T!==c+1)throw new Error("Encrypted message has invalid sequence number");return c=T,mp(Q,K)}):{protocol_version:"legacy"};p={__type:"connected",sharedSecret:K,sessionProperties:dt};const nt=op(dt.protocol_version,(rt,T)=>me(this,void 0,void 0,function*(){const u=a++;return x.send(yield gp({id:u,jsonrpc:"2.0",method:rt,params:T??{}},K)),new Promise((g,w)=>{M[u]={resolve(m){switch(rt){case"authorize":case"reauthorize":{const{wallet_uri_base:E}=m;if(E!=null)try{Np(E)}catch(N){w(N);return}break}}g(m)},reject:w}})}));try{f(yield r(nt))}catch(rt){y(rt)}finally{C(),x.close()}break}}});let C,I;const O=()=>{C&&C(),p={__type:"connecting",associationKeypair:e},i===void 0&&(i=Date.now()),x=new WebSocket(s,[Bp]),x.addEventListener("open",L),x.addEventListener("close",B),x.addEventListener("error",v),x.addEventListener("message",k),C=()=>{window.clearTimeout(I),x.removeEventListener("open",L),x.removeEventListener("close",B),x.removeEventListener("error",v),x.removeEventListener("message",k)}};O()})})}function Cp(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=n}var o=r.length,a=r.charAt(0),c=Math.log(o)/Math.log(256),p=Math.log(256)/Math.log(o);function f(M){if(M instanceof Uint8Array||(ArrayBuffer.isView(M)?M=new Uint8Array(M.buffer,M.byteOffset,M.byteLength):Array.isArray(M)&&(M=Uint8Array.from(M))),!(M instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(M.length===0)return"";for(var L=0,B=0,v=0,k=M.length;v!==k&&M[v]===0;)v++,L++;for(var C=(k-v)*p+1>>>0,I=new Uint8Array(C);v!==k;){for(var O=M[v],P=0,U=C-1;(O!==0||P<B)&&U!==-1;U--,P++)O+=256*I[U]>>>0,I[U]=O%o>>>0,O=O/o>>>0;if(O!==0)throw new Error("Non-zero carry");B=P,v++}for(var $=C-B;$!==C&&I[$]===0;)$++;for(var K=a.repeat(L);$<C;++$)K+=r.charAt(I[$]);return K}function y(M){if(typeof M!="string")throw new TypeError("Expected String");if(M.length===0)return new Uint8Array;for(var L=0,B=0,v=0;M[L]===a;)B++,L++;for(var k=(M.length-L)*c+1>>>0,C=new Uint8Array(k);M[L];){var I=t[M.charCodeAt(L)];if(I===255)return;for(var O=0,P=k-1;(I!==0||O<v)&&P!==-1;P--,O++)I+=o*C[P]>>>0,C[P]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");v=O,L++}for(var U=k-v;U!==k&&C[U]===0;)U++;for(var $=new Uint8Array(B+(k-U)),K=B;U!==k;)$[K++]=C[U++];return $}function x(M){var L=y(M);if(L)return L;throw new Error("Non-base"+o+" character")}return{encode:f,decodeUnsafe:y,decode:x}}var Rp=Cp;const Dp=Rp,Op="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var jp=Dp(Op);const zp=rr(jp);function Hs(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(e[n[s]]=r[n[s]]);return e}function li(r,t,e,n){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function a(f){try{p(n.next(f))}catch(y){o(y)}}function c(f){try{p(n.throw(f))}catch(y){o(y)}}function p(f){f.done?i(f.value):s(f.value).then(a,c)}p((n=n.apply(r,[])).next())})}function tl(r){return window.btoa(String.fromCharCode.call(null,...r))}function Gs(r){return new Uint8Array(window.atob(r).split("").map(t=>t.charCodeAt(0)))}function uc(r){const t="version"in r?r.serialize():r.serialize({requireAllSignatures:!1,verifySignatures:!1});return tl(t)}function Up(r){const e=r[0]*Gr+1;return aa.deserializeMessageVersion(r.slice(e,r.length))==="legacy"?sn.from(r):Vr.deserialize(r)}function Pp(r,t){return li(this,void 0,void 0,function*(){return yield kp(n=>{const s=new Proxy({},{get(i,o){if(i[o]==null)switch(o){case"signAndSendTransactions":i[o]=function(a){var{minContextSlot:c,commitment:p,skipPreflight:f,maxRetries:y,waitForCommitmentToSendNextTransaction:x,transactions:M}=a,L=Hs(a,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return li(this,void 0,void 0,function*(){const B=M.map(uc),v={min_context_slot:c,commitment:p,skip_preflight:f,max_retries:y,wait_for_commitment_to_send_next_transaction:x},{signatures:k}=yield n.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},L),Object.values(v).some(I=>I!=null)?{options:v}:null),{payloads:B}));return k.map(Gs).map(zp.encode)})};break;case"signMessages":i[o]=function(a){var{payloads:c}=a,p=Hs(a,["payloads"]);return li(this,void 0,void 0,function*(){const f=c.map(tl),{signed_payloads:y}=yield n.signMessages(Object.assign(Object.assign({},p),{payloads:f}));return y.map(Gs)})};break;case"signTransactions":i[o]=function(a){var{transactions:c}=a,p=Hs(a,["transactions"]);return li(this,void 0,void 0,function*(){const f=c.map(uc),{signed_payloads:y}=yield n.signTransactions(Object.assign(Object.assign({},p),{payloads:f}));return y.map(Gs).map(Up)})};break;default:{i[o]=n[o];break}}return i[o]},defineProperty(){return!1},deleteProperty(){return!1}});return r(s)},t)})}var Fp=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},el={},Ze={};let wa;const Wp=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Ze.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Ze.getSymbolTotalCodewords=function(t){return Wp[t]};Ze.getBCHDigit=function(r){let t=0;for(;r!==0;)t++,r>>>=1;return t};Ze.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');wa=t};Ze.isKanjiModeEnabled=function(){return typeof wa<"u"};Ze.toSJIS=function(t){return wa(t)};var Xi={};(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function t(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+e)}}r.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},r.from=function(n,s){if(r.isValid(n))return n;try{return t(n)}catch{return s}}})(Xi);function nl(){this.buffer=[],this.length=0}nl.prototype={get:function(r){const t=Math.floor(r/8);return(this.buffer[t]>>>7-r%8&1)===1},put:function(r,t){for(let e=0;e<t;e++)this.putBit((r>>>t-e-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(r){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),r&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var $p=nl;function ri(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=new Uint8Array(r*r),this.reservedBit=new Uint8Array(r*r)}ri.prototype.set=function(r,t,e,n){const s=r*this.size+t;this.data[s]=e,n&&(this.reservedBit[s]=!0)};ri.prototype.get=function(r,t){return this.data[r*this.size+t]};ri.prototype.xor=function(r,t,e){this.data[r*this.size+t]^=e};ri.prototype.isReserved=function(r,t){return this.reservedBit[r*this.size+t]};var Kp=ri,rl={};(function(r){const t=Ze.getSymbolSize;r.getRowColCoords=function(n){if(n===1)return[];const s=Math.floor(n/7)+2,i=t(n),o=i===145?26:Math.ceil((i-13)/(2*s-2))*2,a=[i-7];for(let c=1;c<s-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},r.getPositions=function(n){const s=[],i=r.getRowColCoords(n),o=i.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||s.push([i[a],i[c]]);return s}})(rl);var il={};const qp=Ze.getSymbolSize,lc=7;il.getPositions=function(t){const e=qp(t);return[[0,0],[e-lc,0],[0,e-lc]]};var sl={};(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};r.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},r.from=function(s){return r.isValid(s)?parseInt(s,10):void 0},r.getPenaltyN1=function(s){const i=s.size;let o=0,a=0,c=0,p=null,f=null;for(let y=0;y<i;y++){a=c=0,p=f=null;for(let x=0;x<i;x++){let M=s.get(y,x);M===p?a++:(a>=5&&(o+=t.N1+(a-5)),p=M,a=1),M=s.get(x,y),M===f?c++:(c>=5&&(o+=t.N1+(c-5)),f=M,c=1)}a>=5&&(o+=t.N1+(a-5)),c>=5&&(o+=t.N1+(c-5))}return o},r.getPenaltyN2=function(s){const i=s.size;let o=0;for(let a=0;a<i-1;a++)for(let c=0;c<i-1;c++){const p=s.get(a,c)+s.get(a,c+1)+s.get(a+1,c)+s.get(a+1,c+1);(p===4||p===0)&&o++}return o*t.N2},r.getPenaltyN3=function(s){const i=s.size;let o=0,a=0,c=0;for(let p=0;p<i;p++){a=c=0;for(let f=0;f<i;f++)a=a<<1&2047|s.get(p,f),f>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|s.get(f,p),f>=10&&(c===1488||c===93)&&o++}return o*t.N3},r.getPenaltyN4=function(s){let i=0;const o=s.data.length;for(let c=0;c<o;c++)i+=s.data[c];return Math.abs(Math.ceil(i*100/o/5)-10)*t.N4};function e(n,s,i){switch(n){case r.Patterns.PATTERN000:return(s+i)%2===0;case r.Patterns.PATTERN001:return s%2===0;case r.Patterns.PATTERN010:return i%3===0;case r.Patterns.PATTERN011:return(s+i)%3===0;case r.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case r.Patterns.PATTERN101:return s*i%2+s*i%3===0;case r.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case r.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}r.applyMask=function(s,i){const o=i.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)i.isReserved(c,a)||i.xor(c,a,e(s,c,a))},r.getBestMask=function(s,i){const o=Object.keys(r.Patterns).length;let a=0,c=1/0;for(let p=0;p<o;p++){i(p),r.applyMask(p,s);const f=r.getPenaltyN1(s)+r.getPenaltyN2(s)+r.getPenaltyN3(s)+r.getPenaltyN4(s);r.applyMask(p,s),f<c&&(c=f,a=p)}return a}})(sl);var ts={};const Un=Xi,fi=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],hi=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];ts.getBlocksCount=function(t,e){switch(e){case Un.L:return fi[(t-1)*4+0];case Un.M:return fi[(t-1)*4+1];case Un.Q:return fi[(t-1)*4+2];case Un.H:return fi[(t-1)*4+3];default:return}};ts.getTotalCodewordsCount=function(t,e){switch(e){case Un.L:return hi[(t-1)*4+0];case Un.M:return hi[(t-1)*4+1];case Un.Q:return hi[(t-1)*4+2];case Un.H:return hi[(t-1)*4+3];default:return}};var ol={},es={};const Fr=new Uint8Array(512),ki=new Uint8Array(256);(function(){let t=1;for(let e=0;e<255;e++)Fr[e]=t,ki[t]=e,t<<=1,t&256&&(t^=285);for(let e=255;e<512;e++)Fr[e]=Fr[e-255]})();es.log=function(t){if(t<1)throw new Error("log("+t+")");return ki[t]};es.exp=function(t){return Fr[t]};es.mul=function(t,e){return t===0||e===0?0:Fr[ki[t]+ki[e]]};(function(r){const t=es;r.mul=function(n,s){const i=new Uint8Array(n.length+s.length-1);for(let o=0;o<n.length;o++)for(let a=0;a<s.length;a++)i[o+a]^=t.mul(n[o],s[a]);return i},r.mod=function(n,s){let i=new Uint8Array(n);for(;i.length-s.length>=0;){const o=i[0];for(let c=0;c<s.length;c++)i[c]^=t.mul(s[c],o);let a=0;for(;a<i.length&&i[a]===0;)a++;i=i.slice(a)}return i},r.generateECPolynomial=function(n){let s=new Uint8Array([1]);for(let i=0;i<n;i++)s=r.mul(s,new Uint8Array([1,t.exp(i)]));return s}})(ol);const al=ol;function ma(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}ma.prototype.initialize=function(t){this.degree=t,this.genPoly=al.generateECPolynomial(this.degree)};ma.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(t.length+this.degree);e.set(t);const n=al.mod(e,this.genPoly),s=this.degree-n.length;if(s>0){const i=new Uint8Array(this.degree);return i.set(n,s),i}return n};var Hp=ma,cl={},Wn={},ya={};ya.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var wn={};const ul="[0-9]+",Gp="[A-Z $%*+\\-./:]+";let Qr="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Qr=Qr.replace(/u/g,"\\u");const Yp="(?:(?![A-Z0-9 $%*+\\-./:]|"+Qr+`)(?:.|[\r
]))+`;wn.KANJI=new RegExp(Qr,"g");wn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");wn.BYTE=new RegExp(Yp,"g");wn.NUMERIC=new RegExp(ul,"g");wn.ALPHANUMERIC=new RegExp(Gp,"g");const Vp=new RegExp("^"+Qr+"$"),Zp=new RegExp("^"+ul+"$"),Qp=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");wn.testKanji=function(t){return Vp.test(t)};wn.testNumeric=function(t){return Zp.test(t)};wn.testAlphanumeric=function(t){return Qp.test(t)};(function(r){const t=ya,e=wn;r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},r.getBestModeForData=function(i){return e.testNumeric(i)?r.NUMERIC:e.testAlphanumeric(i)?r.ALPHANUMERIC:e.testKanji(i)?r.KANJI:r.BYTE},r.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},r.isValid=function(i){return i&&i.bit&&i.ccBits};function n(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+s)}}r.from=function(i,o){if(r.isValid(i))return i;try{return n(i)}catch{return o}}})(Wn);(function(r){const t=Ze,e=ts,n=Xi,s=Wn,i=ya,o=7973,a=t.getBCHDigit(o);function c(x,M,L){for(let B=1;B<=40;B++)if(M<=r.getCapacity(B,L,x))return B}function p(x,M){return s.getCharCountIndicator(x,M)+4}function f(x,M){let L=0;return x.forEach(function(B){const v=p(B.mode,M);L+=v+B.getBitsLength()}),L}function y(x,M){for(let L=1;L<=40;L++)if(f(x,L)<=r.getCapacity(L,M,s.MIXED))return L}r.from=function(M,L){return i.isValid(M)?parseInt(M,10):L},r.getCapacity=function(M,L,B){if(!i.isValid(M))throw new Error("Invalid QR Code version");typeof B>"u"&&(B=s.BYTE);const v=t.getSymbolTotalCodewords(M),k=e.getTotalCodewordsCount(M,L),C=(v-k)*8;if(B===s.MIXED)return C;const I=C-p(B,M);switch(B){case s.NUMERIC:return Math.floor(I/10*3);case s.ALPHANUMERIC:return Math.floor(I/11*2);case s.KANJI:return Math.floor(I/13);case s.BYTE:default:return Math.floor(I/8)}},r.getBestVersionForData=function(M,L){let B;const v=n.from(L,n.M);if(Array.isArray(M)){if(M.length>1)return y(M,v);if(M.length===0)return 1;B=M[0]}else B=M;return c(B.mode,B.getLength(),v)},r.getEncodedBits=function(M){if(!i.isValid(M)||M<7)throw new Error("Invalid QR Code version");let L=M<<12;for(;t.getBCHDigit(L)-a>=0;)L^=o<<t.getBCHDigit(L)-a;return M<<12|L}})(cl);var ll={};const yo=Ze,fl=1335,Jp=21522,fc=yo.getBCHDigit(fl);ll.getEncodedBits=function(t,e){const n=t.bit<<3|e;let s=n<<10;for(;yo.getBCHDigit(s)-fc>=0;)s^=fl<<yo.getBCHDigit(s)-fc;return(n<<10|s)^Jp};var hl={};const Xp=Wn;function Lr(r){this.mode=Xp.NUMERIC,this.data=r.toString()}Lr.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Lr.prototype.getLength=function(){return this.data.length};Lr.prototype.getBitsLength=function(){return Lr.getBitsLength(this.data.length)};Lr.prototype.write=function(t){let e,n,s;for(e=0;e+3<=this.data.length;e+=3)n=this.data.substr(e,3),s=parseInt(n,10),t.put(s,10);const i=this.data.length-e;i>0&&(n=this.data.substr(e),s=parseInt(n,10),t.put(s,i*3+1))};var tw=Lr;const ew=Wn,Ys=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Br(r){this.mode=ew.ALPHANUMERIC,this.data=r}Br.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Br.prototype.getLength=function(){return this.data.length};Br.prototype.getBitsLength=function(){return Br.getBitsLength(this.data.length)};Br.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){let n=Ys.indexOf(this.data[e])*45;n+=Ys.indexOf(this.data[e+1]),t.put(n,11)}this.data.length%2&&t.put(Ys.indexOf(this.data[e]),6)};var nw=Br;const rw=Wn;function Tr(r){this.mode=rw.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}Tr.getBitsLength=function(t){return t*8};Tr.prototype.getLength=function(){return this.data.length};Tr.prototype.getBitsLength=function(){return Tr.getBitsLength(this.data.length)};Tr.prototype.write=function(r){for(let t=0,e=this.data.length;t<e;t++)r.put(this.data[t],8)};var iw=Tr;const sw=Wn,ow=Ze;function Nr(r){this.mode=sw.KANJI,this.data=r}Nr.getBitsLength=function(t){return t*13};Nr.prototype.getLength=function(){return this.data.length};Nr.prototype.getBitsLength=function(){return Nr.getBitsLength(this.data.length)};Nr.prototype.write=function(r){let t;for(t=0;t<this.data.length;t++){let e=ow.toSJIS(this.data[t]);if(e>=33088&&e<=40956)e-=33088;else if(e>=57408&&e<=60351)e-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);e=(e>>>8&255)*192+(e&255),r.put(e,13)}};var aw=Nr,dl={exports:{}};(function(r){var t={single_source_shortest_paths:function(e,n,s){var i={},o={};o[n]=0;var a=t.PriorityQueue.make();a.push(n,0);for(var c,p,f,y,x,M,L,B,v;!a.empty();){c=a.pop(),p=c.value,y=c.cost,x=e[p]||{};for(f in x)x.hasOwnProperty(f)&&(M=x[f],L=y+M,B=o[f],v=typeof o[f]>"u",(v||B>L)&&(o[f]=L,a.push(f,L),i[f]=p))}if(typeof s<"u"&&typeof o[s]>"u"){var k=["Could not find a path from ",n," to ",s,"."].join("");throw new Error(k)}return i},extract_shortest_path_from_predecessor_list:function(e,n){for(var s=[],i=n;i;)s.push(i),e[i],i=e[i];return s.reverse(),s},find_path:function(e,n,s){var i=t.single_source_shortest_paths(e,n,s);return t.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(e){var n=t.PriorityQueue,s={},i;e=e||{};for(i in n)n.hasOwnProperty(i)&&(s[i]=n[i]);return s.queue=[],s.sorter=e.sorter||n.default_sorter,s},default_sorter:function(e,n){return e.cost-n.cost},push:function(e,n){var s={value:e,cost:n};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=t})(dl);var cw=dl.exports;(function(r){const t=Wn,e=tw,n=nw,s=iw,i=aw,o=wn,a=Ze,c=cw;function p(k){return unescape(encodeURIComponent(k)).length}function f(k,C,I){const O=[];let P;for(;(P=k.exec(I))!==null;)O.push({data:P[0],index:P.index,mode:C,length:P[0].length});return O}function y(k){const C=f(o.NUMERIC,t.NUMERIC,k),I=f(o.ALPHANUMERIC,t.ALPHANUMERIC,k);let O,P;return a.isKanjiModeEnabled()?(O=f(o.BYTE,t.BYTE,k),P=f(o.KANJI,t.KANJI,k)):(O=f(o.BYTE_KANJI,t.BYTE,k),P=[]),C.concat(I,O,P).sort(function($,K){return $.index-K.index}).map(function($){return{data:$.data,mode:$.mode,length:$.length}})}function x(k,C){switch(C){case t.NUMERIC:return e.getBitsLength(k);case t.ALPHANUMERIC:return n.getBitsLength(k);case t.KANJI:return i.getBitsLength(k);case t.BYTE:return s.getBitsLength(k)}}function M(k){return k.reduce(function(C,I){const O=C.length-1>=0?C[C.length-1]:null;return O&&O.mode===I.mode?(C[C.length-1].data+=I.data,C):(C.push(I),C)},[])}function L(k){const C=[];for(let I=0;I<k.length;I++){const O=k[I];switch(O.mode){case t.NUMERIC:C.push([O,{data:O.data,mode:t.ALPHANUMERIC,length:O.length},{data:O.data,mode:t.BYTE,length:O.length}]);break;case t.ALPHANUMERIC:C.push([O,{data:O.data,mode:t.BYTE,length:O.length}]);break;case t.KANJI:C.push([O,{data:O.data,mode:t.BYTE,length:p(O.data)}]);break;case t.BYTE:C.push([{data:O.data,mode:t.BYTE,length:p(O.data)}])}}return C}function B(k,C){const I={},O={start:{}};let P=["start"];for(let U=0;U<k.length;U++){const $=k[U],K=[];for(let Q=0;Q<$.length;Q++){const dt=$[Q],nt=""+U+Q;K.push(nt),I[nt]={node:dt,lastCount:0},O[nt]={};for(let rt=0;rt<P.length;rt++){const T=P[rt];I[T]&&I[T].node.mode===dt.mode?(O[T][nt]=x(I[T].lastCount+dt.length,dt.mode)-x(I[T].lastCount,dt.mode),I[T].lastCount+=dt.length):(I[T]&&(I[T].lastCount=dt.length),O[T][nt]=x(dt.length,dt.mode)+4+t.getCharCountIndicator(dt.mode,C))}}P=K}for(let U=0;U<P.length;U++)O[P[U]].end=0;return{map:O,table:I}}function v(k,C){let I;const O=t.getBestModeForData(k);if(I=t.from(C,O),I!==t.BYTE&&I.bit<O.bit)throw new Error('"'+k+'" cannot be encoded with mode '+t.toString(I)+`.
 Suggested mode is: `+t.toString(O));switch(I===t.KANJI&&!a.isKanjiModeEnabled()&&(I=t.BYTE),I){case t.NUMERIC:return new e(k);case t.ALPHANUMERIC:return new n(k);case t.KANJI:return new i(k);case t.BYTE:return new s(k)}}r.fromArray=function(C){return C.reduce(function(I,O){return typeof O=="string"?I.push(v(O,null)):O.data&&I.push(v(O.data,O.mode)),I},[])},r.fromString=function(C,I){const O=y(C,a.isKanjiModeEnabled()),P=L(O),U=B(P,I),$=c.find_path(U.map,"start","end"),K=[];for(let Q=1;Q<$.length-1;Q++)K.push(U.table[$[Q]].node);return r.fromArray(M(K))},r.rawSplit=function(C){return r.fromArray(y(C,a.isKanjiModeEnabled()))}})(hl);const ns=Ze,Vs=Xi,uw=$p,lw=Kp,fw=rl,hw=il,bo=sl,vo=ts,dw=Hp,Ci=cl,gw=ll,pw=Wn,Zs=hl;function ww(r,t){const e=r.size,n=hw.getPositions(t);for(let s=0;s<n.length;s++){const i=n[s][0],o=n[s][1];for(let a=-1;a<=7;a++)if(!(i+a<=-1||e<=i+a))for(let c=-1;c<=7;c++)o+c<=-1||e<=o+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?r.set(i+a,o+c,!0,!0):r.set(i+a,o+c,!1,!0))}}function mw(r){const t=r.size;for(let e=8;e<t-8;e++){const n=e%2===0;r.set(e,6,n,!0),r.set(6,e,n,!0)}}function yw(r,t){const e=fw.getPositions(t);for(let n=0;n<e.length;n++){const s=e[n][0],i=e[n][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?r.set(s+o,i+a,!0,!0):r.set(s+o,i+a,!1,!0)}}function bw(r,t){const e=r.size,n=Ci.getEncodedBits(t);let s,i,o;for(let a=0;a<18;a++)s=Math.floor(a/3),i=a%3+e-8-3,o=(n>>a&1)===1,r.set(s,i,o,!0),r.set(i,s,o,!0)}function Qs(r,t,e){const n=r.size,s=gw.getEncodedBits(t,e);let i,o;for(i=0;i<15;i++)o=(s>>i&1)===1,i<6?r.set(i,8,o,!0):i<8?r.set(i+1,8,o,!0):r.set(n-15+i,8,o,!0),i<8?r.set(8,n-i-1,o,!0):i<9?r.set(8,15-i-1+1,o,!0):r.set(8,15-i-1,o,!0);r.set(n-8,8,1,!0)}function vw(r,t){const e=r.size;let n=-1,s=e-1,i=7,o=0;for(let a=e-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!r.isReserved(s,a-c)){let p=!1;o<t.length&&(p=(t[o]>>>i&1)===1),r.set(s,a-c,p),i--,i===-1&&(o++,i=7)}if(s+=n,s<0||e<=s){s-=n,n=-n;break}}}function Mw(r,t,e){const n=new uw;e.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),pw.getCharCountIndicator(c.mode,r)),c.write(n)});const s=ns.getSymbolTotalCodewords(r),i=vo.getTotalCodewordsCount(r,t),o=(s-i)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const a=(o-n.getLengthInBits())/8;for(let c=0;c<a;c++)n.put(c%2?17:236,8);return Ew(n,r,t)}function Ew(r,t,e){const n=ns.getSymbolTotalCodewords(t),s=vo.getTotalCodewordsCount(t,e),i=n-s,o=vo.getBlocksCount(t,e),a=n%o,c=o-a,p=Math.floor(n/o),f=Math.floor(i/o),y=f+1,x=p-f,M=new dw(x);let L=0;const B=new Array(o),v=new Array(o);let k=0;const C=new Uint8Array(r.buffer);for(let $=0;$<o;$++){const K=$<c?f:y;B[$]=C.slice(L,L+K),v[$]=M.encode(B[$]),L+=K,k=Math.max(k,K)}const I=new Uint8Array(n);let O=0,P,U;for(P=0;P<k;P++)for(U=0;U<o;U++)P<B[U].length&&(I[O++]=B[U][P]);for(P=0;P<x;P++)for(U=0;U<o;U++)I[O++]=v[U][P];return I}function Sw(r,t,e,n){let s;if(Array.isArray(r))s=Zs.fromArray(r);else if(typeof r=="string"){let p=t;if(!p){const f=Zs.rawSplit(r);p=Ci.getBestVersionForData(f,e)}s=Zs.fromString(r,p||40)}else throw new Error("Invalid data");const i=Ci.getBestVersionForData(s,e);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=i;else if(t<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const o=Mw(t,e,s),a=ns.getSymbolSize(t),c=new lw(a);return ww(c,t),mw(c),yw(c,t),Qs(c,e,0),t>=7&&bw(c,t),vw(c,o),isNaN(n)&&(n=bo.getBestMask(c,Qs.bind(null,c,e))),bo.applyMask(n,c),Qs(c,e,n),{modules:c,version:t,errorCorrectionLevel:e,maskPattern:n,segments:s}}el.create=function(t,e){if(typeof t>"u"||t==="")throw new Error("No input text");let n=Vs.M,s,i;return typeof e<"u"&&(n=Vs.from(e.errorCorrectionLevel,Vs.M),s=Ci.from(e.version),i=bo.from(e.maskPattern),e.toSJISFunc&&ns.setToSJISFunction(e.toSJISFunc)),Sw(t,s,n,i)};var gl={},ba={};(function(r){function t(e){if(typeof e=="number"&&(e=e.toString()),typeof e!="string")throw new Error("Color should be defined as hex string");let n=e.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+e);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(i){return[i,i]}))),n.length===6&&n.push("F","F");const s=parseInt(n.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+n.slice(0,6).join("")}}r.getOptions=function(n){n||(n={}),n.color||(n.color={});const s=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,i=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:i,scale:i?4:o,margin:s,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},r.getScale=function(n,s){return s.width&&s.width>=n+s.margin*2?s.width/(n+s.margin*2):s.scale},r.getImageWidth=function(n,s){const i=r.getScale(n,s);return Math.floor((n+s.margin*2)*i)},r.qrToImageData=function(n,s,i){const o=s.modules.size,a=s.modules.data,c=r.getScale(o,i),p=Math.floor((o+i.margin*2)*c),f=i.margin*c,y=[i.color.light,i.color.dark];for(let x=0;x<p;x++)for(let M=0;M<p;M++){let L=(x*p+M)*4,B=i.color.light;if(x>=f&&M>=f&&x<p-f&&M<p-f){const v=Math.floor((x-f)/c),k=Math.floor((M-f)/c);B=y[a[v*o+k]?1:0]}n[L++]=B.r,n[L++]=B.g,n[L++]=B.b,n[L]=B.a}}})(ba);(function(r){const t=ba;function e(s,i,o){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(i,o,a){let c=a,p=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(p=n()),c=t.getOptions(c);const f=t.getImageWidth(i.modules.size,c),y=p.getContext("2d"),x=y.createImageData(f,f);return t.qrToImageData(x.data,i,c),e(y,p,f),y.putImageData(x,0,0),p},r.renderToDataURL=function(i,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const p=r.render(i,o,c),f=c.type||"image/png",y=c.rendererOpts||{};return p.toDataURL(f,y.quality)}})(gl);var pl={};const xw=ba;function hc(r,t){const e=r.a/255,n=t+'="'+r.hex+'"';return e<1?n+" "+t+'-opacity="'+e.toFixed(2).slice(1)+'"':n}function Js(r,t,e){let n=r+t;return typeof e<"u"&&(n+=" "+e),n}function Iw(r,t,e){let n="",s=0,i=!1,o=0;for(let a=0;a<r.length;a++){const c=Math.floor(a%t),p=Math.floor(a/t);!c&&!i&&(i=!0),r[a]?(o++,a>0&&c>0&&r[a-1]||(n+=i?Js("M",c+e,.5+p+e):Js("m",s,0),s=0,i=!1),c+1<t&&r[a+1]||(n+=Js("h",o),o=0)):s++}return n}pl.render=function(t,e,n){const s=xw.getOptions(e),i=t.modules.size,o=t.modules.data,a=i+s.margin*2,c=s.color.light.a?"<path "+hc(s.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",p="<path "+hc(s.color.dark,"stroke")+' d="'+Iw(o,i,s.margin)+'"/>',f='viewBox="0 0 '+a+" "+a+'"',x='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+f+' shape-rendering="crispEdges">'+c+p+`</svg>
`;return typeof n=="function"&&n(null,x),x};const _w=Fp,Mo=el,wl=gl,Aw=pl;function va(r,t,e,n,s){const i=[].slice.call(arguments,1),o=i.length,a=typeof i[o-1]=="function";if(!a&&!_w())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(s=e,e=t,t=n=void 0):o===3&&(t.getContext&&typeof s>"u"?(s=n,n=void 0):(s=n,n=e,e=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(e=t,t=n=void 0):o===2&&!t.getContext&&(n=e,e=t,t=void 0),new Promise(function(c,p){try{const f=Mo.create(e,n);c(r(f,t,n))}catch(f){p(f)}})}try{const c=Mo.create(e,n);s(null,r(c,t,n))}catch(c){s(c)}}Mo.create;va.bind(null,wl.render);va.bind(null,wl.renderToDataURL);va.bind(null,function(r,t,e){return Aw.render(r,e)});function It(r,t,e,n){function s(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function a(f){try{p(n.next(f))}catch(y){o(y)}}function c(f){try{p(n.throw(f))}catch(y){o(y)}}function p(f){f.done?i(f.value):s(f.value).then(a,c)}p((n=n.apply(r,[])).next())})}function wi(r){return new Uint8Array(window.atob(r).split("").map(t=>t.charCodeAt(0)))}function Lw(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}const Dn="Mobile Wallet Adapter",Bw=64;function Tw(r){const t=wi(r);return new at(t)}function dc(r){return"version"in r}function Nw(r){switch(r){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet"}}class kw extends Yg{constructor(t){var e;super(),this.supportedTransactionVersions=new Set(["legacy",0]),this.name=Dn,this.url="https://solanamobile.com/wallets",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjI4IiB3aWR0aD0iMjgiIHZpZXdCb3g9Ii0zIDAgMjggMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0RDQjhGRiI+PHBhdGggZD0iTTE3LjQgMTcuNEgxNXYyLjRoMi40di0yLjRabTEuMi05LjZoLTIuNHYyLjRoMi40VjcuOFoiLz48cGF0aCBkPSJNMjEuNiAzVjBoLTIuNHYzaC0zLjZWMGgtMi40djNoLTIuNHY2LjZINC41YTIuMSAyLjEgMCAxIDEgMC00LjJoMi43VjNINC41QTQuNSA0LjUgMCAwIDAgMCA3LjVWMjRoMjEuNnYtNi42aC0yLjR2NC4ySDIuNFYxMS41Yy41LjMgMS4yLjQgMS44LjVoNy41QTYuNiA2LjYgMCAwIDAgMjQgOVYzaC0yLjRabTAgNS43YTQuMiA0LjIgMCAxIDEtOC40IDBWNS40aDguNHYzLjNaIi8+PC9nPjwvc3ZnPg==",this._connecting=!1,this._connectionGeneration=0,this._readyState=Lw()?mt.Loadable:mt.Unsupported,this._authorizationResultCache=t.authorizationResultCache,this._addressSelector=t.addressSelector,this._appIdentity=t.appIdentity,this._chain=(e=t.chain)!==null&&e!==void 0?e:Nw(t.cluster),this._hostAuthority=t.remoteHostAuthority,this._onWalletNotFound=t.onWalletNotFound,this._readyState!==mt.Unsupported&&this._authorizationResultCache.get().then(n=>{n&&this.declareWalletAsInstalled()})}get publicKey(){if(this._publicKey==null&&this._selectedAddress!=null)try{this._publicKey=Tw(this._selectedAddress)}catch(t){throw new Ar(t instanceof Error&&t?.message||"Unknown error",t)}return this._publicKey?this._publicKey:null}get connected(){return!!this._authorizationResult}get connecting(){return this._connecting}get readyState(){return this._readyState}declareWalletAsInstalled(){this._readyState!==mt.Installed&&this.emit("readyStateChange",this._readyState=mt.Installed)}runWithGuard(t){return It(this,void 0,void 0,function*(){try{return yield t()}catch(e){throw this.emit("error",e),e}})}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return It(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return It(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>It(this,void 0,void 0,function*(){if(this._readyState!==mt.Installed&&this._readyState!==mt.Loadable)throw new Fn;this._connecting=!0;try{const t=yield this._authorizationResultCache.get();t&&this.handleAuthorizationResult(t)}catch(t){throw new zn(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))})}connect(){return It(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>It(this,void 0,void 0,function*(){if(this._readyState!==mt.Installed&&this._readyState!==mt.Loadable)throw new Fn;this._connecting=!0;try{yield this.performAuthorization()}catch(t){throw new zn(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))})}performAuthorization(t){return It(this,void 0,void 0,function*(){try{const e=yield this._authorizationResultCache.get();return e?(this.handleAuthorizationResult(e),e):yield this.transact(n=>It(this,void 0,void 0,function*(){const s=yield n.authorize({chain:this._chain,identity:this._appIdentity,sign_in_payload:t});return Promise.all([this._authorizationResultCache.set(s),this.handleAuthorizationResult(s)]),s}))}catch(e){throw new zn(e instanceof Error&&e.message||"Unknown error",e)}})}handleAuthorizationResult(t){var e;return It(this,void 0,void 0,function*(){const n=this._authorizationResult==null||((e=this._authorizationResult)===null||e===void 0?void 0:e.accounts.length)!==t.accounts.length||this._authorizationResult.accounts.some((s,i)=>s.address!==t.accounts[i].address);if(this._authorizationResult=t,this.declareWalletAsInstalled(),n){const s=yield this._addressSelector.select(t.accounts.map(({address:i})=>i));s!==this._selectedAddress&&(this._selectedAddress=s,delete this._publicKey,this.emit("connect",this.publicKey))}})}performReauthorization(t,e){return It(this,void 0,void 0,function*(){try{const n=yield t.authorize({auth_token:e,identity:this._appIdentity});Promise.all([this._authorizationResultCache.set(n),this.handleAuthorizationResult(n)])}catch(n){throw this.disconnect(),new Zi(n instanceof Error&&n?.message||"Unknown error",n)}})}disconnect(){return It(this,void 0,void 0,function*(){this._authorizationResultCache.clear(),this._connecting=!1,this._connectionGeneration++,delete this._authorizationResult,delete this._publicKey,delete this._selectedAddress,this.emit("disconnect")})}transact(t){var e;return It(this,void 0,void 0,function*(){const n=(e=this._authorizationResult)===null||e===void 0?void 0:e.wallet_uri_base,s=n?{baseUri:n}:void 0,i=this._hostAuthority?{remoteHostAuthority:this._hostAuthority}:void 0,o=this._connectionGeneration;try{return yield Pp(t,Object.assign(Object.assign({},s),i))}catch(a){throw this._connectionGeneration!==o&&(yield new Promise(()=>{})),a instanceof Error&&a.name==="SolanaMobileWalletAdapterError"&&a.code==="ERROR_WALLET_NOT_FOUND"&&(yield this._onWalletNotFound(this)),a}})}assertIsAuthorized(){if(!this._authorizationResult||!this._selectedAddress)throw new te;return{authToken:this._authorizationResult.auth_token,selectedAddress:this._selectedAddress}}performSignTransactions(t){return It(this,void 0,void 0,function*(){const{authToken:e}=this.assertIsAuthorized();try{return yield this.transact(n=>It(this,void 0,void 0,function*(){return yield this.performReauthorization(n,e),yield n.signTransactions({transactions:t})}))}catch(n){throw new on(n?.message,n)}})}sendTransaction(t,e,n){return It(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>It(this,void 0,void 0,function*(){const{authToken:s}=this.assertIsAuthorized(),i=n?.minContextSlot;try{return yield this.transact(o=>It(this,void 0,void 0,function*(){function a(){let y;switch(e.commitment){case"confirmed":case"finalized":case"processed":y=e.commitment;break;default:y="finalized"}let x;switch(n?.preflightCommitment){case"confirmed":case"finalized":case"processed":x=n.preflightCommitment;break;case void 0:x=y;break;default:x="finalized"}return(x==="finalized"?2:x==="confirmed"?1:0)<(y==="finalized"?2:y==="confirmed"?1:0)?x:y}const[c,p,f]=yield Promise.all([o.getCapabilities(),this.performReauthorization(o,s),dc(t)?null:It(this,void 0,void 0,function*(){var y;if(t.feePayer||(t.feePayer=(y=this.publicKey)!==null&&y!==void 0?y:void 0),t.recentBlockhash==null){const{blockhash:x}=yield e.getLatestBlockhash({commitment:a()});t.recentBlockhash=x}})]);if(c.supports_sign_and_send_transactions)return(yield o.signAndSendTransactions({minContextSlot:i,transactions:[t]}))[0];{const[y]=yield o.signTransactions({transactions:[t]});if(dc(y))return yield e.sendTransaction(y);{const x=y.serialize();return yield e.sendRawTransaction(x,Object.assign(Object.assign({},n),{preflightCommitment:a()}))}}}))}catch(o){throw new Sn(o?.message,o)}}))})}signTransaction(t){return It(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>It(this,void 0,void 0,function*(){const[e]=yield this.performSignTransactions([t]);return e}))})}signAllTransactions(t){return It(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>It(this,void 0,void 0,function*(){return yield this.performSignTransactions(t)}))})}signMessage(t){return It(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>It(this,void 0,void 0,function*(){const{authToken:e,selectedAddress:n}=this.assertIsAuthorized();try{return yield this.transact(s=>It(this,void 0,void 0,function*(){yield this.performReauthorization(s,e);const[i]=yield s.signMessages({addresses:[n],payloads:[t]});return i.slice(-Bw)}))}catch(s){throw new Qi(s?.message,s)}}))})}signIn(t){return It(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>It(this,void 0,void 0,function*(){var e,n;if(this._readyState!==mt.Installed&&this._readyState!==mt.Loadable)throw new Fn;this._connecting=!0;try{const s=yield this.performAuthorization(Object.assign(Object.assign({},t),{domain:(e=t?.domain)!==null&&e!==void 0?e:window.location.host}));if(!s.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const i=s.sign_in_result.address;return{account:Object.assign(Object.assign({},(n=s.accounts.find(a=>a.address==i))!==null&&n!==void 0?n:{address:i}),{publicKey:wi(i)}),signedMessage:wi(s.sign_in_result.signed_message),signature:wi(s.sign_in_result.signature)}}catch(s){throw new zn(s instanceof Error&&s.message||"Unknown error",s)}finally{this._connecting=!1}}))})}}function Cw(){return{select(r){return It(this,void 0,void 0,function*(){return r[0]})}}}const Xs="SolanaMobileWalletAdapterDefaultAuthorizationCache";function Rw(){let r;try{r=window.localStorage}catch{}return{clear(){return It(this,void 0,void 0,function*(){if(r)try{r.removeItem(Xs)}catch{}})},get(){return It(this,void 0,void 0,function*(){if(r)try{return JSON.parse(r.getItem(Xs))||void 0}catch{}})},set(t){return It(this,void 0,void 0,function*(){if(r)try{r.setItem(Xs,JSON.stringify(t))}catch{}})}}}function Dw(r){return It(this,void 0,void 0,function*(){typeof window<"u"&&window.location.assign(r.url)})}function Ow(){return Dw}var jw=function(r,t,e,n){if(e==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!n:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?n:e==="a"?n.call(r):n?n.value:t.get(r)},zw=function(r,t,e,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,e):s?s.value=e:t.set(r,e),e},mi;function Uw(r){const t=({register:e})=>e(r);try{window.dispatchEvent(new Pw(t))}catch(e){console.error(`wallet-standard:register-wallet event could not be dispatched
`,e)}try{window.addEventListener("wallet-standard:app-ready",({detail:e})=>t(e))}catch(e){console.error(`wallet-standard:app-ready event listener could not be added
`,e)}}class Pw extends Event{get detail(){return jw(this,mi,"f")}get type(){return"wallet-standard:register-wallet"}constructor(t){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),mi.set(this,void 0),zw(this,mi,t,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}mi=new WeakMap;function Fw(r,t){if(r===t)return!0;const e=r.length;if(e!==t.length)return!1;for(let n=0;n<e;n++)if(r[n]!==t[n])return!1;return!0}var di=Ho.Buffer;function Ww(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=n}var o=r.length,a=r.charAt(0),c=Math.log(o)/Math.log(256),p=Math.log(256)/Math.log(o);function f(M){if((Array.isArray(M)||M instanceof Uint8Array)&&(M=di.from(M)),!di.isBuffer(M))throw new TypeError("Expected Buffer");if(M.length===0)return"";for(var L=0,B=0,v=0,k=M.length;v!==k&&M[v]===0;)v++,L++;for(var C=(k-v)*p+1>>>0,I=new Uint8Array(C);v!==k;){for(var O=M[v],P=0,U=C-1;(O!==0||P<B)&&U!==-1;U--,P++)O+=256*I[U]>>>0,I[U]=O%o>>>0,O=O/o>>>0;if(O!==0)throw new Error("Non-zero carry");B=P,v++}for(var $=C-B;$!==C&&I[$]===0;)$++;for(var K=a.repeat(L);$<C;++$)K+=r.charAt(I[$]);return K}function y(M){if(typeof M!="string")throw new TypeError("Expected String");if(M.length===0)return di.alloc(0);for(var L=0,B=0,v=0;M[L]===a;)B++,L++;for(var k=(M.length-L)*c+1>>>0,C=new Uint8Array(k);L<M.length;){var I=t[M.charCodeAt(L)];if(I===255)return;for(var O=0,P=k-1;(I!==0||O<v)&&P!==-1;P--,O++)I+=o*C[P]>>>0,C[P]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");v=O,L++}for(var U=k-v;U!==k&&C[U]===0;)U++;var $=di.allocUnsafe(B+(k-U));$.fill(0,0,B);for(var K=B;U!==k;)$[K++]=C[U++];return $}function x(M){var L=y(M);if(L)return L;throw new Error("Non-base"+o+" character")}return{encode:f,decodeUnsafe:y,decode:x}}var $w=Ww,Kw=$w,qw="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Hw=Kw(qw);const Gw=rr(Hw);var we=function(r,t,e,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,e):s?s.value=e:t.set(r,e),e},st=function(r,t,e,n){if(e==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!n:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?n:e==="a"?n.call(r):n?n.value:t.get(r)},Ae,Fe,Vn,Zn,$n,Pr,Ri,_t,Di,Eo,yi,So,Wr,xo,gc,pc,wc,mc;class Yw extends $u{constructor({wallet:t}){super(),Ae.add(this),Fe.set(this,void 0),Vn.set(this,void 0),Zn.set(this,void 0),$n.set(this,void 0),Pr.set(this,void 0),Ri.set(this,void 0),_t.set(this,void 0),Di.set(this,typeof window>"u"||typeof document>"u"?mt.Unsupported:mt.Installed),xo.set(this,e=>{if("accounts"in e){const n=st(this,_t,"f").accounts[0];st(this,Fe,"f")&&!st(this,$n,"f")&&n!==st(this,Fe,"f")&&(n?st(this,Ae,"m",yi).call(this,n):(this.emit("error",new Zi),st(this,Ae,"m",So).call(this)))}"features"in e&&st(this,Ae,"m",Wr).call(this)}),we(this,_t,t,"f"),we(this,Fe,null,"f"),we(this,Vn,null,"f"),we(this,Zn,!1,"f"),we(this,$n,!1,"f"),we(this,Pr,st(this,_t,"f").features[pa].on("change",st(this,xo,"f")),"f"),st(this,Ae,"m",Wr).call(this)}get name(){return st(this,_t,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return st(this,_t,"f").icon}get readyState(){return st(this,Di,"f")}get publicKey(){return st(this,Vn,"f")}get connecting(){return st(this,Zn,"f")}get supportedTransactionVersions(){return st(this,Ri,"f")}get wallet(){return st(this,_t,"f")}get standard(){return!0}destroy(){we(this,Fe,null,"f"),we(this,Vn,null,"f"),we(this,Zn,!1,"f"),we(this,$n,!1,"f");const t=st(this,Pr,"f");t&&(we(this,Pr,null,"f"),t())}async autoConnect(){return st(this,Ae,"m",Eo).call(this,{silent:!0})}async connect(){return st(this,Ae,"m",Eo).call(this)}async disconnect(){if(po in st(this,_t,"f").features)try{we(this,$n,!0,"f"),await st(this,_t,"f").features[po].disconnect()}catch(t){this.emit("error",new ha(t?.message,t))}finally{we(this,$n,!1,"f")}st(this,Ae,"m",So).call(this)}async sendTransaction(t,e,n={}){try{const s=st(this,Fe,"f");if(!s)throw new te;let i;if(En in st(this,_t,"f").features)if(s.features.includes(En))i=En;else if(Ee in st(this,_t,"f").features&&s.features.includes(Ee))i=Ee;else throw new Gn;else if(Ee in st(this,_t,"f").features){if(!s.features.includes(Ee))throw new Gn;i=Ee}else throw new wr;const o=tp(e.rpcEndpoint);if(!s.chains.includes(o))throw new Sn;try{const{signers:a,...c}=n;let p;if(xn(t)?(a?.length&&t.sign(a),p=t.serialize()):(t=await this.prepareTransaction(t,e,c),a?.length&&t.partialSign(...a),p=new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))),i===En){const[f]=await st(this,_t,"f").features[En].signAndSendTransaction({account:s,chain:o,transaction:p,options:{preflightCommitment:Ws(c.preflightCommitment||e.commitment),skipPreflight:c.skipPreflight,maxRetries:c.maxRetries,minContextSlot:c.minContextSlot}});return Gw.encode(f.signature)}else{const[f]=await st(this,_t,"f").features[Ee].signTransaction({account:s,chain:o,transaction:p,options:{preflightCommitment:Ws(c.preflightCommitment||e.commitment),minContextSlot:c.minContextSlot}});return await e.sendRawTransaction(f.signedTransaction,{...c,preflightCommitment:Ws(c.preflightCommitment||e.commitment)})}}catch(a){throw a instanceof xe?a:new Sn(a?.message,a)}}catch(s){throw this.emit("error",s),s}}}Fe=new WeakMap,Vn=new WeakMap,Zn=new WeakMap,$n=new WeakMap,Pr=new WeakMap,Ri=new WeakMap,_t=new WeakMap,Di=new WeakMap,xo=new WeakMap,Ae=new WeakSet,Eo=async function(t){try{if(this.connected||this.connecting)return;if(st(this,Di,"f")!==mt.Installed)throw new Fn;if(we(this,Zn,!0,"f"),!st(this,_t,"f").accounts.length)try{await st(this,_t,"f").features[ga].connect(t)}catch(n){throw new zn(n?.message,n)}const e=st(this,_t,"f").accounts[0];if(!e)throw new Gn;st(this,Ae,"m",yi).call(this,e)}catch(e){throw this.emit("error",e),e}finally{we(this,Zn,!1,"f")}},yi=function(t){let e;try{e=new at(t.address)}catch(n){throw new Ar(n?.message,n)}we(this,Fe,t,"f"),we(this,Vn,e,"f"),st(this,Ae,"m",Wr).call(this),this.emit("connect",e)},So=function(){we(this,Fe,null,"f"),we(this,Vn,null,"f"),st(this,Ae,"m",Wr).call(this),this.emit("disconnect")},Wr=function(){const t=En in st(this,_t,"f").features?st(this,_t,"f").features[En].supportedTransactionVersions:st(this,_t,"f").features[Ee].supportedTransactionVersions;we(this,Ri,Fw(t,["legacy"])?null:new Set(t),"f"),Ee in st(this,_t,"f").features&&st(this,Fe,"f")?.features.includes(Ee)?(this.signTransaction=st(this,Ae,"m",gc),this.signAllTransactions=st(this,Ae,"m",pc)):(delete this.signTransaction,delete this.signAllTransactions),dr in st(this,_t,"f").features&&st(this,Fe,"f")?.features.includes(dr)?this.signMessage=st(this,Ae,"m",wc):delete this.signMessage,Fs in st(this,_t,"f").features?this.signIn=st(this,Ae,"m",mc):delete this.signIn},gc=async function(t){try{const e=st(this,Fe,"f");if(!e)throw new te;if(!(Ee in st(this,_t,"f").features))throw new wr;if(!e.features.includes(Ee))throw new Gn;try{const s=(await st(this,_t,"f").features[Ee].signTransaction({account:e,transaction:xn(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return xn(t)?Vr.deserialize(s):sn.from(s)}catch(n){throw n instanceof xe?n:new on(n?.message,n)}}catch(e){throw this.emit("error",e),e}},pc=async function(t){try{const e=st(this,Fe,"f");if(!e)throw new te;if(!(Ee in st(this,_t,"f").features))throw new wr;if(!e.features.includes(Ee))throw new Gn;try{const n=await st(this,_t,"f").features[Ee].signTransaction(...t.map(s=>({account:e,transaction:xn(s)?s.serialize():new Uint8Array(s.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return t.map((s,i)=>{const o=n[i].signedTransaction;return xn(s)?Vr.deserialize(o):sn.from(o)})}catch(n){throw new on(n?.message,n)}}catch(e){throw this.emit("error",e),e}},wc=async function(t){try{const e=st(this,Fe,"f");if(!e)throw new te;if(!(dr in st(this,_t,"f").features))throw new wr;if(!e.features.includes(dr))throw new Gn;try{return(await st(this,_t,"f").features[dr].signMessage({account:e,message:t}))[0].signature}catch(n){throw new Qi(n?.message,n)}}catch(e){throw this.emit("error",e),e}},mc=async function(t={}){try{if(!(Fs in st(this,_t,"f").features))throw new wr;let e;try{[e]=await st(this,_t,"f").features[Fs].signIn(t)}catch(n){throw new rc(n?.message,n)}if(!e)throw new rc;return st(this,Ae,"m",yi).call(this,e.account),e}catch(e){throw this.emit("error",e),e}};const Vw=Vg;var Zw=function(r,t,e,n){if(e==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!n:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?n:e==="a"?n.call(r):n?n.value:t.get(r)},Qw=function(r,t,e,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,e):s?s.value=e:t.set(r,e),e},bi;let Ke;const rs=new Set;function Jw(r){$r=void 0,rs.add(r)}function Xw(r){$r=void 0,rs.delete(r)}const mr={};function tm(){if(Ke||(Ke=Object.freeze({register:yc,get:em,on:nm}),typeof window>"u"))return Ke;const r=Object.freeze({register:yc});try{window.addEventListener("wallet-standard:register-wallet",({detail:t})=>t(r))}catch(t){console.error(`wallet-standard:register-wallet event listener could not be added
`,t)}try{window.dispatchEvent(new rm(r))}catch(t){console.error(`wallet-standard:app-ready event could not be dispatched
`,t)}return Ke}function yc(...r){return r=r.filter(t=>!rs.has(t)),r.length?(r.forEach(t=>Jw(t)),mr.register?.forEach(t=>Io(()=>t(...r))),function(){r.forEach(e=>Xw(e)),mr.unregister?.forEach(e=>Io(()=>e(...r)))}):()=>{}}let $r;function em(){return $r||($r=[...rs]),$r}function nm(r,t){return mr[r]?.push(t)||(mr[r]=[t]),function(){mr[r]=mr[r]?.filter(n=>t!==n)}}function Io(r){try{r()}catch(t){console.error(t)}}class rm extends Event{get detail(){return Zw(this,bi,"f")}get type(){return"wallet-standard:app-ready"}constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),bi.set(this,void 0),Qw(this,bi,t,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}bi=new WeakMap;function im(){if(Ke||(Ke=tm(),typeof window>"u"))return Ke;const r=window.navigator.wallets||[];if(!Array.isArray(r))return console.error("window.navigator.wallets is not an array"),Ke;const{register:t}=Ke,e=(...n)=>n.forEach(s=>Io(()=>s({register:t})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:e})})}catch{return console.error("window.navigator.wallets could not be set"),Ke}return e(...r),Ke}function sm(r){const t=bc(()=>new Set),{get:e,on:n}=bc(()=>im()),[s,i]=J.useState(()=>vc(e()));J.useEffect(()=>{const a=[n("register",(...c)=>i(p=>[...p,...vc(c)])),n("unregister",(...c)=>i(p=>p.filter(f=>c.some(y=>y===f.wallet))))];return()=>a.forEach(c=>c())},[n]);const o=om(s);return J.useEffect(()=>{if(!o)return;const a=new Set(s);new Set(o.filter(p=>!a.has(p))).forEach(p=>p.destroy())},[o,s]),J.useEffect(()=>()=>s.forEach(a=>a.destroy()),[]),J.useMemo(()=>[...s,...r.filter(({name:a})=>s.some(c=>c.name===a)?(t.has(a)||(t.add(a),console.warn(`${a} was registered as a Standard Wallet. The Wallet Adapter for ${a} can be removed from your app.`)),!1):!0)],[s,r,t])}function bc(r){const t=J.useRef();return t.current||(t.current={value:r()}),t.current.value}function om(r){const t=J.useRef();return J.useEffect(()=>{t.current=r}),t.current}function vc(r){return r.filter(Vw).map(t=>new Yw({wallet:t}))}var vr;(function(r){r[r.DESKTOP_WEB=0]="DESKTOP_WEB",r[r.MOBILE_WEB=1]="MOBILE_WEB"})(vr||(vr={}));function am(r){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(r)}function cm({adapters:r,userAgentString:t}){return r.some(e=>e.name!==Dn&&e.readyState===mt.Installed)?vr.DESKTOP_WEB:t&&/android/i.test(t)&&!am(t)?vr.MOBILE_WEB:vr.DESKTOP_WEB}function um(r){return r?/devnet/i.test(r)?"devnet":/testnet/i.test(r)?"testnet":"mainnet-beta":"mainnet-beta"}function lm({children:r,wallets:t,adapter:e,isUnloadingRef:n,onAutoConnectRequest:s,onConnectError:i,onError:o,onSelectWallet:a}){const c=J.useRef(!1),[p,f]=J.useState(!1),y=J.useRef(!1),[x,M]=J.useState(!1),[L,B]=J.useState(()=>e?.publicKey??null),[v,k]=J.useState(()=>e?.connected??!1),C=J.useRef(o);J.useEffect(()=>(C.current=o,()=>{C.current=void 0}),[o]);const I=J.useRef((g,w)=>(n.current||(C.current?C.current(g,w):(console.error(g,w),g instanceof Fn&&typeof window<"u"&&w&&window.open(w.url,"_blank"))),g)),[O,P]=J.useState(()=>t.map(g=>({adapter:g,readyState:g.readyState})).filter(({readyState:g})=>g!==mt.Unsupported));J.useEffect(()=>{P(w=>t.map((m,E)=>{const N=w[E];return N&&N.adapter===m&&N.readyState===m.readyState?N:{adapter:m,readyState:m.readyState}}).filter(({readyState:m})=>m!==mt.Unsupported));function g(w){P(m=>{const E=m.findIndex(({adapter:R})=>R===this);if(E===-1)return m;const{adapter:N}=m[E];return[...m.slice(0,E),{adapter:N,readyState:w},...m.slice(E+1)].filter(({readyState:R})=>R!==mt.Unsupported)})}return t.forEach(w=>w.on("readyStateChange",g,w)),()=>{t.forEach(w=>w.off("readyStateChange",g,w))}},[e,t]);const U=J.useMemo(()=>O.find(g=>g.adapter===e)??null,[e,O]);J.useEffect(()=>{if(!e)return;const g=E=>{B(E),c.current=!1,f(!1),k(!0),y.current=!1,M(!1)},w=()=>{n.current||(B(null),c.current=!1,f(!1),k(!1),y.current=!1,M(!1))},m=E=>{I.current(E,e)};return e.on("connect",g),e.on("disconnect",w),e.on("error",m),()=>{e.off("connect",g),e.off("disconnect",w),e.off("error",m),w()}},[e,n]);const $=J.useRef(!1);J.useEffect(()=>()=>{$.current=!1},[e]),J.useEffect(()=>{$.current||c.current||v||!s||!(U?.readyState===mt.Installed||U?.readyState===mt.Loadable)||(c.current=!0,f(!0),$.current=!0,async function(){try{await s()}catch{i()}finally{f(!1),c.current=!1}}())},[v,s,i,U]);const K=J.useCallback(async(g,w,m)=>{if(!e)throw I.current(new ic);if(!v)throw I.current(new te,e);return await e.sendTransaction(g,w,m)},[e,v]),Q=J.useMemo(()=>e&&"signTransaction"in e?async g=>{if(!v)throw I.current(new te,e);return await e.signTransaction(g)}:void 0,[e,v]),dt=J.useMemo(()=>e&&"signAllTransactions"in e?async g=>{if(!v)throw I.current(new te,e);return await e.signAllTransactions(g)}:void 0,[e,v]),nt=J.useMemo(()=>e&&"signMessage"in e?async g=>{if(!v)throw I.current(new te,e);return await e.signMessage(g)}:void 0,[e,v]),rt=J.useMemo(()=>e&&"signIn"in e?async g=>await e.signIn(g):void 0,[e]),T=J.useCallback(async()=>{if(c.current||y.current||U?.adapter.connected)return;if(!U)throw I.current(new ic);const{adapter:g,readyState:w}=U;if(!(w===mt.Installed||w===mt.Loadable))throw I.current(new Fn,g);c.current=!0,f(!0);try{await g.connect()}catch(m){throw i(),m}finally{f(!1),c.current=!1}},[i,U]),u=J.useCallback(async()=>{if(!y.current&&e){y.current=!0,M(!0);try{await e.disconnect()}finally{M(!1),y.current=!1}}},[e]);return G.createElement(qu.Provider,{value:{autoConnect:!!s,wallets:O,wallet:U,publicKey:L,connected:v,connecting:p,disconnecting:x,select:a,connect:T,disconnect:u,sendTransaction:K,signTransaction:Q,signAllTransactions:dt,signMessage:nt,signIn:rt}},r)}let to;function fm(){return to===void 0&&(to=globalThis.navigator?.userAgent??null),to}function gi(r){const t=fm();return cm({adapters:r,userAgentString:t})===vr.MOBILE_WEB}function hm(){const r=globalThis.location;if(r)return`${r.protocol}//${r.host}`}function Fm({children:r,wallets:t,autoConnect:e,localStorageKey:n="walletName",onError:s}){const{connection:i}=$g(),o=sm(t),a=J.useMemo(()=>{if(!gi(o))return null;const C=o.find(I=>I.name===Dn);return C||new kw({addressSelector:Cw(),appIdentity:{uri:hm()},authorizationResultCache:Rw(),cluster:um(i?.rpcEndpoint),onWalletNotFound:Ow()})},[o,i?.rpcEndpoint]),c=J.useMemo(()=>a==null||o.indexOf(a)!==-1?o:[a,...o],[o,a]),[p,f]=Qg(n,gi(o)?Dn:null),y=J.useMemo(()=>c.find(C=>C.name===p)??null,[c,p]),x=J.useCallback(C=>{p!==C&&(y&&y.name!==Dn&&y.disconnect(),f(C))},[y,f,p]);J.useEffect(()=>{if(!y)return;function C(){B.current||p===Dn&&gi(o)||f(null)}return y.on("disconnect",C),()=>{y.off("disconnect",C)}},[y,o,f,p]);const M=J.useRef(!1),L=J.useMemo(()=>{if(!(!e||!y))return async()=>{(e===!0||await e(y))&&(M.current?await y.connect():await y.autoConnect())}},[e,y]),B=J.useRef(!1);J.useEffect(()=>{if(p===Dn&&gi(o)){B.current=!1;return}function C(){B.current=!0}return window.addEventListener("beforeunload",C),()=>{window.removeEventListener("beforeunload",C)}},[o,p]);const v=J.useCallback(()=>{y&&y.name!==Dn&&x(null)},[y,x]),k=J.useCallback(C=>{M.current=!0,x(C)},[x]);return G.createElement(lm,{wallets:c,adapter:y,isUnloadingRef:B,onAutoConnectRequest:L,onConnectError:v,onError:s,onSelectWallet:k},r)}const ml={setVisible(r){console.error(yl("call","setVisible"))},visible:!1};Object.defineProperty(ml,"visible",{get(){return console.error(yl("read","visible")),!1}});function yl(r,t){return`You have tried to  ${r} "${t}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const bl=J.createContext(ml);function vl(){return J.useContext(bl)}function dm({onSelectWallet:r}){const{connect:t,connected:e,connecting:n,disconnect:s,disconnecting:i,publicKey:o,select:a,wallet:c,wallets:p}=Hu();let f;n?f="connecting":e?f="connected":i?f="disconnecting":c?f="has-wallet":f="no-wallet";const y=J.useCallback(()=>{t().catch(()=>{})},[t]),x=J.useCallback(()=>{s().catch(()=>{})},[s]),M=J.useCallback(()=>{r({onSelectWallet:a,wallets:p})},[r,a,p]);return{buttonState:f,onConnect:f==="has-wallet"?y:void 0,onDisconnect:f!=="disconnecting"&&f!=="no-wallet"?x:void 0,onSelectWallet:M,publicKey:o??void 0,walletIcon:c?.adapter.icon,walletName:c?.adapter.name}}const Ml=r=>G.createElement("button",{className:`wallet-adapter-button ${r.className||""}`,disabled:r.disabled,style:r.style,onClick:r.onClick,tabIndex:r.tabIndex||0,type:"button"},r.startIcon&&G.createElement("i",{className:"wallet-adapter-button-start-icon"},r.startIcon),r.children,r.endIcon&&G.createElement("i",{className:"wallet-adapter-button-end-icon"},r.endIcon)),El=({wallet:r,...t})=>r&&G.createElement("img",{src:r.adapter.icon,alt:`${r.adapter.name} icon`,...t});function gm({walletIcon:r,walletName:t,...e}){return G.createElement(Ml,{...e,className:"wallet-adapter-button-trigger",startIcon:r&&t?G.createElement(El,{wallet:{adapter:{icon:r,name:t}}}):void 0})}function pm({children:r,labels:t,...e}){const{setVisible:n}=vl(),{buttonState:s,onConnect:i,onDisconnect:o,publicKey:a,walletIcon:c,walletName:p}=dm({onSelectWallet(){n(!0)}}),[f,y]=J.useState(!1),[x,M]=J.useState(!1),L=J.useRef(null);J.useEffect(()=>{const v=k=>{const C=L.current;!C||C.contains(k.target)||M(!1)};return document.addEventListener("mousedown",v),document.addEventListener("touchstart",v),()=>{document.removeEventListener("mousedown",v),document.removeEventListener("touchstart",v)}},[]);const B=J.useMemo(()=>{if(r)return r;if(a){const v=a.toBase58();return v.slice(0,4)+".."+v.slice(-4)}else return s==="connecting"||s==="has-wallet"?t[s]:t["no-wallet"]},[s,r,t,a]);return G.createElement("div",{className:"wallet-adapter-dropdown"},G.createElement(gm,{...e,"aria-expanded":x,style:{pointerEvents:x?"none":"auto",...e.style},onClick:()=>{switch(s){case"no-wallet":n(!0);break;case"has-wallet":i&&i();break;case"connected":M(!0);break}},walletIcon:c,walletName:p},B),G.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${x&&"wallet-adapter-dropdown-list-active"}`,ref:L,role:"menu"},a?G.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(a.toBase58()),y(!0),setTimeout(()=>y(!1),400)},role:"menuitem"},f?t.copied:t["copy-address"]):null,G.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{n(!0),M(!1)},role:"menuitem"},t["change-wallet"]),o?G.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{o(),M(!1)},role:"menuitem"},t.disconnect):null))}const Mc=({id:r,children:t,expanded:e=!1})=>{const n=J.useRef(null),s=J.useRef(!0),i="height 250ms ease-out",o=()=>{const c=n.current;c&&requestAnimationFrame(()=>{c.style.height=c.scrollHeight+"px"})},a=()=>{const c=n.current;c&&requestAnimationFrame(()=>{c.style.height=c.offsetHeight+"px",c.style.overflow="hidden",requestAnimationFrame(()=>{c.style.height="0"})})};return J.useLayoutEffect(()=>{e?o():a()},[e]),J.useLayoutEffect(()=>{const c=n.current;if(!c)return;function p(){c&&(c.style.overflow=e?"initial":"hidden",e&&(c.style.height="auto"))}function f(y){c&&y.target===c&&y.propertyName==="height"&&p()}return s.current&&(p(),s.current=!1),c.addEventListener("transitionend",f),()=>c.removeEventListener("transitionend",f)},[e]),G.createElement("div",{className:"wallet-adapter-collapse",id:r,ref:n,role:"region",style:{height:0,transition:s.current?void 0:i}},t)},eo=({handleClick:r,tabIndex:t,wallet:e})=>G.createElement("li",null,G.createElement(Ml,{onClick:r,startIcon:G.createElement(El,{wallet:e}),tabIndex:t},e.adapter.name,e.readyState===mt.Installed&&G.createElement("span",null,"Detected"))),wm=()=>G.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},G.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),G.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),G.createElement("g",{clipPath:"url(#clip0_880_5115)"},G.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),G.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),G.createElement("defs",null,G.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},G.createElement("stop",{stopColor:"#9945FF"}),G.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),G.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),G.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),G.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),G.createElement("stop",{offset:"1",stopColor:"#00D18C"})),G.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},G.createElement("stop",{stopColor:"#9945FF"}),G.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),G.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),G.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),G.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),G.createElement("stop",{offset:"1",stopColor:"#00D18C"})),G.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},G.createElement("stop",{stopColor:"#9945FF"}),G.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),G.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),G.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),G.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),G.createElement("stop",{offset:"1",stopColor:"#00D18C"})),G.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},G.createElement("stop",{stopColor:"#9945FF"}),G.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),G.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),G.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),G.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),G.createElement("stop",{offset:"1",stopColor:"#00D18C"})),G.createElement("clipPath",{id:"clip0_880_5115"},G.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),mm=({className:r="",container:t="body"})=>{const e=J.useRef(null),{wallets:n,select:s}=Hu(),{setVisible:i}=vl(),[o,a]=J.useState(!1),[c,p]=J.useState(!1),[f,y]=J.useState(null),[x,M]=J.useMemo(()=>{const I=[],O=[];for(const P of n)P.readyState===mt.Installed?I.push(P):O.push(P);return I.length?[I,O]:[O,[]]},[n]),L=J.useCallback(()=>{p(!1),setTimeout(()=>i(!1),150)},[i]),B=J.useCallback(I=>{I.preventDefault(),L()},[L]),v=J.useCallback((I,O)=>{s(O),B(I)},[s,B]),k=J.useCallback(()=>a(!o),[o]),C=J.useCallback(I=>{const O=e.current;if(!O)return;const P=O.querySelectorAll("button"),U=P[0],$=P[P.length-1];I.shiftKey?document.activeElement===U&&($.focus(),I.preventDefault()):document.activeElement===$&&(U.focus(),I.preventDefault())},[e]);return J.useLayoutEffect(()=>{const I=P=>{P.key==="Escape"?L():P.key==="Tab"&&C(P)},{overflow:O}=window.getComputedStyle(document.body);return setTimeout(()=>p(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",I,!1),()=>{document.body.style.overflow=O,window.removeEventListener("keydown",I,!1)}},[L,C]),J.useLayoutEffect(()=>y(document.querySelector(t)),[t]),f&&Rl.createPortal(G.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${c&&"wallet-adapter-modal-fade-in"} ${r}`,ref:e,role:"dialog"},G.createElement("div",{className:"wallet-adapter-modal-container"},G.createElement("div",{className:"wallet-adapter-modal-wrapper"},G.createElement("button",{onClick:B,className:"wallet-adapter-modal-button-close"},G.createElement("svg",{width:"14",height:"14"},G.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),x.length?G.createElement(G.Fragment,null,G.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),G.createElement("ul",{className:"wallet-adapter-modal-list"},x.map(I=>G.createElement(eo,{key:I.adapter.name,handleClick:O=>v(O,I.adapter.name),wallet:I})),M.length?G.createElement(Mc,{expanded:o,id:"wallet-adapter-modal-collapse"},M.map(I=>G.createElement(eo,{key:I.adapter.name,handleClick:O=>v(O,I.adapter.name),tabIndex:o?0:-1,wallet:I}))):null),M.length?G.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:k,tabIndex:0},G.createElement("span",null,o?"Less ":"More ","options"),G.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},G.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):G.createElement(G.Fragment,null,G.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),G.createElement("div",{className:"wallet-adapter-modal-middle"},G.createElement(wm,null)),M.length?G.createElement(G.Fragment,null,G.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:k,tabIndex:0},G.createElement("span",null,o?"Hide ":"Already have a wallet? View ","options"),G.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},G.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),G.createElement(Mc,{expanded:o,id:"wallet-adapter-modal-collapse"},G.createElement("ul",{className:"wallet-adapter-modal-list"},M.map(I=>G.createElement(eo,{key:I.adapter.name,handleClick:O=>v(O,I.adapter.name),tabIndex:o?0:-1,wallet:I}))))):null))),G.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:B})),f)},Wm=({children:r,...t})=>{const[e,n]=J.useState(!1);return G.createElement(bl.Provider,{value:{visible:e,setVisible:n}},r,e&&G.createElement(mm,{...t}))},ym={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function $m(r){return G.createElement(pm,{...r,labels:ym})}const bm="Phantom";class Km extends da{constructor(t={}){super(),this.name=bm,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?mt.Unsupported:mt.NotDetected,this._disconnected=()=>{const e=this._wallet;e&&(e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new Zi),this.emit("disconnect"))},this._accountChanged=e=>{const n=this._publicKey;if(n){try{e=new at(e.toBytes())}catch(s){this.emit("error",new Ar(s?.message,s));return}n.equals(e)||(this._publicKey=e,this.emit("connect",e))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==mt.Unsupported&&(go()?(this._readyState=mt.Loadable,this.emit("readyStateChange",this._readyState)):Ku(()=>window.phantom?.solana?.isPhantom||window.solana?.isPhantom?(this._readyState=mt.Installed,this.emit("readyStateChange",this._readyState),!0):!1))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===mt.Installed&&await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this.readyState===mt.Loadable){const n=encodeURIComponent(window.location.href),s=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${n}?ref=${s}`;return}if(this.readyState!==mt.Installed)throw new Fn;this._connecting=!0;const t=window.phantom?.solana||window.solana;if(!t.isConnected)try{await t.connect()}catch(n){throw new zn(n?.message,n)}if(!t.publicKey)throw new Gn;let e;try{e=new at(t.publicKey.toBytes())}catch(n){throw new Ar(n?.message,n)}t.on("disconnect",this._disconnected),t.on("accountChanged",this._accountChanged),this._wallet=t,this._publicKey=e,this.emit("connect",e)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const t=this._wallet;if(t){t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await t.disconnect()}catch(e){this.emit("error",new ha(e?.message,e))}}this.emit("disconnect")}async sendTransaction(t,e,n={}){try{const s=this._wallet;if(!s)throw new te;try{const{signers:i,...o}=n;xn(t)?i?.length&&t.sign(i):(t=await this.prepareTransaction(t,e,o),i?.length&&t.partialSign(...i)),o.preflightCommitment=o.preflightCommitment||e.commitment;const{signature:a}=await s.signAndSendTransaction(t,o);return a}catch(i){throw i instanceof xe?i:new Sn(i?.message,i)}}catch(s){throw this.emit("error",s),s}}async signTransaction(t){try{const e=this._wallet;if(!e)throw new te;try{return await e.signTransaction(t)||t}catch(n){throw new on(n?.message,n)}}catch(e){throw this.emit("error",e),e}}async signAllTransactions(t){try{const e=this._wallet;if(!e)throw new te;try{return await e.signAllTransactions(t)||t}catch(n){throw new on(n?.message,n)}}catch(e){throw this.emit("error",e),e}}async signMessage(t){try{const e=this._wallet;if(!e)throw new te;try{const{signature:n}=await e.signMessage(t);return n}catch(n){throw new Qi(n?.message,n)}}catch(e){throw this.emit("error",e),e}}}const vm="modulepreload",Mm=function(r){return"/"+r},Ec={},Sl=function(t,e,n){let s=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");s=Promise.allSettled(e.map(c=>{if(c=Mm(c),c in Ec)return;Ec[c]=!0;const p=c.endsWith(".css"),f=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":vm,p||(y.as="script"),y.crossOrigin="",y.href=c,a&&y.setAttribute("nonce",a),document.head.appendChild(y),p)return new Promise((x,M)=>{y.addEventListener("load",x),y.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},Em="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=";var Tt=function(r,t,e,n){if(e==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!n:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?n:e==="a"?n.call(r):n?n.value:t.get(r)},Sm=function(r,t,e,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,e):s?s.value=e:t.set(r,e),e},vi,Qn,_o,Ao,Lo,De,Bo,xl,Il,To,No,ko,Co,Ro;class xm{constructor(){vi.add(this),Qn.set(this,{}),_o.set(this,"1.0.0"),Ao.set(this,"MetaMask"),Lo.set(this,Em),De.set(this,null),Bo.set(this,(t,e)=>(Tt(this,Qn,"f")[t]?.push(e)||(Tt(this,Qn,"f")[t]=[e]),()=>Tt(this,vi,"m",Il).call(this,t,e))),To.set(this,async()=>{if(!Tt(this,De,"f")){let t;try{t=(await Sl(async()=>{const{default:e}=await import("./index-C_IQfxsv.js");return{default:e}},__vite__mapDeps([0,1]))).default}catch{throw new Error("Unable to load Solflare MetaMask SDK")}Sm(this,De,new t,"f"),Tt(this,De,"f").on("standard_change",e=>Tt(this,vi,"m",xl).call(this,"change",e))}return this.accounts.length||await Tt(this,De,"f").connect(),{accounts:this.accounts}}),No.set(this,async()=>{Tt(this,De,"f")&&await Tt(this,De,"f").disconnect()}),ko.set(this,async(...t)=>{if(!Tt(this,De,"f"))throw new te;return await Tt(this,De,"f").standardSignAndSendTransaction(...t)}),Co.set(this,async(...t)=>{if(!Tt(this,De,"f"))throw new te;return await Tt(this,De,"f").standardSignTransaction(...t)}),Ro.set(this,async(...t)=>{if(!Tt(this,De,"f"))throw new te;return await Tt(this,De,"f").standardSignMessage(...t)})}get version(){return Tt(this,_o,"f")}get name(){return Tt(this,Ao,"f")}get icon(){return Tt(this,Lo,"f")}get chains(){return[wo,Gu,Yu]}get features(){return{[ga]:{version:"1.0.0",connect:Tt(this,To,"f")},[po]:{version:"1.0.0",disconnect:Tt(this,No,"f")},[pa]:{version:"1.0.0",on:Tt(this,Bo,"f")},[En]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Tt(this,ko,"f")},[Ee]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:Tt(this,Co,"f")},[dr]:{version:"1.0.0",signMessage:Tt(this,Ro,"f")}}}get accounts(){return Tt(this,De,"f")?Tt(this,De,"f").standardAccounts:[]}}Qn=new WeakMap,_o=new WeakMap,Ao=new WeakMap,Lo=new WeakMap,De=new WeakMap,Bo=new WeakMap,To=new WeakMap,No=new WeakMap,ko=new WeakMap,Co=new WeakMap,Ro=new WeakMap,vi=new WeakSet,xl=function(t,...e){Tt(this,Qn,"f")[t]?.forEach(n=>n.apply(null,e))},Il=function(t,e){Tt(this,Qn,"f")[t]=Tt(this,Qn,"f")[t]?.filter(n=>e!==n)};let Sc=!1;function Im(){Sc||(Uw(new xm),Sc=!0)}async function _m(){const r="solflare-detect-metamask";function t(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:r,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function e(n){const s=n.data;s?.target==="metamask-inpage"&&s.data?.name==="metamask-provider"&&(s.data.data?.id===r?(window.removeEventListener("message",e),s.data.data.error||Im()):t())}window.addEventListener("message",e),window.setTimeout(()=>window.removeEventListener("message",e),5e3),t()}const Am="Solflare";class qm extends da{constructor(t={}){super(),this.name=Am,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjUwIiB2aWV3Qm94PSIwIDAgNTAgNTAiIHdpZHRoPSI1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmMxMGIiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmYjNmMmUiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI2LjQ3ODM1IiB4Mj0iMzQuOTEwNyIgeGxpbms6aHJlZj0iI2EiIHkxPSI3LjkyIiB5Mj0iMzMuNjU5MyIvPjxyYWRpYWxHcmFkaWVudCBpZD0iYyIgY3g9IjAiIGN5PSIwIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDQuOTkyMTg4MzIgMTIuMDYzODc5NjMgLTEyLjE4MTEzNjU1IDUuMDQwNzEwNzQgMjIuNTIwMiAyMC42MTgzKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHI9IjEiIHhsaW5rOmhyZWY9IiNhIi8+PHBhdGggZD0ibTI1LjE3MDggNDcuOTEwNGMuNTI1IDAgLjk1MDcuNDIxLjk1MDcuOTQwM3MtLjQyNTcuOTQwMi0uOTUwNy45NDAyLS45NTA3LS40MjA5LS45NTA3LS45NDAyLjQyNTctLjk0MDMuOTUwNy0uOTQwM3ptLTEuMDMyOC00NC45MTU2NWMuNDY0Ni4wMzgzNi44Mzk4LjM5MDQuOTAyNy44NDY4MWwxLjEzMDcgOC4yMTU3NGMuMzc5OCAyLjcxNDMgMy42NTM1IDMuODkwNCA1LjY3NDMgMi4wNDU5bDExLjMyOTEtMTAuMzExNThjLjI3MzMtLjI0ODczLjY5ODktLjIzMTQ5Ljk1MDcuMDM4NTEuMjMwOS4yNDc3Mi4yMzc5LjYyNjk3LjAxNjEuODgyNzdsLTkuODc5MSAxMS4zOTU4Yy0xLjgxODcgMi4wOTQyLS40NzY4IDUuMzY0MyAyLjI5NTYgNS41OTc4bDguNzE2OC44NDAzYy40MzQxLjA0MTguNzUxNy40MjM0LjcwOTMuODUyNC0uMDM0OS4zNTM3LS4zMDc0LjYzOTUtLjY2MjguNjk0OWwtOS4xNTk0IDEuNDMwMmMtMi42NTkzLjM2MjUtMy44NjM2IDMuNTExNy0yLjEzMzkgNS41NTc2bDMuMjIgMy43OTYxYy4yNTk0LjMwNTguMjE4OC43NjE1LS4wOTA4IDEuMDE3OC0uMjYyMi4yMTcyLS42NDE5LjIyNTYtLjkxMzguMDIwM2wtMy45Njk0LTIuOTk3OGMtMi4xNDIxLTEuNjEwOS01LjIyOTctLjI0MTctNS40NTYxIDIuNDI0M2wtLjg3NDcgMTAuMzk3NmMtLjAzNjIuNDI5NS0uNDE3OC43NDg3LS44NTI1LjcxMy0uMzY5LS4wMzAzLS42NjcxLS4zMDk3LS43MTcxLS42NzIxbC0xLjM4NzEtMTAuMDQzN2MtLjM3MTctMi43MTQ0LTMuNjQ1NC0zLjg5MDQtNS42NzQzLTIuMDQ1OWwtMTIuMDUxOTUgMTAuOTc0Yy0uMjQ5NDcuMjI3MS0uNjM4MDkuMjExNC0uODY4LS4wMzUtLjIxMDk0LS4yMjYyLS4yMTczNS0uNTcyNC0uMDE0OTMtLjgwNmwxMC41MTgxOC0xMi4xMzg1YzEuODE4Ny0yLjA5NDIuNDg0OS01LjM2NDQtMi4yODc2LTUuNTk3OGwtOC43MTg3Mi0uODQwNWMtLjQzNDEzLS4wNDE4LS43NTE3Mi0uNDIzNS0uNzA5MzYtLjg1MjQuMDM0OTMtLjM1MzcuMzA3MzktLjYzOTQuNjYyNy0uNjk1bDkuMTUzMzgtMS40Mjk5YzIuNjU5NC0uMzYyNSAzLjg3MTgtMy41MTE3IDIuMTQyMS01LjU1NzZsLTIuMTkyLTIuNTg0MWMtLjMyMTctLjM3OTItLjI3MTMtLjk0NDMuMTEyNi0xLjI2MjEuMzI1My0uMjY5NC43OTYzLS4yNzk3IDEuMTMzNC0uMDI0OWwyLjY5MTggMi4wMzQ3YzIuMTQyMSAxLjYxMDkgNS4yMjk3LjI0MTcgNS40NTYxLTIuNDI0M2wuNzI0MS04LjU1OTk4Yy4wNDU3LS41NDA4LjUyNjUtLjk0MjU3IDEuMDczOS0uODk3Mzd6bS0yMy4xODczMyAyMC40Mzk2NWMuNTI1MDQgMCAuOTUwNjcuNDIxLjk1MDY3Ljk0MDNzLS40MjU2My45NDAzLS45NTA2Ny45NDAzYy0uNTI1MDQxIDAtLjk1MDY3LS40MjEtLjk1MDY3LS45NDAzcy40MjU2MjktLjk0MDMuOTUwNjctLjk0MDN6bTQ3LjY3OTczLS45NTQ3Yy41MjUgMCAuOTUwNy40MjEuOTUwNy45NDAzcy0uNDI1Ny45NDAyLS45NTA3Ljk0MDItLjk1MDctLjQyMDktLjk1MDctLjk0MDIuNDI1Ny0uOTQwMy45NTA3LS45NDAzem0tMjQuNjI5Ni0yMi40Nzk3Yy41MjUgMCAuOTUwNi40MjA5NzMuOTUwNi45NDAyNyAwIC41MTkzLS40MjU2Ljk0MDI3LS45NTA2Ljk0MDI3LS41MjUxIDAtLjk1MDctLjQyMDk3LS45NTA3LS45NDAyNyAwLS41MTkyOTcuNDI1Ni0uOTQwMjcuOTUwNy0uOTQwMjd6IiBmaWxsPSJ1cmwoI2IpIi8+PHBhdGggZD0ibTI0LjU3MSAzMi43NzkyYzQuOTU5NiAwIDguOTgwMi0zLjk3NjUgOC45ODAyLTguODgxOSAwLTQuOTA1My00LjAyMDYtOC44ODE5LTguOTgwMi04Ljg4MTlzLTguOTgwMiAzLjk3NjYtOC45ODAyIDguODgxOWMwIDQuOTA1NCA0LjAyMDYgOC44ODE5IDguOTgwMiA4Ljg4MTl6IiBmaWxsPSJ1cmwoI2MpIi8+PC9zdmc+",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?mt.Unsupported:mt.Loadable,this._disconnected=()=>{const e=this._wallet;e&&(e.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new Zi),this.emit("disconnect"))},this._accountChanged=e=>{if(!e)return;const n=this._publicKey;if(n){try{e=new at(e.toBytes())}catch(s){this.emit("error",new Ar(s?.message,s));return}n.equals(e)||(this._publicKey=e,this.emit("connect",e))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=t,this._readyState!==mt.Unsupported&&(Ku(()=>window.solflare?.isSolflare||window.SolflareApp?(this._readyState=mt.Installed,this.emit("readyStateChange",this._readyState),!0):!1),_m())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){return!!this._wallet?.connected}get readyState(){return this._readyState}async autoConnect(){this.readyState===mt.Loadable&&go()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==mt.Loadable&&this._readyState!==mt.Installed)throw new Fn;if(this.readyState===mt.Loadable&&go()){const s=encodeURIComponent(window.location.href),i=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${s}?ref=${i}`;return}let t;try{t=(await Sl(async()=>{const{default:s}=await import("./index-BP1bu3YT.js");return{default:s}},__vite__mapDeps([2,1]))).default}catch(s){throw new Hg(s?.message,s)}let e;try{e=new t({network:this._config.network})}catch(s){throw new wr(s?.message,s)}if(this._connecting=!0,!e.connected)try{await e.connect()}catch(s){throw new zn(s?.message,s)}if(!e.publicKey)throw new zn;let n;try{n=new at(e.publicKey.toBytes())}catch(s){throw new Ar(s?.message,s)}e.on("disconnect",this._disconnected),e.on("accountChanged",this._accountChanged),this._wallet=e,this._publicKey=n,this.emit("connect",n)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const t=this._wallet;if(t){t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await t.disconnect()}catch(e){this.emit("error",new ha(e?.message,e))}}this.emit("disconnect")}async sendTransaction(t,e,n={}){try{const s=this._wallet;if(!s)throw new te;try{const{signers:i,...o}=n;return xn(t)?i?.length&&t.sign(i):(t=await this.prepareTransaction(t,e,o),i?.length&&t.partialSign(...i)),o.preflightCommitment=o.preflightCommitment||e.commitment,await s.signAndSendTransaction(t,o)}catch(i){throw i instanceof xe?i:new Sn(i?.message,i)}}catch(s){throw this.emit("error",s),s}}async signTransaction(t){try{const e=this._wallet;if(!e)throw new te;try{return await e.signTransaction(t)||t}catch(n){throw new on(n?.message,n)}}catch(e){throw this.emit("error",e),e}}async signAllTransactions(t){try{const e=this._wallet;if(!e)throw new te;try{return await e.signAllTransactions(t)||t}catch(n){throw new on(n?.message,n)}}catch(e){throw this.emit("error",e),e}}async signMessage(t){try{const e=this._wallet;if(!e)throw new te;try{return await e.signMessage(t,"utf8")}catch(n){throw new Qi(n?.message,n)}}catch(e){throw this.emit("error",e),e}}}var Ma={exports:{}},Mr=typeof Reflect=="object"?Reflect:null,xc=Mr&&typeof Mr.apply=="function"?Mr.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)},Mi;Mr&&typeof Mr.ownKeys=="function"?Mi=Mr.ownKeys:Object.getOwnPropertySymbols?Mi=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Mi=function(t){return Object.getOwnPropertyNames(t)};function Lm(r){console&&console.warn&&console.warn(r)}var _l=Number.isNaN||function(t){return t!==t};function Dt(){Dt.init.call(this)}Ma.exports=Dt;Ma.exports.once=km;Dt.EventEmitter=Dt;Dt.prototype._events=void 0;Dt.prototype._eventsCount=0;Dt.prototype._maxListeners=void 0;var Ic=10;function is(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}Object.defineProperty(Dt,"defaultMaxListeners",{enumerable:!0,get:function(){return Ic},set:function(r){if(typeof r!="number"||r<0||_l(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");Ic=r}});Dt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Dt.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||_l(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function Al(r){return r._maxListeners===void 0?Dt.defaultMaxListeners:r._maxListeners}Dt.prototype.getMaxListeners=function(){return Al(this)};Dt.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var s=t==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[t];if(c===void 0)return!1;if(typeof c=="function")xc(c,this,e);else for(var p=c.length,f=kl(c,p),n=0;n<p;++n)xc(f[n],this,e);return!0};function Ll(r,t,e,n){var s,i,o;if(is(e),i=r._events,i===void 0?(i=r._events=Object.create(null),r._eventsCount=0):(i.newListener!==void 0&&(r.emit("newListener",t,e.listener?e.listener:e),i=r._events),o=i[t]),o===void 0)o=i[t]=e,++r._eventsCount;else if(typeof o=="function"?o=i[t]=n?[e,o]:[o,e]:n?o.unshift(e):o.push(e),s=Al(r),s>0&&o.length>s&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=r,a.type=t,a.count=o.length,Lm(a)}return r}Dt.prototype.addListener=function(t,e){return Ll(this,t,e,!1)};Dt.prototype.on=Dt.prototype.addListener;Dt.prototype.prependListener=function(t,e){return Ll(this,t,e,!0)};function Bm(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Bl(r,t,e){var n={fired:!1,wrapFn:void 0,target:r,type:t,listener:e},s=Bm.bind(n);return s.listener=e,n.wrapFn=s,s}Dt.prototype.once=function(t,e){return is(e),this.on(t,Bl(this,t,e)),this};Dt.prototype.prependOnceListener=function(t,e){return is(e),this.prependListener(t,Bl(this,t,e)),this};Dt.prototype.removeListener=function(t,e){var n,s,i,o,a;if(is(e),s=this._events,s===void 0)return this;if(n=s[t],n===void 0)return this;if(n===e||n.listener===e)--this._eventsCount===0?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,n.listener||e));else if(typeof n!="function"){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,i=o;break}if(i<0)return this;i===0?n.shift():Tm(n,i),n.length===1&&(s[t]=n[0]),s.removeListener!==void 0&&this.emit("removeListener",t,a||e)}return this};Dt.prototype.off=Dt.prototype.removeListener;Dt.prototype.removeAllListeners=function(t){var e,n,s;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var i=Object.keys(n),o;for(s=0;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=n[t],typeof e=="function")this.removeListener(t,e);else if(e!==void 0)for(s=e.length-1;s>=0;s--)this.removeListener(t,e[s]);return this};function Tl(r,t,e){var n=r._events;if(n===void 0)return[];var s=n[t];return s===void 0?[]:typeof s=="function"?e?[s.listener||s]:[s]:e?Nm(s):kl(s,s.length)}Dt.prototype.listeners=function(t){return Tl(this,t,!0)};Dt.prototype.rawListeners=function(t){return Tl(this,t,!1)};Dt.listenerCount=function(r,t){return typeof r.listenerCount=="function"?r.listenerCount(t):Nl.call(r,t)};Dt.prototype.listenerCount=Nl;function Nl(r){var t=this._events;if(t!==void 0){var e=t[r];if(typeof e=="function")return 1;if(e!==void 0)return e.length}return 0}Dt.prototype.eventNames=function(){return this._eventsCount>0?Mi(this._events):[]};function kl(r,t){for(var e=new Array(t),n=0;n<t;++n)e[n]=r[n];return e}function Tm(r,t){for(;t+1<r.length;t++)r[t]=r[t+1];r.pop()}function Nm(r){for(var t=new Array(r.length),e=0;e<t.length;++e)t[e]=r[e].listener||r[e];return t}function km(r,t){return new Promise(function(e,n){function s(o){r.removeListener(t,i),n(o)}function i(){typeof r.removeListener=="function"&&r.removeListener("error",s),e([].slice.call(arguments))}Cl(r,t,i,{once:!0}),t!=="error"&&Cm(r,s,{once:!0})})}function Cm(r,t,e){typeof r.on=="function"&&Cl(r,"error",t,e)}function Cl(r,t,e,n){if(typeof r.on=="function")n.once?r.once(t,e):r.on(t,e);else if(typeof r.addEventListener=="function")r.addEventListener(t,function s(i){n.once&&r.removeEventListener(t,s),e(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r)}var Hm=Ma.exports;export{ye as B,Pm as C,Km as P,qm as S,sn as T,Vr as V,Fm as W,Sl as _,Wm as a,at as b,Um as c,zp as d,$m as e,Hm as f,En as g,Ee as h,dr as i,Hu as u};
//# sourceMappingURL=solana-vendor-CxV9v-mL.js.map
